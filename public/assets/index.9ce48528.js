var HF=Object.defineProperty,GF=Object.defineProperties;var jF=Object.getOwnPropertyDescriptors;var Sv=Object.getOwnPropertySymbols;var kE=Object.prototype.hasOwnProperty,IE=Object.prototype.propertyIsEnumerable;var BE=(n,e,t)=>e in n?HF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bt=(n,e)=>{for(var t in e||(e={}))kE.call(e,t)&&BE(n,t,e[t]);if(Sv)for(var t of Sv(e))IE.call(e,t)&&BE(n,t,e[t]);return n},Bn=(n,e)=>GF(n,jF(e));var Os=(n,e)=>{var t={};for(var r in n)kE.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Sv)for(var r of Sv(n))e.indexOf(r)<0&&IE.call(n,r)&&(t[r]=n[r]);return t};const WF=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}};WF();var Z={exports:{}},In={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1=Symbol.for("react.element"),VF=Symbol.for("react.portal"),qF=Symbol.for("react.fragment"),YF=Symbol.for("react.strict_mode"),JF=Symbol.for("react.profiler"),XF=Symbol.for("react.provider"),$F=Symbol.for("react.context"),KF=Symbol.for("react.forward_ref"),QF=Symbol.for("react.suspense"),ZF=Symbol.for("react.memo"),e6=Symbol.for("react.lazy"),NE=Symbol.iterator;function t6(n){return n===null||typeof n!="object"?null:(n=NE&&n[NE]||n["@@iterator"],typeof n=="function"?n:null)}var cR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fR=Object.assign,hR={};function ng(n,e,t){this.props=n,this.context=e,this.refs=hR,this.updater=t||cR}ng.prototype.isReactComponent={};ng.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ng.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function dR(){}dR.prototype=ng.prototype;function PA(n,e,t){this.props=n,this.context=e,this.refs=hR,this.updater=t||cR}var BA=PA.prototype=new dR;BA.constructor=PA;fR(BA,ng.prototype);BA.isPureReactComponent=!0;var DE=Array.isArray,pR=Object.prototype.hasOwnProperty,kA={current:null},mR={key:!0,ref:!0,__self:!0,__source:!0};function gR(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pR.call(e,r)&&!mR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:N1,type:n,key:s,ref:o,props:i,_owner:kA.current}}function n6(n,e){return{$$typeof:N1,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function IA(n){return typeof n=="object"&&n!==null&&n.$$typeof===N1}function r6(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var FE=/\/+/g;function p_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?r6(""+n.key):e.toString(36)}function Xy(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case N1:case VF:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+p_(o,0):r,DE(i)?(t="",n!=null&&(t=n.replace(FE,"$&/")+"/"),Xy(i,e,t,"",function(u){return u})):i!=null&&(IA(i)&&(i=n6(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(FE,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",DE(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+p_(s,a);o+=Xy(s,e,t,l,i)}else if(l=t6(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+p_(s,a++),o+=Xy(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Av(n,e,t){if(n==null)return n;var r=[],i=0;return Xy(n,r,"","",function(s){return e.call(t,s,i++)}),r}function i6(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var yo={current:null},$y={transition:null},s6={ReactCurrentDispatcher:yo,ReactCurrentBatchConfig:$y,ReactCurrentOwner:kA};In.Children={map:Av,forEach:function(n,e,t){Av(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Av(n,function(){e++}),e},toArray:function(n){return Av(n,function(e){return e})||[]},only:function(n){if(!IA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};In.Component=ng;In.Fragment=qF;In.Profiler=JF;In.PureComponent=PA;In.StrictMode=YF;In.Suspense=QF;In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s6;In.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=fR({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=kA.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)pR.call(e,l)&&!mR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:N1,type:n.type,key:i,ref:s,props:r,_owner:o}};In.createContext=function(n){return n={$$typeof:$F,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:XF,_context:n},n.Consumer=n};In.createElement=gR;In.createFactory=function(n){var e=gR.bind(null,n);return e.type=n,e};In.createRef=function(){return{current:null}};In.forwardRef=function(n){return{$$typeof:KF,render:n}};In.isValidElement=IA;In.lazy=function(n){return{$$typeof:e6,_payload:{_status:-1,_result:n},_init:i6}};In.memo=function(n,e){return{$$typeof:ZF,type:n,compare:e===void 0?null:e}};In.startTransition=function(n){var e=$y.transition;$y.transition={};try{n()}finally{$y.transition=e}};In.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};In.useCallback=function(n,e){return yo.current.useCallback(n,e)};In.useContext=function(n){return yo.current.useContext(n)};In.useDebugValue=function(){};In.useDeferredValue=function(n){return yo.current.useDeferredValue(n)};In.useEffect=function(n,e){return yo.current.useEffect(n,e)};In.useId=function(){return yo.current.useId()};In.useImperativeHandle=function(n,e,t){return yo.current.useImperativeHandle(n,e,t)};In.useInsertionEffect=function(n,e){return yo.current.useInsertionEffect(n,e)};In.useLayoutEffect=function(n,e){return yo.current.useLayoutEffect(n,e)};In.useMemo=function(n,e){return yo.current.useMemo(n,e)};In.useReducer=function(n,e,t){return yo.current.useReducer(n,e,t)};In.useRef=function(n){return yo.current.useRef(n)};In.useState=function(n){return yo.current.useState(n)};In.useSyncExternalStore=function(n,e,t){return yo.current.useSyncExternalStore(n,e,t)};In.useTransition=function(){return yo.current.useTransition()};In.version="18.2.0";Z.exports=In;var D1=Z.exports,f5={},vR={exports:{}},fa={},yR={exports:{}},xR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,X){var ie=F.length;F.push(X);e:for(;0<ie;){var ve=ie-1>>>1,N=F[ve];if(0<i(N,X))F[ve]=X,F[ie]=N,ie=ve;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var X=F[0],ie=F.pop();if(ie!==X){F[0]=ie;e:for(var ve=0,N=F.length,V=N>>>1;ve<V;){var Q=2*(ve+1)-1,ue=F[Q],j=Q+1,we=F[j];if(0>i(ue,ie))j<N&&0>i(we,ue)?(F[ve]=we,F[j]=ie,ve=j):(F[ve]=ue,F[Q]=ie,ve=Q);else if(j<N&&0>i(we,ie))F[ve]=we,F[j]=ie,ve=j;else break e}}return X}function i(F,X){var ie=F.sortIndex-X.sortIndex;return ie!==0?ie:F.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,p=3,m=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var X=t(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=F)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function C(F){if(g=!1,A(F),!y)if(t(l)!==null)y=!0,re(T);else{var X=t(u);X!==null&&le(C,X.startTime-F)}}function T(F,X){y=!1,g&&(g=!1,w(B),B=-1),m=!0;var ie=p;try{for(A(X),h=t(l);h!==null&&(!(h.expirationTime>X)||F&&!L());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,p=h.priorityLevel;var N=ve(h.expirationTime<=X);X=n.unstable_now(),typeof N=="function"?h.callback=N:h===t(l)&&r(l),A(X)}else r(l);h=t(l)}if(h!==null)var V=!0;else{var Q=t(u);Q!==null&&le(C,Q.startTime-X),V=!1}return V}finally{h=null,p=ie,m=!1}}var D=!1,I=null,B=-1,W=5,G=-1;function L(){return!(n.unstable_now()-G<W)}function P(){if(I!==null){var F=n.unstable_now();G=F;var X=!0;try{X=I(!0,F)}finally{X?q():(D=!1,I=null)}}else D=!1}var q;if(typeof _=="function")q=function(){_(P)};else if(typeof MessageChannel!="undefined"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=P,q=function(){ne.postMessage(null)}}else q=function(){x(P,0)};function re(F){I=F,D||(D=!0,q())}function le(F,X){B=x(function(){F(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,re(T))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var ie=p;p=X;try{return F()}finally{p=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=p;p=F;try{return X()}finally{p=ie}},n.unstable_scheduleCallback=function(F,X,ie){var ve=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ve+ie:ve):ie=ve,F){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ie+N,F={id:c++,callback:X,priorityLevel:F,startTime:ie,expirationTime:N,sortIndex:-1},ie>ve?(F.sortIndex=ie,e(u,F),t(l)===null&&F===t(u)&&(g?(w(B),B=-1):g=!0,le(C,ie-ve))):(F.sortIndex=N,e(l,F),y||m||(y=!0,re(T))),F},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(F){var X=p;return function(){var ie=p;p=X;try{return F.apply(this,arguments)}finally{p=ie}}}})(xR);yR.exports=xR;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR=Z.exports,aa=yR.exports;function vt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _R=new Set,X0={};function Pd(n,e){bm(n,e),bm(n+"Capture",e)}function bm(n,e){for(X0[n]=e,n=0;n<e.length;n++)_R.add(e[n])}var mc=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h5=Object.prototype.hasOwnProperty,o6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OE={},UE={};function a6(n){return h5.call(UE,n)?!0:h5.call(OE,n)?!1:o6.test(n)?UE[n]=!0:(OE[n]=!0,!1)}function l6(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function u6(n,e,t,r){if(e===null||typeof e=="undefined"||l6(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xo(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ms={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ms[n]=new xo(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ms[e]=new xo(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ms[n]=new xo(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ms[n]=new xo(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ms[n]=new xo(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ms[n]=new xo(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ms[n]=new xo(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ms[n]=new xo(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ms[n]=new xo(n,5,!1,n.toLowerCase(),null,!1,!1)});var NA=/[\-:]([a-z])/g;function DA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(NA,DA);Ms[e]=new xo(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(NA,DA);Ms[e]=new xo(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(NA,DA);Ms[e]=new xo(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ms[n]=new xo(n,1,!1,n.toLowerCase(),null,!1,!1)});Ms.xlinkHref=new xo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ms[n]=new xo(n,1,!1,n.toLowerCase(),null,!0,!0)});function FA(n,e,t,r){var i=Ms.hasOwnProperty(e)?Ms[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(u6(e,t,i,r)&&(t=null),r||i===null?a6(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Sc=wR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mv=Symbol.for("react.element"),zp=Symbol.for("react.portal"),Hp=Symbol.for("react.fragment"),OA=Symbol.for("react.strict_mode"),d5=Symbol.for("react.profiler"),bR=Symbol.for("react.provider"),SR=Symbol.for("react.context"),UA=Symbol.for("react.forward_ref"),p5=Symbol.for("react.suspense"),m5=Symbol.for("react.suspense_list"),zA=Symbol.for("react.memo"),xf=Symbol.for("react.lazy"),AR=Symbol.for("react.offscreen"),zE=Symbol.iterator;function $g(n){return n===null||typeof n!="object"?null:(n=zE&&n[zE]||n["@@iterator"],typeof n=="function"?n:null)}var Kr=Object.assign,m_;function M0(n){if(m_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);m_=e&&e[1]||""}return`
`+m_+n}var g_=!1;function v_(n,e){if(!n||g_)return"";g_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{g_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?M0(n):""}function c6(n){switch(n.tag){case 5:return M0(n.type);case 16:return M0("Lazy");case 13:return M0("Suspense");case 19:return M0("SuspenseList");case 0:case 2:case 15:return n=v_(n.type,!1),n;case 11:return n=v_(n.type.render,!1),n;case 1:return n=v_(n.type,!0),n;default:return""}}function g5(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Hp:return"Fragment";case zp:return"Portal";case d5:return"Profiler";case OA:return"StrictMode";case p5:return"Suspense";case m5:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case SR:return(n.displayName||"Context")+".Consumer";case bR:return(n._context.displayName||"Context")+".Provider";case UA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case zA:return e=n.displayName||null,e!==null?e:g5(n.type)||"Memo";case xf:e=n._payload,n=n._init;try{return g5(n(e))}catch{}}return null}function f6(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g5(e);case 8:return e===OA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vf(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function MR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h6(n){var e=MR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ev(n){n._valueTracker||(n._valueTracker=h6(n))}function ER(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=MR(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Lx(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function v5(n,e){var t=e.checked;return Kr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function HE(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Vf(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CR(n,e){e=e.checked,e!=null&&FA(n,"checked",e,!1)}function y5(n,e){CR(n,e);var t=Vf(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?x5(n,e.type,t):e.hasOwnProperty("defaultValue")&&x5(n,e.type,Vf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function GE(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function x5(n,e,t){(e!=="number"||Lx(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var E0=Array.isArray;function om(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Vf(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function w5(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(vt(91));return Kr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function jE(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(vt(92));if(E0(t)){if(1<t.length)throw Error(vt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Vf(t)}}function TR(n,e){var t=Vf(e.value),r=Vf(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function WE(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function LR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _5(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?LR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Cv,RR=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Cv=Cv||document.createElement("div"),Cv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function $0(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var B0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d6=["Webkit","ms","Moz","O"];Object.keys(B0).forEach(function(n){d6.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),B0[e]=B0[n]})});function PR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||B0.hasOwnProperty(n)&&B0[n]?(""+e).trim():e+"px"}function BR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=PR(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var p6=Kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b5(n,e){if(e){if(p6[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(vt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(vt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(vt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(vt(62))}}function S5(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A5=null;function HA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var M5=null,am=null,lm=null;function VE(n){if(n=U1(n)){if(typeof M5!="function")throw Error(vt(280));var e=n.stateNode;e&&(e=w2(e),M5(n.stateNode,n.type,e))}}function kR(n){am?lm?lm.push(n):lm=[n]:am=n}function IR(){if(am){var n=am,e=lm;if(lm=am=null,VE(n),e)for(n=0;n<e.length;n++)VE(e[n])}}function NR(n,e){return n(e)}function DR(){}var y_=!1;function FR(n,e,t){if(y_)return n(e,t);y_=!0;try{return NR(n,e,t)}finally{y_=!1,(am!==null||lm!==null)&&(DR(),IR())}}function K0(n,e){var t=n.stateNode;if(t===null)return null;var r=w2(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(vt(231,e,typeof t));return t}var E5=!1;if(mc)try{var Kg={};Object.defineProperty(Kg,"passive",{get:function(){E5=!0}}),window.addEventListener("test",Kg,Kg),window.removeEventListener("test",Kg,Kg)}catch{E5=!1}function m6(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var k0=!1,Rx=null,Px=!1,C5=null,g6={onError:function(n){k0=!0,Rx=n}};function v6(n,e,t,r,i,s,o,a,l){k0=!1,Rx=null,m6.apply(g6,arguments)}function y6(n,e,t,r,i,s,o,a,l){if(v6.apply(this,arguments),k0){if(k0){var u=Rx;k0=!1,Rx=null}else throw Error(vt(198));Px||(Px=!0,C5=u)}}function Bd(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function OR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function qE(n){if(Bd(n)!==n)throw Error(vt(188))}function x6(n){var e=n.alternate;if(!e){if(e=Bd(n),e===null)throw Error(vt(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return qE(i),n;if(s===r)return qE(i),e;s=s.sibling}throw Error(vt(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(vt(189))}}if(t.alternate!==r)throw Error(vt(190))}if(t.tag!==3)throw Error(vt(188));return t.stateNode.current===t?n:e}function UR(n){return n=x6(n),n!==null?zR(n):null}function zR(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=zR(n);if(e!==null)return e;n=n.sibling}return null}var HR=aa.unstable_scheduleCallback,YE=aa.unstable_cancelCallback,w6=aa.unstable_shouldYield,_6=aa.unstable_requestPaint,fi=aa.unstable_now,b6=aa.unstable_getCurrentPriorityLevel,GA=aa.unstable_ImmediatePriority,GR=aa.unstable_UserBlockingPriority,Bx=aa.unstable_NormalPriority,S6=aa.unstable_LowPriority,jR=aa.unstable_IdlePriority,g2=null,fu=null;function A6(n){if(fu&&typeof fu.onCommitFiberRoot=="function")try{fu.onCommitFiberRoot(g2,n,void 0,(n.current.flags&128)===128)}catch{}}var Bl=Math.clz32?Math.clz32:C6,M6=Math.log,E6=Math.LN2;function C6(n){return n>>>=0,n===0?32:31-(M6(n)/E6|0)|0}var Tv=64,Lv=4194304;function C0(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function kx(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=C0(a):(s&=o,s!==0&&(r=C0(s)))}else o=t&~i,o!==0?r=C0(o):s!==0&&(r=C0(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Bl(e),i=1<<t,r|=n[t],e&=~i;return r}function T6(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L6(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Bl(s),a=1<<o,l=i[o];l===-1?((a&t)===0||(a&r)!==0)&&(i[o]=T6(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function T5(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function WR(){var n=Tv;return Tv<<=1,(Tv&4194240)===0&&(Tv=64),n}function x_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function F1(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Bl(e),n[e]=t}function R6(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Bl(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function jA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Bl(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var fr=0;function VR(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var qR,WA,YR,JR,XR,L5=!1,Rv=[],kf=null,If=null,Nf=null,Q0=new Map,Z0=new Map,bf=[],P6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JE(n,e){switch(n){case"focusin":case"focusout":kf=null;break;case"dragenter":case"dragleave":If=null;break;case"mouseover":case"mouseout":Nf=null;break;case"pointerover":case"pointerout":Q0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Z0.delete(e.pointerId)}}function Qg(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=U1(e),e!==null&&WA(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function B6(n,e,t,r,i){switch(e){case"focusin":return kf=Qg(kf,n,e,t,r,i),!0;case"dragenter":return If=Qg(If,n,e,t,r,i),!0;case"mouseover":return Nf=Qg(Nf,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Q0.set(s,Qg(Q0.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Z0.set(s,Qg(Z0.get(s)||null,n,e,t,r,i)),!0}return!1}function $R(n){var e=$h(n.target);if(e!==null){var t=Bd(e);if(t!==null){if(e=t.tag,e===13){if(e=OR(t),e!==null){n.blockedOn=e,XR(n.priority,function(){YR(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ky(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=R5(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);A5=r,t.target.dispatchEvent(r),A5=null}else return e=U1(t),e!==null&&WA(e),n.blockedOn=t,!1;e.shift()}return!0}function XE(n,e,t){Ky(n)&&t.delete(e)}function k6(){L5=!1,kf!==null&&Ky(kf)&&(kf=null),If!==null&&Ky(If)&&(If=null),Nf!==null&&Ky(Nf)&&(Nf=null),Q0.forEach(XE),Z0.forEach(XE)}function Zg(n,e){n.blockedOn===e&&(n.blockedOn=null,L5||(L5=!0,aa.unstable_scheduleCallback(aa.unstable_NormalPriority,k6)))}function e1(n){function e(i){return Zg(i,n)}if(0<Rv.length){Zg(Rv[0],n);for(var t=1;t<Rv.length;t++){var r=Rv[t];r.blockedOn===n&&(r.blockedOn=null)}}for(kf!==null&&Zg(kf,n),If!==null&&Zg(If,n),Nf!==null&&Zg(Nf,n),Q0.forEach(e),Z0.forEach(e),t=0;t<bf.length;t++)r=bf[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<bf.length&&(t=bf[0],t.blockedOn===null);)$R(t),t.blockedOn===null&&bf.shift()}var um=Sc.ReactCurrentBatchConfig,Ix=!0;function I6(n,e,t,r){var i=fr,s=um.transition;um.transition=null;try{fr=1,VA(n,e,t,r)}finally{fr=i,um.transition=s}}function N6(n,e,t,r){var i=fr,s=um.transition;um.transition=null;try{fr=4,VA(n,e,t,r)}finally{fr=i,um.transition=s}}function VA(n,e,t,r){if(Ix){var i=R5(n,e,t,r);if(i===null)L_(n,e,r,Nx,t),JE(n,r);else if(B6(i,n,e,t,r))r.stopPropagation();else if(JE(n,r),e&4&&-1<P6.indexOf(n)){for(;i!==null;){var s=U1(i);if(s!==null&&qR(s),s=R5(n,e,t,r),s===null&&L_(n,e,r,Nx,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else L_(n,e,r,null,t)}}var Nx=null;function R5(n,e,t,r){if(Nx=null,n=HA(r),n=$h(n),n!==null)if(e=Bd(n),e===null)n=null;else if(t=e.tag,t===13){if(n=OR(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Nx=n,null}function KR(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b6()){case GA:return 1;case GR:return 4;case Bx:case S6:return 16;case jR:return 536870912;default:return 16}default:return 16}}var Mf=null,qA=null,Qy=null;function QR(){if(Qy)return Qy;var n,e=qA,t=e.length,r,i="value"in Mf?Mf.value:Mf.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Qy=i.slice(n,1<r?1-r:void 0)}function Zy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Pv(){return!0}function $E(){return!1}function ha(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pv:$E,this.isPropagationStopped=$E,this}return Kr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Pv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Pv)},persist:function(){},isPersistent:Pv}),e}var rg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},YA=ha(rg),O1=Kr({},rg,{view:0,detail:0}),D6=ha(O1),w_,__,e0,v2=Kr({},O1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==e0&&(e0&&n.type==="mousemove"?(w_=n.screenX-e0.screenX,__=n.screenY-e0.screenY):__=w_=0,e0=n),w_)},movementY:function(n){return"movementY"in n?n.movementY:__}}),KE=ha(v2),F6=Kr({},v2,{dataTransfer:0}),O6=ha(F6),U6=Kr({},O1,{relatedTarget:0}),b_=ha(U6),z6=Kr({},rg,{animationName:0,elapsedTime:0,pseudoElement:0}),H6=ha(z6),G6=Kr({},rg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),j6=ha(G6),W6=Kr({},rg,{data:0}),QE=ha(W6),V6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J6(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Y6[n])?!!e[n]:!1}function JA(){return J6}var X6=Kr({},O1,{key:function(n){if(n.key){var e=V6[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Zy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?q6[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JA,charCode:function(n){return n.type==="keypress"?Zy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$6=ha(X6),K6=Kr({},v2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZE=ha(K6),Q6=Kr({},O1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JA}),Z6=ha(Q6),eO=Kr({},rg,{propertyName:0,elapsedTime:0,pseudoElement:0}),tO=ha(eO),nO=Kr({},v2,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),rO=ha(nO),iO=[9,13,27,32],XA=mc&&"CompositionEvent"in window,I0=null;mc&&"documentMode"in document&&(I0=document.documentMode);var sO=mc&&"TextEvent"in window&&!I0,ZR=mc&&(!XA||I0&&8<I0&&11>=I0),eC=String.fromCharCode(32),tC=!1;function eP(n,e){switch(n){case"keyup":return iO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tP(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gp=!1;function oO(n,e){switch(n){case"compositionend":return tP(e);case"keypress":return e.which!==32?null:(tC=!0,eC);case"textInput":return n=e.data,n===eC&&tC?null:n;default:return null}}function aO(n,e){if(Gp)return n==="compositionend"||!XA&&eP(n,e)?(n=QR(),Qy=qA=Mf=null,Gp=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZR&&e.locale!=="ko"?null:e.data;default:return null}}var lO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!lO[n.type]:e==="textarea"}function nP(n,e,t,r){kR(r),e=Dx(e,"onChange"),0<e.length&&(t=new YA("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var N0=null,t1=null;function uO(n){dP(n,0)}function y2(n){var e=Vp(n);if(ER(e))return n}function cO(n,e){if(n==="change")return e}var rP=!1;if(mc){var S_;if(mc){var A_="oninput"in document;if(!A_){var rC=document.createElement("div");rC.setAttribute("oninput","return;"),A_=typeof rC.oninput=="function"}S_=A_}else S_=!1;rP=S_&&(!document.documentMode||9<document.documentMode)}function iC(){N0&&(N0.detachEvent("onpropertychange",iP),t1=N0=null)}function iP(n){if(n.propertyName==="value"&&y2(t1)){var e=[];nP(e,t1,n,HA(n)),FR(uO,e)}}function fO(n,e,t){n==="focusin"?(iC(),N0=e,t1=t,N0.attachEvent("onpropertychange",iP)):n==="focusout"&&iC()}function hO(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return y2(t1)}function dO(n,e){if(n==="click")return y2(e)}function pO(n,e){if(n==="input"||n==="change")return y2(e)}function mO(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Dl=typeof Object.is=="function"?Object.is:mO;function n1(n,e){if(Dl(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!h5.call(e,i)||!Dl(n[i],e[i]))return!1}return!0}function sC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oC(n,e){var t=sC(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=sC(t)}}function sP(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?sP(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function oP(){for(var n=window,e=Lx();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Lx(n.document)}return e}function $A(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function gO(n){var e=oP(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&sP(t.ownerDocument.documentElement,t)){if(r!==null&&$A(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=oC(t,s);var o=oC(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var vO=mc&&"documentMode"in document&&11>=document.documentMode,jp=null,P5=null,D0=null,B5=!1;function aC(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;B5||jp==null||jp!==Lx(r)||(r=jp,"selectionStart"in r&&$A(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),D0&&n1(D0,r)||(D0=r,r=Dx(P5,"onSelect"),0<r.length&&(e=new YA("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=jp)))}function Bv(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Wp={animationend:Bv("Animation","AnimationEnd"),animationiteration:Bv("Animation","AnimationIteration"),animationstart:Bv("Animation","AnimationStart"),transitionend:Bv("Transition","TransitionEnd")},M_={},aP={};mc&&(aP=document.createElement("div").style,"AnimationEvent"in window||(delete Wp.animationend.animation,delete Wp.animationiteration.animation,delete Wp.animationstart.animation),"TransitionEvent"in window||delete Wp.transitionend.transition);function x2(n){if(M_[n])return M_[n];if(!Wp[n])return n;var e=Wp[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in aP)return M_[n]=e[t];return n}var lP=x2("animationend"),uP=x2("animationiteration"),cP=x2("animationstart"),fP=x2("transitionend"),hP=new Map,lC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rh(n,e){hP.set(n,e),Pd(e,[n])}for(var E_=0;E_<lC.length;E_++){var C_=lC[E_],yO=C_.toLowerCase(),xO=C_[0].toUpperCase()+C_.slice(1);rh(yO,"on"+xO)}rh(lP,"onAnimationEnd");rh(uP,"onAnimationIteration");rh(cP,"onAnimationStart");rh("dblclick","onDoubleClick");rh("focusin","onFocus");rh("focusout","onBlur");rh(fP,"onTransitionEnd");bm("onMouseEnter",["mouseout","mouseover"]);bm("onMouseLeave",["mouseout","mouseover"]);bm("onPointerEnter",["pointerout","pointerover"]);bm("onPointerLeave",["pointerout","pointerover"]);Pd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var T0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wO=new Set("cancel close invalid load scroll toggle".split(" ").concat(T0));function uC(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,y6(r,e,void 0,n),n.currentTarget=null}function dP(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;uC(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;uC(i,a,u),s=l}}}if(Px)throw n=C5,Px=!1,C5=null,n}function Mr(n,e){var t=e[F5];t===void 0&&(t=e[F5]=new Set);var r=n+"__bubble";t.has(r)||(pP(e,n,2,!1),t.add(r))}function T_(n,e,t){var r=0;e&&(r|=4),pP(t,n,r,e)}var kv="_reactListening"+Math.random().toString(36).slice(2);function r1(n){if(!n[kv]){n[kv]=!0,_R.forEach(function(t){t!=="selectionchange"&&(wO.has(t)||T_(t,!1,n),T_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[kv]||(e[kv]=!0,T_("selectionchange",!1,e))}}function pP(n,e,t,r){switch(KR(e)){case 1:var i=I6;break;case 4:i=N6;break;default:i=VA}t=i.bind(null,e,t,n),i=void 0,!E5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function L_(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$h(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FR(function(){var u=s,c=HA(t),h=[];e:{var p=hP.get(n);if(p!==void 0){var m=YA,y=n;switch(n){case"keypress":if(Zy(t)===0)break e;case"keydown":case"keyup":m=$6;break;case"focusin":y="focus",m=b_;break;case"focusout":y="blur",m=b_;break;case"beforeblur":case"afterblur":m=b_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=KE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=O6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Z6;break;case lP:case uP:case cP:m=H6;break;case fP:m=tO;break;case"scroll":m=D6;break;case"wheel":m=rO;break;case"copy":case"cut":case"paste":m=j6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ZE}var g=(e&4)!==0,x=!g&&n==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var _=u,A;_!==null;){A=_;var C=A.stateNode;if(A.tag===5&&C!==null&&(A=C,w!==null&&(C=K0(_,w),C!=null&&g.push(i1(_,C,A)))),x)break;_=_.return}0<g.length&&(p=new m(p,y,null,t,c),h.push({event:p,listeners:g}))}}if((e&7)===0){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==A5&&(y=t.relatedTarget||t.fromElement)&&($h(y)||y[gc]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=u,y=y?$h(y):null,y!==null&&(x=Bd(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=KE,C="onMouseLeave",w="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(g=ZE,C="onPointerLeave",w="onPointerEnter",_="pointer"),x=m==null?p:Vp(m),A=y==null?p:Vp(y),p=new g(C,_+"leave",m,t,c),p.target=x,p.relatedTarget=A,C=null,$h(c)===u&&(g=new g(w,_+"enter",y,t,c),g.target=A,g.relatedTarget=x,C=g),x=C,m&&y)t:{for(g=m,w=y,_=0,A=g;A;A=cp(A))_++;for(A=0,C=w;C;C=cp(C))A++;for(;0<_-A;)g=cp(g),_--;for(;0<A-_;)w=cp(w),A--;for(;_--;){if(g===w||w!==null&&g===w.alternate)break t;g=cp(g),w=cp(w)}g=null}else g=null;m!==null&&cC(h,p,m,g,!1),y!==null&&x!==null&&cC(h,x,y,g,!0)}}e:{if(p=u?Vp(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=cO;else if(nC(p))if(rP)T=pO;else{T=hO;var D=fO}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=dO);if(T&&(T=T(n,u))){nP(h,T,t,c);break e}D&&D(n,p,u),n==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&x5(p,"number",p.value)}switch(D=u?Vp(u):window,n){case"focusin":(nC(D)||D.contentEditable==="true")&&(jp=D,P5=u,D0=null);break;case"focusout":D0=P5=jp=null;break;case"mousedown":B5=!0;break;case"contextmenu":case"mouseup":case"dragend":B5=!1,aC(h,t,c);break;case"selectionchange":if(vO)break;case"keydown":case"keyup":aC(h,t,c)}var I;if(XA)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Gp?eP(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(ZR&&t.locale!=="ko"&&(Gp||B!=="onCompositionStart"?B==="onCompositionEnd"&&Gp&&(I=QR()):(Mf=c,qA="value"in Mf?Mf.value:Mf.textContent,Gp=!0)),D=Dx(u,B),0<D.length&&(B=new QE(B,n,null,t,c),h.push({event:B,listeners:D}),I?B.data=I:(I=tP(t),I!==null&&(B.data=I)))),(I=sO?oO(n,t):aO(n,t))&&(u=Dx(u,"onBeforeInput"),0<u.length&&(c=new QE("onBeforeInput","beforeinput",null,t,c),h.push({event:c,listeners:u}),c.data=I))}dP(h,e)})}function i1(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Dx(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=K0(n,t),s!=null&&r.unshift(i1(n,s,i)),s=K0(n,e),s!=null&&r.push(i1(n,s,i))),n=n.return}return r}function cp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cC(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=K0(t,s),l!=null&&o.unshift(i1(t,l,a))):i||(l=K0(t,s),l!=null&&o.push(i1(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var _O=/\r\n?/g,bO=/\u0000|\uFFFD/g;function fC(n){return(typeof n=="string"?n:""+n).replace(_O,`
`).replace(bO,"")}function Iv(n,e,t){if(e=fC(e),fC(n)!==e&&t)throw Error(vt(425))}function Fx(){}var k5=null,I5=null;function N5(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var D5=typeof setTimeout=="function"?setTimeout:void 0,SO=typeof clearTimeout=="function"?clearTimeout:void 0,hC=typeof Promise=="function"?Promise:void 0,AO=typeof queueMicrotask=="function"?queueMicrotask:typeof hC!="undefined"?function(n){return hC.resolve(null).then(n).catch(MO)}:D5;function MO(n){setTimeout(function(){throw n})}function R_(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),e1(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);e1(e)}function Df(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function dC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ig=Math.random().toString(36).slice(2),lu="__reactFiber$"+ig,s1="__reactProps$"+ig,gc="__reactContainer$"+ig,F5="__reactEvents$"+ig,EO="__reactListeners$"+ig,CO="__reactHandles$"+ig;function $h(n){var e=n[lu];if(e)return e;for(var t=n.parentNode;t;){if(e=t[gc]||t[lu]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=dC(n);n!==null;){if(t=n[lu])return t;n=dC(n)}return e}n=t,t=n.parentNode}return null}function U1(n){return n=n[lu]||n[gc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Vp(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(vt(33))}function w2(n){return n[s1]||null}var O5=[],qp=-1;function ih(n){return{current:n}}function Tr(n){0>qp||(n.current=O5[qp],O5[qp]=null,qp--)}function Sr(n,e){qp++,O5[qp]=n.current,n.current=e}var qf={},Xs=ih(qf),No=ih(!1),gd=qf;function Sm(n,e){var t=n.type.contextTypes;if(!t)return qf;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Do(n){return n=n.childContextTypes,n!=null}function Ox(){Tr(No),Tr(Xs)}function pC(n,e,t){if(Xs.current!==qf)throw Error(vt(168));Sr(Xs,e),Sr(No,t)}function mP(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(vt(108,f6(n)||"Unknown",i));return Kr({},t,r)}function Ux(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qf,gd=Xs.current,Sr(Xs,n),Sr(No,No.current),!0}function mC(n,e,t){var r=n.stateNode;if(!r)throw Error(vt(169));t?(n=mP(n,e,gd),r.__reactInternalMemoizedMergedChildContext=n,Tr(No),Tr(Xs),Sr(Xs,n)):Tr(No),Sr(No,t)}var rc=null,_2=!1,P_=!1;function gP(n){rc===null?rc=[n]:rc.push(n)}function TO(n){_2=!0,gP(n)}function sh(){if(!P_&&rc!==null){P_=!0;var n=0,e=fr;try{var t=rc;for(fr=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}rc=null,_2=!1}catch(i){throw rc!==null&&(rc=rc.slice(n+1)),HR(GA,sh),i}finally{fr=e,P_=!1}}return null}var Yp=[],Jp=0,zx=null,Hx=0,Oa=[],Ua=0,vd=null,oc=1,ac="";function Uh(n,e){Yp[Jp++]=Hx,Yp[Jp++]=zx,zx=n,Hx=e}function vP(n,e,t){Oa[Ua++]=oc,Oa[Ua++]=ac,Oa[Ua++]=vd,vd=n;var r=oc;n=ac;var i=32-Bl(r)-1;r&=~(1<<i),t+=1;var s=32-Bl(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,oc=1<<32-Bl(e)+i|t<<i|r,ac=s+n}else oc=1<<s|t<<i|r,ac=n}function KA(n){n.return!==null&&(Uh(n,1),vP(n,1,0))}function QA(n){for(;n===zx;)zx=Yp[--Jp],Yp[Jp]=null,Hx=Yp[--Jp],Yp[Jp]=null;for(;n===vd;)vd=Oa[--Ua],Oa[Ua]=null,ac=Oa[--Ua],Oa[Ua]=null,oc=Oa[--Ua],Oa[Ua]=null}var sa=null,ra=null,Dr=!1,Tl=null;function yP(n,e){var t=Ha(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function gC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,sa=n,ra=Df(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,sa=n,ra=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=vd!==null?{id:oc,overflow:ac}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ha(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,sa=n,ra=null,!0):!1;default:return!1}}function U5(n){return(n.mode&1)!==0&&(n.flags&128)===0}function z5(n){if(Dr){var e=ra;if(e){var t=e;if(!gC(n,e)){if(U5(n))throw Error(vt(418));e=Df(t.nextSibling);var r=sa;e&&gC(n,e)?yP(r,t):(n.flags=n.flags&-4097|2,Dr=!1,sa=n)}}else{if(U5(n))throw Error(vt(418));n.flags=n.flags&-4097|2,Dr=!1,sa=n}}}function vC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sa=n}function Nv(n){if(n!==sa)return!1;if(!Dr)return vC(n),Dr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!N5(n.type,n.memoizedProps)),e&&(e=ra)){if(U5(n))throw xP(),Error(vt(418));for(;e;)yP(n,e),e=Df(e.nextSibling)}if(vC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(vt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ra=Df(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ra=null}}else ra=sa?Df(n.stateNode.nextSibling):null;return!0}function xP(){for(var n=ra;n;)n=Df(n.nextSibling)}function Am(){ra=sa=null,Dr=!1}function ZA(n){Tl===null?Tl=[n]:Tl.push(n)}var LO=Sc.ReactCurrentBatchConfig;function Ml(n,e){if(n&&n.defaultProps){e=Kr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Gx=ih(null),jx=null,Xp=null,eM=null;function tM(){eM=Xp=jx=null}function nM(n){var e=Gx.current;Tr(Gx),n._currentValue=e}function H5(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function fm(n,e){jx=n,eM=Xp=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(ko=!0),n.firstContext=null)}function Ja(n){var e=n._currentValue;if(eM!==n)if(n={context:n,memoizedValue:e,next:null},Xp===null){if(jx===null)throw Error(vt(308));Xp=n,jx.dependencies={lanes:0,firstContext:n}}else Xp=Xp.next=n;return e}var Kh=null;function rM(n){Kh===null?Kh=[n]:Kh.push(n)}function wP(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,rM(e)):(t.next=i.next,i.next=t),e.interleaved=t,vc(n,r)}function vc(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wf=!1;function iM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _P(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function hc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ff(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(Wn&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vc(n,t)}return i=r.interleaved,i===null?(e.next=e,rM(r)):(e.next=i.next,i.next=e),r.interleaved=e,vc(n,t)}function ex(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,jA(n,t)}}function yC(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Wx(n,e,t,r){var i=n.updateQueue;wf=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(p=e,m=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=Kr({},h,p);break e;case 2:wf=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xd|=o,n.lanes=o,n.memoizedState=h}}function xC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(vt(191,i));i.call(r)}}}var bP=new wR.Component().refs;function G5(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Kr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var b2={isMounted:function(n){return(n=n._reactInternals)?Bd(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=po(),i=Uf(n),s=hc(r,i);s.payload=e,t!=null&&(s.callback=t),e=Ff(n,s,i),e!==null&&(kl(e,n,i,r),ex(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=po(),i=Uf(n),s=hc(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ff(n,s,i),e!==null&&(kl(e,n,i,r),ex(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=po(),r=Uf(n),i=hc(t,r);i.tag=2,e!=null&&(i.callback=e),e=Ff(n,i,r),e!==null&&(kl(e,n,r,t),ex(e,n,r))}};function wC(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!n1(t,r)||!n1(i,s):!0}function SP(n,e,t){var r=!1,i=qf,s=e.contextType;return typeof s=="object"&&s!==null?s=Ja(s):(i=Do(e)?gd:Xs.current,r=e.contextTypes,s=(r=r!=null)?Sm(n,i):qf),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=b2,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function _C(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&b2.enqueueReplaceState(e,e.state,null)}function j5(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=bP,iM(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ja(s):(s=Do(e)?gd:Xs.current,i.context=Sm(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(G5(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&b2.enqueueReplaceState(i,i.state,null),Wx(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function t0(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(vt(309));var r=t.stateNode}if(!r)throw Error(vt(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===bP&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(vt(284));if(!t._owner)throw Error(vt(290,n))}return n}function Dv(n,e){throw n=Object.prototype.toString.call(e),Error(vt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function bC(n){var e=n._init;return e(n._payload)}function AP(n){function e(w,_){if(n){var A=w.deletions;A===null?(w.deletions=[_],w.flags|=16):A.push(_)}}function t(w,_){if(!n)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=zf(w,_),w.index=0,w.sibling=null,w}function s(w,_,A){return w.index=A,n?(A=w.alternate,A!==null?(A=A.index,A<_?(w.flags|=2,_):A):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,_,A,C){return _===null||_.tag!==6?(_=O_(A,w.mode,C),_.return=w,_):(_=i(_,A),_.return=w,_)}function l(w,_,A,C){var T=A.type;return T===Hp?c(w,_,A.props.children,C,A.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xf&&bC(T)===_.type)?(C=i(_,A.props),C.ref=t0(w,_,A),C.return=w,C):(C=ox(A.type,A.key,A.props,null,w.mode,C),C.ref=t0(w,_,A),C.return=w,C)}function u(w,_,A,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=U_(A,w.mode,C),_.return=w,_):(_=i(_,A.children||[]),_.return=w,_)}function c(w,_,A,C,T){return _===null||_.tag!==7?(_=sd(A,w.mode,C,T),_.return=w,_):(_=i(_,A),_.return=w,_)}function h(w,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=O_(""+_,w.mode,A),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Mv:return A=ox(_.type,_.key,_.props,null,w.mode,A),A.ref=t0(w,null,_),A.return=w,A;case zp:return _=U_(_,w.mode,A),_.return=w,_;case xf:var C=_._init;return h(w,C(_._payload),A)}if(E0(_)||$g(_))return _=sd(_,w.mode,A,null),_.return=w,_;Dv(w,_)}return null}function p(w,_,A,C){var T=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return T!==null?null:a(w,_,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Mv:return A.key===T?l(w,_,A,C):null;case zp:return A.key===T?u(w,_,A,C):null;case xf:return T=A._init,p(w,_,T(A._payload),C)}if(E0(A)||$g(A))return T!==null?null:c(w,_,A,C,null);Dv(w,A)}return null}function m(w,_,A,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(A)||null,a(_,w,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Mv:return w=w.get(C.key===null?A:C.key)||null,l(_,w,C,T);case zp:return w=w.get(C.key===null?A:C.key)||null,u(_,w,C,T);case xf:var D=C._init;return m(w,_,A,D(C._payload),T)}if(E0(C)||$g(C))return w=w.get(A)||null,c(_,w,C,T,null);Dv(_,C)}return null}function y(w,_,A,C){for(var T=null,D=null,I=_,B=_=0,W=null;I!==null&&B<A.length;B++){I.index>B?(W=I,I=null):W=I.sibling;var G=p(w,I,A[B],C);if(G===null){I===null&&(I=W);break}n&&I&&G.alternate===null&&e(w,I),_=s(G,_,B),D===null?T=G:D.sibling=G,D=G,I=W}if(B===A.length)return t(w,I),Dr&&Uh(w,B),T;if(I===null){for(;B<A.length;B++)I=h(w,A[B],C),I!==null&&(_=s(I,_,B),D===null?T=I:D.sibling=I,D=I);return Dr&&Uh(w,B),T}for(I=r(w,I);B<A.length;B++)W=m(I,w,B,A[B],C),W!==null&&(n&&W.alternate!==null&&I.delete(W.key===null?B:W.key),_=s(W,_,B),D===null?T=W:D.sibling=W,D=W);return n&&I.forEach(function(L){return e(w,L)}),Dr&&Uh(w,B),T}function g(w,_,A,C){var T=$g(A);if(typeof T!="function")throw Error(vt(150));if(A=T.call(A),A==null)throw Error(vt(151));for(var D=T=null,I=_,B=_=0,W=null,G=A.next();I!==null&&!G.done;B++,G=A.next()){I.index>B?(W=I,I=null):W=I.sibling;var L=p(w,I,G.value,C);if(L===null){I===null&&(I=W);break}n&&I&&L.alternate===null&&e(w,I),_=s(L,_,B),D===null?T=L:D.sibling=L,D=L,I=W}if(G.done)return t(w,I),Dr&&Uh(w,B),T;if(I===null){for(;!G.done;B++,G=A.next())G=h(w,G.value,C),G!==null&&(_=s(G,_,B),D===null?T=G:D.sibling=G,D=G);return Dr&&Uh(w,B),T}for(I=r(w,I);!G.done;B++,G=A.next())G=m(I,w,B,G.value,C),G!==null&&(n&&G.alternate!==null&&I.delete(G.key===null?B:G.key),_=s(G,_,B),D===null?T=G:D.sibling=G,D=G);return n&&I.forEach(function(P){return e(w,P)}),Dr&&Uh(w,B),T}function x(w,_,A,C){if(typeof A=="object"&&A!==null&&A.type===Hp&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Mv:e:{for(var T=A.key,D=_;D!==null;){if(D.key===T){if(T=A.type,T===Hp){if(D.tag===7){t(w,D.sibling),_=i(D,A.props.children),_.return=w,w=_;break e}}else if(D.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xf&&bC(T)===D.type){t(w,D.sibling),_=i(D,A.props),_.ref=t0(w,D,A),_.return=w,w=_;break e}t(w,D);break}else e(w,D);D=D.sibling}A.type===Hp?(_=sd(A.props.children,w.mode,C,A.key),_.return=w,w=_):(C=ox(A.type,A.key,A.props,null,w.mode,C),C.ref=t0(w,_,A),C.return=w,w=C)}return o(w);case zp:e:{for(D=A.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){t(w,_.sibling),_=i(_,A.children||[]),_.return=w,w=_;break e}else{t(w,_);break}else e(w,_);_=_.sibling}_=U_(A,w.mode,C),_.return=w,w=_}return o(w);case xf:return D=A._init,x(w,_,D(A._payload),C)}if(E0(A))return y(w,_,A,C);if($g(A))return g(w,_,A,C);Dv(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(t(w,_.sibling),_=i(_,A),_.return=w,w=_):(t(w,_),_=O_(A,w.mode,C),_.return=w,w=_),o(w)):t(w,_)}return x}var Mm=AP(!0),MP=AP(!1),z1={},hu=ih(z1),o1=ih(z1),a1=ih(z1);function Qh(n){if(n===z1)throw Error(vt(174));return n}function sM(n,e){switch(Sr(a1,e),Sr(o1,n),Sr(hu,z1),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_5(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=_5(e,n)}Tr(hu),Sr(hu,e)}function Em(){Tr(hu),Tr(o1),Tr(a1)}function EP(n){Qh(a1.current);var e=Qh(hu.current),t=_5(e,n.type);e!==t&&(Sr(o1,n),Sr(hu,t))}function oM(n){o1.current===n&&(Tr(hu),Tr(o1))}var Jr=ih(0);function Vx(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var B_=[];function aM(){for(var n=0;n<B_.length;n++)B_[n]._workInProgressVersionPrimary=null;B_.length=0}var tx=Sc.ReactCurrentDispatcher,k_=Sc.ReactCurrentBatchConfig,yd=0,$r=null,zi=null,ls=null,qx=!1,F0=!1,l1=0,RO=0;function Us(){throw Error(vt(321))}function lM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Dl(n[t],e[t]))return!1;return!0}function uM(n,e,t,r,i,s){if(yd=s,$r=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tx.current=n===null||n.memoizedState===null?IO:NO,n=t(r,i),F0){s=0;do{if(F0=!1,l1=0,25<=s)throw Error(vt(301));s+=1,ls=zi=null,e.updateQueue=null,tx.current=DO,n=t(r,i)}while(F0)}if(tx.current=Yx,e=zi!==null&&zi.next!==null,yd=0,ls=zi=$r=null,qx=!1,e)throw Error(vt(300));return n}function cM(){var n=l1!==0;return l1=0,n}function su(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ls===null?$r.memoizedState=ls=n:ls=ls.next=n,ls}function Xa(){if(zi===null){var n=$r.alternate;n=n!==null?n.memoizedState:null}else n=zi.next;var e=ls===null?$r.memoizedState:ls.next;if(e!==null)ls=e,zi=n;else{if(n===null)throw Error(vt(310));zi=n,n={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},ls===null?$r.memoizedState=ls=n:ls=ls.next=n}return ls}function u1(n,e){return typeof e=="function"?e(n):e}function I_(n){var e=Xa(),t=e.queue;if(t===null)throw Error(vt(311));t.lastRenderedReducer=n;var r=zi,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((yd&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,$r.lanes|=c,xd|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Dl(r,e.memoizedState)||(ko=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,$r.lanes|=s,xd|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function N_(n){var e=Xa(),t=e.queue;if(t===null)throw Error(vt(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Dl(s,e.memoizedState)||(ko=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function CP(){}function TP(n,e){var t=$r,r=Xa(),i=e(),s=!Dl(r.memoizedState,i);if(s&&(r.memoizedState=i,ko=!0),r=r.queue,fM(PP.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||ls!==null&&ls.memoizedState.tag&1){if(t.flags|=2048,c1(9,RP.bind(null,t,r,i,e),void 0,null),cs===null)throw Error(vt(349));(yd&30)!==0||LP(t,e,i)}return i}function LP(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=$r.updateQueue,e===null?(e={lastEffect:null,stores:null},$r.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function RP(n,e,t,r){e.value=t,e.getSnapshot=r,BP(e)&&kP(n)}function PP(n,e,t){return t(function(){BP(e)&&kP(n)})}function BP(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Dl(n,t)}catch{return!0}}function kP(n){var e=vc(n,1);e!==null&&kl(e,n,1,-1)}function SC(n){var e=su();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u1,lastRenderedState:n},e.queue=n,n=n.dispatch=kO.bind(null,$r,n),[e.memoizedState,n]}function c1(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=$r.updateQueue,e===null?(e={lastEffect:null,stores:null},$r.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function IP(){return Xa().memoizedState}function nx(n,e,t,r){var i=su();$r.flags|=n,i.memoizedState=c1(1|e,t,void 0,r===void 0?null:r)}function S2(n,e,t,r){var i=Xa();r=r===void 0?null:r;var s=void 0;if(zi!==null){var o=zi.memoizedState;if(s=o.destroy,r!==null&&lM(r,o.deps)){i.memoizedState=c1(e,t,s,r);return}}$r.flags|=n,i.memoizedState=c1(1|e,t,s,r)}function AC(n,e){return nx(8390656,8,n,e)}function fM(n,e){return S2(2048,8,n,e)}function NP(n,e){return S2(4,2,n,e)}function DP(n,e){return S2(4,4,n,e)}function FP(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function OP(n,e,t){return t=t!=null?t.concat([n]):null,S2(4,4,FP.bind(null,e,n),t)}function hM(){}function UP(n,e){var t=Xa();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&lM(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function zP(n,e){var t=Xa();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&lM(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function HP(n,e,t){return(yd&21)===0?(n.baseState&&(n.baseState=!1,ko=!0),n.memoizedState=t):(Dl(t,e)||(t=WR(),$r.lanes|=t,xd|=t,n.baseState=!0),e)}function PO(n,e){var t=fr;fr=t!==0&&4>t?t:4,n(!0);var r=k_.transition;k_.transition={};try{n(!1),e()}finally{fr=t,k_.transition=r}}function GP(){return Xa().memoizedState}function BO(n,e,t){var r=Uf(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},jP(n))WP(e,t);else if(t=wP(n,e,t,r),t!==null){var i=po();kl(t,n,r,i),VP(t,e,r)}}function kO(n,e,t){var r=Uf(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(jP(n))WP(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Dl(a,o)){var l=e.interleaved;l===null?(i.next=i,rM(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=wP(n,e,i,r),t!==null&&(i=po(),kl(t,n,r,i),VP(t,e,r))}}function jP(n){var e=n.alternate;return n===$r||e!==null&&e===$r}function WP(n,e){F0=qx=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function VP(n,e,t){if((t&4194240)!==0){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,jA(n,t)}}var Yx={readContext:Ja,useCallback:Us,useContext:Us,useEffect:Us,useImperativeHandle:Us,useInsertionEffect:Us,useLayoutEffect:Us,useMemo:Us,useReducer:Us,useRef:Us,useState:Us,useDebugValue:Us,useDeferredValue:Us,useTransition:Us,useMutableSource:Us,useSyncExternalStore:Us,useId:Us,unstable_isNewReconciler:!1},IO={readContext:Ja,useCallback:function(n,e){return su().memoizedState=[n,e===void 0?null:e],n},useContext:Ja,useEffect:AC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,nx(4194308,4,FP.bind(null,e,n),t)},useLayoutEffect:function(n,e){return nx(4194308,4,n,e)},useInsertionEffect:function(n,e){return nx(4,2,n,e)},useMemo:function(n,e){var t=su();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=su();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=BO.bind(null,$r,n),[r.memoizedState,n]},useRef:function(n){var e=su();return n={current:n},e.memoizedState=n},useState:SC,useDebugValue:hM,useDeferredValue:function(n){return su().memoizedState=n},useTransition:function(){var n=SC(!1),e=n[0];return n=PO.bind(null,n[1]),su().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=$r,i=su();if(Dr){if(t===void 0)throw Error(vt(407));t=t()}else{if(t=e(),cs===null)throw Error(vt(349));(yd&30)!==0||LP(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,AC(PP.bind(null,r,s,n),[n]),r.flags|=2048,c1(9,RP.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=su(),e=cs.identifierPrefix;if(Dr){var t=ac,r=oc;t=(r&~(1<<32-Bl(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=l1++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=RO++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},NO={readContext:Ja,useCallback:UP,useContext:Ja,useEffect:fM,useImperativeHandle:OP,useInsertionEffect:NP,useLayoutEffect:DP,useMemo:zP,useReducer:I_,useRef:IP,useState:function(){return I_(u1)},useDebugValue:hM,useDeferredValue:function(n){var e=Xa();return HP(e,zi.memoizedState,n)},useTransition:function(){var n=I_(u1)[0],e=Xa().memoizedState;return[n,e]},useMutableSource:CP,useSyncExternalStore:TP,useId:GP,unstable_isNewReconciler:!1},DO={readContext:Ja,useCallback:UP,useContext:Ja,useEffect:fM,useImperativeHandle:OP,useInsertionEffect:NP,useLayoutEffect:DP,useMemo:zP,useReducer:N_,useRef:IP,useState:function(){return N_(u1)},useDebugValue:hM,useDeferredValue:function(n){var e=Xa();return zi===null?e.memoizedState=n:HP(e,zi.memoizedState,n)},useTransition:function(){var n=N_(u1)[0],e=Xa().memoizedState;return[n,e]},useMutableSource:CP,useSyncExternalStore:TP,useId:GP,unstable_isNewReconciler:!1};function Cm(n,e){try{var t="",r=e;do t+=c6(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function D_(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function W5(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var FO=typeof WeakMap=="function"?WeakMap:Map;function qP(n,e,t){t=hc(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Xx||(Xx=!0,eS=r),W5(n,e)},t}function YP(n,e,t){t=hc(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){W5(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){W5(n,e),typeof r!="function"&&(Of===null?Of=new Set([this]):Of.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function MC(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new FO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=KO.bind(null,n,e,t),e.then(n,n))}function EC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function CC(n,e,t,r,i){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=hc(-1,1),e.tag=2,Ff(t,e,1))),t.lanes|=1),n):(n.flags|=65536,n.lanes=i,n)}var OO=Sc.ReactCurrentOwner,ko=!1;function co(n,e,t,r){e.child=n===null?MP(e,null,t,r):Mm(e,n.child,t,r)}function TC(n,e,t,r,i){t=t.render;var s=e.ref;return fm(e,i),r=uM(n,e,t,r,s,i),t=cM(),n!==null&&!ko?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,yc(n,e,i)):(Dr&&t&&KA(e),e.flags|=1,co(n,e,r,i),e.child)}function LC(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!wM(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,JP(n,e,s,r,i)):(n=ox(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,(n.lanes&i)===0){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:n1,t(o,r)&&n.ref===e.ref)return yc(n,e,i)}return e.flags|=1,n=zf(s,r),n.ref=e.ref,n.return=e,e.child=n}function JP(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(n1(s,r)&&n.ref===e.ref)if(ko=!1,e.pendingProps=r=s,(n.lanes&i)!==0)(n.flags&131072)!==0&&(ko=!0);else return e.lanes=n.lanes,yc(n,e,i)}return V5(n,e,t,r,i)}function XP(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Kp,ta),ta|=t;else{if((t&1073741824)===0)return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Sr(Kp,ta),ta|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Sr(Kp,ta),ta|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Sr(Kp,ta),ta|=r;return co(n,e,i,t),e.child}function $P(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function V5(n,e,t,r,i){var s=Do(t)?gd:Xs.current;return s=Sm(e,s),fm(e,i),t=uM(n,e,t,r,s,i),r=cM(),n!==null&&!ko?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,yc(n,e,i)):(Dr&&r&&KA(e),e.flags|=1,co(n,e,t,i),e.child)}function RC(n,e,t,r,i){if(Do(t)){var s=!0;Ux(e)}else s=!1;if(fm(e,i),e.stateNode===null)rx(n,e),SP(e,t,r),j5(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Ja(u):(u=Do(t)?gd:Xs.current,u=Sm(e,u));var c=t.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_C(e,o,r,u),wf=!1;var p=e.memoizedState;o.state=p,Wx(e,r,o,i),l=e.memoizedState,a!==r||p!==l||No.current||wf?(typeof c=="function"&&(G5(e,t,c,r),l=e.memoizedState),(a=wf||wC(e,t,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_P(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ml(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ja(l):(l=Do(t)?gd:Xs.current,l=Sm(e,l));var m=t.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&_C(e,o,r,l),wf=!1,p=e.memoizedState,o.state=p,Wx(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||No.current||wf?(typeof m=="function"&&(G5(e,t,m,r),y=e.memoizedState),(u=wf||wC(e,t,u,r,p,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return q5(n,e,t,r,s,i)}function q5(n,e,t,r,i,s){$P(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mC(e,t,!1),yc(n,e,s);r=e.stateNode,OO.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Mm(e,n.child,null,s),e.child=Mm(e,null,a,s)):co(n,e,a,s),e.memoizedState=r.state,i&&mC(e,t,!0),e.child}function KP(n){var e=n.stateNode;e.pendingContext?pC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&pC(n,e.context,!1),sM(n,e.containerInfo)}function PC(n,e,t,r,i){return Am(),ZA(i),e.flags|=256,co(n,e,t,r),e.child}var Y5={dehydrated:null,treeContext:null,retryLane:0};function J5(n){return{baseLanes:n,cachePool:null,transitions:null}}function QP(n,e,t){var r=e.pendingProps,i=Jr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Sr(Jr,i&1),n===null)return z5(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=E2(o,r,0,null),n=sd(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=J5(t),e.memoizedState=Y5,n):dM(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UO(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zf(a,s):(s=sd(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?J5(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Y5,r}return s=n.child,n=s.sibling,r=zf(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function dM(n,e){return e=E2({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Fv(n,e,t,r){return r!==null&&ZA(r),Mm(e,n.child,null,t),n=dM(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function UO(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=D_(Error(vt(422))),Fv(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=E2({mode:"visible",children:r.children},i,0,null),s=sd(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Mm(e,n.child,null,o),e.child.memoizedState=J5(o),e.memoizedState=Y5,s);if((e.mode&1)===0)return Fv(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(vt(419)),r=D_(s,r,void 0),Fv(n,e,o,r)}if(a=(o&n.childLanes)!==0,ko||a){if(r=cs,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vc(n,i),kl(r,n,i,-1))}return xM(),r=D_(Error(vt(421))),Fv(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=QO.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ra=Df(i.nextSibling),sa=e,Dr=!0,Tl=null,n!==null&&(Oa[Ua++]=oc,Oa[Ua++]=ac,Oa[Ua++]=vd,oc=n.id,ac=n.overflow,vd=e),e=dM(e,r.children),e.flags|=4096,e)}function BC(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),H5(n.return,e,t)}function F_(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function ZP(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(co(n,e,r.children,t),r=Jr.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&BC(n,t,e);else if(n.tag===19)BC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Sr(Jr,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Vx(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),F_(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Vx(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}F_(e,!0,t,null,s);break;case"together":F_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rx(n,e){(e.mode&1)===0&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function yc(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),xd|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(vt(153));if(e.child!==null){for(n=e.child,t=zf(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=zf(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function zO(n,e,t){switch(e.tag){case 3:KP(e),Am();break;case 5:EP(e);break;case 1:Do(e.type)&&Ux(e);break;case 4:sM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Sr(Gx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Sr(Jr,Jr.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?QP(n,e,t):(Sr(Jr,Jr.current&1),n=yc(n,e,t),n!==null?n.sibling:null);Sr(Jr,Jr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&128)!==0){if(r)return ZP(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sr(Jr,Jr.current),r)break;return null;case 22:case 23:return e.lanes=0,XP(n,e,t)}return yc(n,e,t)}var eB,X5,tB,nB;eB=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};X5=function(){};tB=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Qh(hu.current);var s=null;switch(t){case"input":i=v5(n,i),r=v5(n,r),s=[];break;case"select":i=Kr({},i,{value:void 0}),r=Kr({},r,{value:void 0}),s=[];break;case"textarea":i=w5(n,i),r=w5(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Fx)}b5(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(X0.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(X0.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Mr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};nB=function(n,e,t,r){t!==r&&(e.flags|=4)};function n0(n,e){if(!Dr)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function zs(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function HO(n,e,t){var r=e.pendingProps;switch(QA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zs(e),null;case 1:return Do(e.type)&&Ox(),zs(e),null;case 3:return r=e.stateNode,Em(),Tr(No),Tr(Xs),aM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Nv(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Tl!==null&&(rS(Tl),Tl=null))),X5(n,e),zs(e),null;case 5:oM(e);var i=Qh(a1.current);if(t=e.type,n!==null&&e.stateNode!=null)tB(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(vt(166));return zs(e),null}if(n=Qh(hu.current),Nv(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[lu]=e,r[s1]=s,n=(e.mode&1)!==0,t){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(i=0;i<T0.length;i++)Mr(T0[i],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":HE(r,s),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mr("invalid",r);break;case"textarea":jE(r,s),Mr("invalid",r)}b5(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Iv(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Iv(r.textContent,a,n),i=["children",""+a]):X0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Mr("scroll",r)}switch(t){case"input":Ev(r),GE(r,s,!0);break;case"textarea":Ev(r),WE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=LR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[lu]=e,n[s1]=r,eB(n,e,!1,!1),e.stateNode=n;e:{switch(o=S5(t,r),t){case"dialog":Mr("cancel",n),Mr("close",n),i=r;break;case"iframe":case"object":case"embed":Mr("load",n),i=r;break;case"video":case"audio":for(i=0;i<T0.length;i++)Mr(T0[i],n);i=r;break;case"source":Mr("error",n),i=r;break;case"img":case"image":case"link":Mr("error",n),Mr("load",n),i=r;break;case"details":Mr("toggle",n),i=r;break;case"input":HE(n,r),i=v5(n,r),Mr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Kr({},r,{value:void 0}),Mr("invalid",n);break;case"textarea":jE(n,r),i=w5(n,r),Mr("invalid",n);break;default:i=r}b5(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?BR(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RR(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&$0(n,l):typeof l=="number"&&$0(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(X0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Mr("scroll",n):l!=null&&FA(n,s,l,o))}switch(t){case"input":Ev(n),GE(n,r,!1);break;case"textarea":Ev(n),WE(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Vf(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?om(n,!!r.multiple,s,!1):r.defaultValue!=null&&om(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Fx)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zs(e),null;case 6:if(n&&e.stateNode!=null)nB(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(vt(166));if(t=Qh(a1.current),Qh(hu.current),Nv(e)){if(r=e.stateNode,t=e.memoizedProps,r[lu]=e,(s=r.nodeValue!==t)&&(n=sa,n!==null))switch(n.tag){case 3:Iv(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Iv(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[lu]=e,e.stateNode=r}return zs(e),null;case 13:if(Tr(Jr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Dr&&ra!==null&&(e.mode&1)!==0&&(e.flags&128)===0)xP(),Am(),e.flags|=98560,s=!1;else if(s=Nv(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(vt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(vt(317));s[lu]=e}else Am(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;zs(e),s=!1}else Tl!==null&&(rS(Tl),Tl=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(Jr.current&1)!==0?Hi===0&&(Hi=3):xM())),e.updateQueue!==null&&(e.flags|=4),zs(e),null);case 4:return Em(),X5(n,e),n===null&&r1(e.stateNode.containerInfo),zs(e),null;case 10:return nM(e.type._context),zs(e),null;case 17:return Do(e.type)&&Ox(),zs(e),null;case 19:if(Tr(Jr),s=e.memoizedState,s===null)return zs(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)n0(s,!1);else{if(Hi!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(o=Vx(n),o!==null){for(e.flags|=128,n0(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Sr(Jr,Jr.current&1|2),e.child}n=n.sibling}s.tail!==null&&fi()>Tm&&(e.flags|=128,r=!0,n0(s,!1),e.lanes=4194304)}else{if(!r)if(n=Vx(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),n0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Dr)return zs(e),null}else 2*fi()-s.renderingStartTime>Tm&&t!==1073741824&&(e.flags|=128,r=!0,n0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fi(),e.sibling=null,t=Jr.current,Sr(Jr,r?t&1|2:t&1),e):(zs(e),null);case 22:case 23:return yM(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(ta&1073741824)!==0&&(zs(e),e.subtreeFlags&6&&(e.flags|=8192)):zs(e),null;case 24:return null;case 25:return null}throw Error(vt(156,e.tag))}function GO(n,e){switch(QA(e),e.tag){case 1:return Do(e.type)&&Ox(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Em(),Tr(No),Tr(Xs),aM(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return oM(e),null;case 13:if(Tr(Jr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(vt(340));Am()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Tr(Jr),null;case 4:return Em(),null;case 10:return nM(e.type._context),null;case 22:case 23:return yM(),null;case 24:return null;default:return null}}var Ov=!1,qs=!1,jO=typeof WeakSet=="function"?WeakSet:Set,zt=null;function $p(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ii(n,e,r)}else t.current=null}function $5(n,e,t){try{t()}catch(r){ii(n,e,r)}}var kC=!1;function WO(n,e){if(k5=Ix,n=oP(),$A(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(I5={focusedElem:n,selectionRange:t},Ix=!1,zt=e;zt!==null;)if(e=zt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,zt=n;else for(;zt!==null;){e=zt;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,x=y.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ml(e.type,g),x);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(vt(163))}}catch(C){ii(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,zt=n;break}zt=e.return}return y=kC,kC=!1,y}function O0(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&$5(e,t,s)}i=i.next}while(i!==r)}}function A2(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function K5(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function rB(n){var e=n.alternate;e!==null&&(n.alternate=null,rB(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[lu],delete e[s1],delete e[F5],delete e[EO],delete e[CO])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function iB(n){return n.tag===5||n.tag===3||n.tag===4}function IC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||iB(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Q5(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Fx));else if(r!==4&&(n=n.child,n!==null))for(Q5(n,e,t),n=n.sibling;n!==null;)Q5(n,e,t),n=n.sibling}function Z5(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Z5(n,e,t),n=n.sibling;n!==null;)Z5(n,e,t),n=n.sibling}var Ss=null,El=!1;function af(n,e,t){for(t=t.child;t!==null;)sB(n,e,t),t=t.sibling}function sB(n,e,t){if(fu&&typeof fu.onCommitFiberUnmount=="function")try{fu.onCommitFiberUnmount(g2,t)}catch{}switch(t.tag){case 5:qs||$p(t,e);case 6:var r=Ss,i=El;Ss=null,af(n,e,t),Ss=r,El=i,Ss!==null&&(El?(n=Ss,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ss.removeChild(t.stateNode));break;case 18:Ss!==null&&(El?(n=Ss,t=t.stateNode,n.nodeType===8?R_(n.parentNode,t):n.nodeType===1&&R_(n,t),e1(n)):R_(Ss,t.stateNode));break;case 4:r=Ss,i=El,Ss=t.stateNode.containerInfo,El=!0,af(n,e,t),Ss=r,El=i;break;case 0:case 11:case 14:case 15:if(!qs&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&$5(t,e,o),i=i.next}while(i!==r)}af(n,e,t);break;case 1:if(!qs&&($p(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){ii(t,e,a)}af(n,e,t);break;case 21:af(n,e,t);break;case 22:t.mode&1?(qs=(r=qs)||t.memoizedState!==null,af(n,e,t),qs=r):af(n,e,t);break;default:af(n,e,t)}}function NC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new jO),e.forEach(function(r){var i=ZO.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ml(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ss=a.stateNode,El=!1;break e;case 3:Ss=a.stateNode.containerInfo,El=!0;break e;case 4:Ss=a.stateNode.containerInfo,El=!0;break e}a=a.return}if(Ss===null)throw Error(vt(160));sB(s,o,i),Ss=null,El=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ii(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oB(e,n),e=e.sibling}function oB(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ml(e,n),tu(n),r&4){try{O0(3,n,n.return),A2(3,n)}catch(g){ii(n,n.return,g)}try{O0(5,n,n.return)}catch(g){ii(n,n.return,g)}}break;case 1:ml(e,n),tu(n),r&512&&t!==null&&$p(t,t.return);break;case 5:if(ml(e,n),tu(n),r&512&&t!==null&&$p(t,t.return),n.flags&32){var i=n.stateNode;try{$0(i,"")}catch(g){ii(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CR(i,s),S5(a,o);var u=S5(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?BR(i,h):c==="dangerouslySetInnerHTML"?RR(i,h):c==="children"?$0(i,h):FA(i,c,h,u)}switch(a){case"input":y5(i,s);break;case"textarea":TR(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?om(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?om(i,!!s.multiple,s.defaultValue,!0):om(i,!!s.multiple,s.multiple?[]:"",!1))}i[s1]=s}catch(g){ii(n,n.return,g)}}break;case 6:if(ml(e,n),tu(n),r&4){if(n.stateNode===null)throw Error(vt(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){ii(n,n.return,g)}}break;case 3:if(ml(e,n),tu(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{e1(e.containerInfo)}catch(g){ii(n,n.return,g)}break;case 4:ml(e,n),tu(n);break;case 13:ml(e,n),tu(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gM=fi())),r&4&&NC(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(qs=(u=qs)||c,ml(e,n),qs=u):ml(e,n),tu(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&(n.mode&1)!==0)for(zt=n,c=n.child;c!==null;){for(h=zt=c;zt!==null;){switch(p=zt,m=p.child,p.tag){case 0:case 11:case 14:case 15:O0(4,p,p.return);break;case 1:$p(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){ii(r,t,g)}}break;case 5:$p(p,p.return);break;case 22:if(p.memoizedState!==null){FC(h);continue}}m!==null?(m.return=p,zt=m):FC(h)}c=c.sibling}e:for(c=null,h=n;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=PR("display",o))}catch(g){ii(n,n.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){ii(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(e,n),tu(n),r&4&&NC(n);break;case 21:break;default:ml(e,n),tu(n)}}function tu(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(iB(t)){var r=t;break e}t=t.return}throw Error(vt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($0(i,""),r.flags&=-33);var s=IC(n);Z5(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=IC(n);Q5(n,a,o);break;default:throw Error(vt(161))}}catch(l){ii(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function VO(n,e,t){zt=n,aB(n)}function aB(n,e,t){for(var r=(n.mode&1)!==0;zt!==null;){var i=zt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ov;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qs;a=Ov;var u=qs;if(Ov=o,(qs=l)&&!u)for(zt=i;zt!==null;)o=zt,l=o.child,o.tag===22&&o.memoizedState!==null?OC(i):l!==null?(l.return=o,zt=l):OC(i);for(;s!==null;)zt=s,aB(s),s=s.sibling;zt=i,Ov=a,qs=u}DC(n)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,zt=s):DC(n)}}function DC(n){for(;zt!==null;){var e=zt;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:qs||A2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qs)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Ml(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xC(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}xC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&e1(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(vt(163))}qs||e.flags&512&&K5(e)}catch(p){ii(e,e.return,p)}}if(e===n){zt=null;break}if(t=e.sibling,t!==null){t.return=e.return,zt=t;break}zt=e.return}}function FC(n){for(;zt!==null;){var e=zt;if(e===n){zt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,zt=t;break}zt=e.return}}function OC(n){for(;zt!==null;){var e=zt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{A2(4,e)}catch(l){ii(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ii(e,i,l)}}var s=e.return;try{K5(e)}catch(l){ii(e,s,l)}break;case 5:var o=e.return;try{K5(e)}catch(l){ii(e,o,l)}}}catch(l){ii(e,e.return,l)}if(e===n){zt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,zt=a;break}zt=e.return}}var qO=Math.ceil,Jx=Sc.ReactCurrentDispatcher,pM=Sc.ReactCurrentOwner,qa=Sc.ReactCurrentBatchConfig,Wn=0,cs=null,Mi=null,As=0,ta=0,Kp=ih(0),Hi=0,f1=null,xd=0,M2=0,mM=0,U0=null,Bo=null,gM=0,Tm=1/0,tc=null,Xx=!1,eS=null,Of=null,Uv=!1,Ef=null,$x=0,z0=0,tS=null,ix=-1,sx=0;function po(){return(Wn&6)!==0?fi():ix!==-1?ix:ix=fi()}function Uf(n){return(n.mode&1)===0?1:(Wn&2)!==0&&As!==0?As&-As:LO.transition!==null?(sx===0&&(sx=WR()),sx):(n=fr,n!==0||(n=window.event,n=n===void 0?16:KR(n.type)),n)}function kl(n,e,t,r){if(50<z0)throw z0=0,tS=null,Error(vt(185));F1(n,t,r),((Wn&2)===0||n!==cs)&&(n===cs&&((Wn&2)===0&&(M2|=t),Hi===4&&Sf(n,As)),Fo(n,r),t===1&&Wn===0&&(e.mode&1)===0&&(Tm=fi()+500,_2&&sh()))}function Fo(n,e){var t=n.callbackNode;L6(n,e);var r=kx(n,n===cs?As:0);if(r===0)t!==null&&YE(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&YE(t),e===1)n.tag===0?TO(UC.bind(null,n)):gP(UC.bind(null,n)),AO(function(){(Wn&6)===0&&sh()}),t=null;else{switch(VR(r)){case 1:t=GA;break;case 4:t=GR;break;case 16:t=Bx;break;case 536870912:t=jR;break;default:t=Bx}t=mB(t,lB.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function lB(n,e){if(ix=-1,sx=0,(Wn&6)!==0)throw Error(vt(327));var t=n.callbackNode;if(hm()&&n.callbackNode!==t)return null;var r=kx(n,n===cs?As:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||e)e=Kx(n,r);else{e=r;var i=Wn;Wn|=2;var s=cB();(cs!==n||As!==e)&&(tc=null,Tm=fi()+500,id(n,e));do try{XO();break}catch(a){uB(n,a)}while(1);tM(),Jx.current=s,Wn=i,Mi!==null?e=0:(cs=null,As=0,e=Hi)}if(e!==0){if(e===2&&(i=T5(n),i!==0&&(r=i,e=nS(n,i))),e===1)throw t=f1,id(n,0),Sf(n,r),Fo(n,fi()),t;if(e===6)Sf(n,r);else{if(i=n.current.alternate,(r&30)===0&&!YO(i)&&(e=Kx(n,r),e===2&&(s=T5(n),s!==0&&(r=s,e=nS(n,s))),e===1))throw t=f1,id(n,0),Sf(n,r),Fo(n,fi()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(vt(345));case 2:zh(n,Bo,tc);break;case 3:if(Sf(n,r),(r&130023424)===r&&(e=gM+500-fi(),10<e)){if(kx(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){po(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=D5(zh.bind(null,n,Bo,tc),e);break}zh(n,Bo,tc);break;case 4:if(Sf(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Bl(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=fi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qO(r/1960))-r,10<r){n.timeoutHandle=D5(zh.bind(null,n,Bo,tc),r);break}zh(n,Bo,tc);break;case 5:zh(n,Bo,tc);break;default:throw Error(vt(329))}}}return Fo(n,fi()),n.callbackNode===t?lB.bind(null,n):null}function nS(n,e){var t=U0;return n.current.memoizedState.isDehydrated&&(id(n,e).flags|=256),n=Kx(n,e),n!==2&&(e=Bo,Bo=t,e!==null&&rS(e)),n}function rS(n){Bo===null?Bo=n:Bo.push.apply(Bo,n)}function YO(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Dl(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sf(n,e){for(e&=~mM,e&=~M2,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Bl(e),r=1<<t;n[t]=-1,e&=~r}}function UC(n){if((Wn&6)!==0)throw Error(vt(327));hm();var e=kx(n,0);if((e&1)===0)return Fo(n,fi()),null;var t=Kx(n,e);if(n.tag!==0&&t===2){var r=T5(n);r!==0&&(e=r,t=nS(n,r))}if(t===1)throw t=f1,id(n,0),Sf(n,e),Fo(n,fi()),t;if(t===6)throw Error(vt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,zh(n,Bo,tc),Fo(n,fi()),null}function vM(n,e){var t=Wn;Wn|=1;try{return n(e)}finally{Wn=t,Wn===0&&(Tm=fi()+500,_2&&sh())}}function wd(n){Ef!==null&&Ef.tag===0&&(Wn&6)===0&&hm();var e=Wn;Wn|=1;var t=qa.transition,r=fr;try{if(qa.transition=null,fr=1,n)return n()}finally{fr=r,qa.transition=t,Wn=e,(Wn&6)===0&&sh()}}function yM(){ta=Kp.current,Tr(Kp)}function id(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,SO(t)),Mi!==null)for(t=Mi.return;t!==null;){var r=t;switch(QA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ox();break;case 3:Em(),Tr(No),Tr(Xs),aM();break;case 5:oM(r);break;case 4:Em();break;case 13:Tr(Jr);break;case 19:Tr(Jr);break;case 10:nM(r.type._context);break;case 22:case 23:yM()}t=t.return}if(cs=n,Mi=n=zf(n.current,null),As=ta=e,Hi=0,f1=null,mM=M2=xd=0,Bo=U0=null,Kh!==null){for(e=0;e<Kh.length;e++)if(t=Kh[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Kh=null}return n}function uB(n,e){do{var t=Mi;try{if(tM(),tx.current=Yx,qx){for(var r=$r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qx=!1}if(yd=0,ls=zi=$r=null,F0=!1,l1=0,pM.current=null,t===null||t.return===null){Hi=1,f1=e,Mi=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=As,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=EC(o);if(m!==null){m.flags&=-257,CC(m,o,a,s,e),m.mode&1&&MC(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if((e&1)===0){MC(s,u,e),xM();break e}l=Error(vt(426))}}else if(Dr&&a.mode&1){var x=EC(o);if(x!==null){(x.flags&65536)===0&&(x.flags|=256),CC(x,o,a,s,e),ZA(Cm(l,a));break e}}s=l=Cm(l,a),Hi!==4&&(Hi=2),U0===null?U0=[s]:U0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=qP(s,l,e);yC(s,w);break e;case 1:a=l;var _=s.type,A=s.stateNode;if((s.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Of===null||!Of.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=YP(s,a,e);yC(s,C);break e}}s=s.return}while(s!==null)}hB(t)}catch(T){e=T,Mi===t&&t!==null&&(Mi=t=t.return);continue}break}while(1)}function cB(){var n=Jx.current;return Jx.current=Yx,n===null?Yx:n}function xM(){(Hi===0||Hi===3||Hi===2)&&(Hi=4),cs===null||(xd&268435455)===0&&(M2&268435455)===0||Sf(cs,As)}function Kx(n,e){var t=Wn;Wn|=2;var r=cB();(cs!==n||As!==e)&&(tc=null,id(n,e));do try{JO();break}catch(i){uB(n,i)}while(1);if(tM(),Wn=t,Jx.current=r,Mi!==null)throw Error(vt(261));return cs=null,As=0,Hi}function JO(){for(;Mi!==null;)fB(Mi)}function XO(){for(;Mi!==null&&!w6();)fB(Mi)}function fB(n){var e=pB(n.alternate,n,ta);n.memoizedProps=n.pendingProps,e===null?hB(n):Mi=e,pM.current=null}function hB(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=HO(t,e,ta),t!==null){Mi=t;return}}else{if(t=GO(t,e),t!==null){t.flags&=32767,Mi=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Hi=6,Mi=null;return}}if(e=e.sibling,e!==null){Mi=e;return}Mi=e=n}while(e!==null);Hi===0&&(Hi=5)}function zh(n,e,t){var r=fr,i=qa.transition;try{qa.transition=null,fr=1,$O(n,e,t,r)}finally{qa.transition=i,fr=r}return null}function $O(n,e,t,r){do hm();while(Ef!==null);if((Wn&6)!==0)throw Error(vt(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(vt(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(R6(n,s),n===cs&&(Mi=cs=null,As=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||Uv||(Uv=!0,mB(Bx,function(){return hm(),null})),s=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||s){s=qa.transition,qa.transition=null;var o=fr;fr=1;var a=Wn;Wn|=4,pM.current=null,WO(n,t),oB(t,n),gO(I5),Ix=!!k5,I5=k5=null,n.current=t,VO(t),_6(),Wn=a,fr=o,qa.transition=s}else n.current=t;if(Uv&&(Uv=!1,Ef=n,$x=i),s=n.pendingLanes,s===0&&(Of=null),A6(t.stateNode),Fo(n,fi()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xx)throw Xx=!1,n=eS,eS=null,n;return($x&1)!==0&&n.tag!==0&&hm(),s=n.pendingLanes,(s&1)!==0?n===tS?z0++:(z0=0,tS=n):z0=0,sh(),null}function hm(){if(Ef!==null){var n=VR($x),e=qa.transition,t=fr;try{if(qa.transition=null,fr=16>n?16:n,Ef===null)var r=!1;else{if(n=Ef,Ef=null,$x=0,(Wn&6)!==0)throw Error(vt(331));var i=Wn;for(Wn|=4,zt=n.current;zt!==null;){var s=zt,o=s.child;if((zt.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(zt=u;zt!==null;){var c=zt;switch(c.tag){case 0:case 11:case 15:O0(8,c,s)}var h=c.child;if(h!==null)h.return=c,zt=h;else for(;zt!==null;){c=zt;var p=c.sibling,m=c.return;if(rB(c),c===u){zt=null;break}if(p!==null){p.return=m,zt=p;break}zt=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}zt=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,zt=o;else e:for(;zt!==null;){if(s=zt,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:O0(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,zt=w;break e}zt=s.return}}var _=n.current;for(zt=_;zt!==null;){o=zt;var A=o.child;if((o.subtreeFlags&2064)!==0&&A!==null)A.return=o,zt=A;else e:for(o=_;zt!==null;){if(a=zt,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:A2(9,a)}}catch(T){ii(a,a.return,T)}if(a===o){zt=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,zt=C;break e}zt=a.return}}if(Wn=i,sh(),fu&&typeof fu.onPostCommitFiberRoot=="function")try{fu.onPostCommitFiberRoot(g2,n)}catch{}r=!0}return r}finally{fr=t,qa.transition=e}}return!1}function zC(n,e,t){e=Cm(t,e),e=qP(n,e,1),n=Ff(n,e,1),e=po(),n!==null&&(F1(n,1,e),Fo(n,e))}function ii(n,e,t){if(n.tag===3)zC(n,n,t);else for(;e!==null;){if(e.tag===3){zC(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Of===null||!Of.has(r))){n=Cm(t,n),n=YP(e,n,1),e=Ff(e,n,1),n=po(),e!==null&&(F1(e,1,n),Fo(e,n));break}}e=e.return}}function KO(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=po(),n.pingedLanes|=n.suspendedLanes&t,cs===n&&(As&t)===t&&(Hi===4||Hi===3&&(As&130023424)===As&&500>fi()-gM?id(n,0):mM|=t),Fo(n,e)}function dB(n,e){e===0&&((n.mode&1)===0?e=1:(e=Lv,Lv<<=1,(Lv&130023424)===0&&(Lv=4194304)));var t=po();n=vc(n,e),n!==null&&(F1(n,e,t),Fo(n,t))}function QO(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),dB(n,t)}function ZO(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(vt(314))}r!==null&&r.delete(e),dB(n,t)}var pB;pB=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||No.current)ko=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return ko=!1,zO(n,e,t);ko=(n.flags&131072)!==0}else ko=!1,Dr&&(e.flags&1048576)!==0&&vP(e,Hx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rx(n,e),n=e.pendingProps;var i=Sm(e,Xs.current);fm(e,t),i=uM(null,e,r,n,i,t);var s=cM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Do(r)?(s=!0,Ux(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iM(e),i.updater=b2,e.stateNode=i,i._reactInternals=e,j5(e,r,n,t),e=q5(null,e,r,!0,s,t)):(e.tag=0,Dr&&s&&KA(e),co(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(rx(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=t8(r),n=Ml(r,n),i){case 0:e=V5(null,e,r,n,t);break e;case 1:e=RC(null,e,r,n,t);break e;case 11:e=TC(null,e,r,n,t);break e;case 14:e=LC(null,e,r,Ml(r.type,n),t);break e}throw Error(vt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ml(r,i),V5(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ml(r,i),RC(n,e,r,i,t);case 3:e:{if(KP(e),n===null)throw Error(vt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_P(n,e),Wx(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Cm(Error(vt(423)),e),e=PC(n,e,r,t,i);break e}else if(r!==i){i=Cm(Error(vt(424)),e),e=PC(n,e,r,t,i);break e}else for(ra=Df(e.stateNode.containerInfo.firstChild),sa=e,Dr=!0,Tl=null,t=MP(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Am(),r===i){e=yc(n,e,t);break e}co(n,e,r,t)}e=e.child}return e;case 5:return EP(e),n===null&&z5(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,N5(r,i)?o=null:s!==null&&N5(r,s)&&(e.flags|=32),$P(n,e),co(n,e,o,t),e.child;case 6:return n===null&&z5(e),null;case 13:return QP(n,e,t);case 4:return sM(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Mm(e,null,r,t):co(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ml(r,i),TC(n,e,r,i,t);case 7:return co(n,e,e.pendingProps,t),e.child;case 8:return co(n,e,e.pendingProps.children,t),e.child;case 12:return co(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Sr(Gx,r._currentValue),r._currentValue=o,s!==null)if(Dl(s.value,o)){if(s.children===i.children&&!No.current){e=yc(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hc(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),H5(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(vt(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),H5(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}co(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fm(e,t),i=Ja(i),r=r(i),e.flags|=1,co(n,e,r,t),e.child;case 14:return r=e.type,i=Ml(r,e.pendingProps),i=Ml(r.type,i),LC(n,e,r,i,t);case 15:return JP(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ml(r,i),rx(n,e),e.tag=1,Do(r)?(n=!0,Ux(e)):n=!1,fm(e,t),SP(e,r,i),j5(e,r,i,t),q5(null,e,r,!0,n,t);case 19:return ZP(n,e,t);case 22:return XP(n,e,t)}throw Error(vt(156,e.tag))};function mB(n,e){return HR(n,e)}function e8(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(n,e,t,r){return new e8(n,e,t,r)}function wM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function t8(n){if(typeof n=="function")return wM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===UA)return 11;if(n===zA)return 14}return 2}function zf(n,e){var t=n.alternate;return t===null?(t=Ha(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ox(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")wM(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Hp:return sd(t.children,i,s,e);case OA:o=8,i|=8;break;case d5:return n=Ha(12,t,e,i|2),n.elementType=d5,n.lanes=s,n;case p5:return n=Ha(13,t,e,i),n.elementType=p5,n.lanes=s,n;case m5:return n=Ha(19,t,e,i),n.elementType=m5,n.lanes=s,n;case AR:return E2(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case bR:o=10;break e;case SR:o=9;break e;case UA:o=11;break e;case zA:o=14;break e;case xf:o=16,r=null;break e}throw Error(vt(130,n==null?n:typeof n,""))}return e=Ha(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function sd(n,e,t,r){return n=Ha(7,n,r,e),n.lanes=t,n}function E2(n,e,t,r){return n=Ha(22,n,r,e),n.elementType=AR,n.lanes=t,n.stateNode={isHidden:!1},n}function O_(n,e,t){return n=Ha(6,n,null,e),n.lanes=t,n}function U_(n,e,t){return e=Ha(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function n8(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x_(0),this.expirationTimes=x_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _M(n,e,t,r,i,s,o,a,l){return n=new n8(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ha(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},iM(s),n}function r8(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zp,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function gB(n){if(!n)return qf;n=n._reactInternals;e:{if(Bd(n)!==n||n.tag!==1)throw Error(vt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Do(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(vt(171))}if(n.tag===1){var t=n.type;if(Do(t))return mP(n,t,e)}return e}function vB(n,e,t,r,i,s,o,a,l){return n=_M(t,r,!0,n,i,s,o,a,l),n.context=gB(null),t=n.current,r=po(),i=Uf(t),s=hc(r,i),s.callback=e!=null?e:null,Ff(t,s,i),n.current.lanes=i,F1(n,i,r),Fo(n,r),n}function C2(n,e,t,r){var i=e.current,s=po(),o=Uf(i);return t=gB(t),e.context===null?e.context=t:e.pendingContext=t,e=hc(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Ff(i,e,o),n!==null&&(kl(n,i,o,s),ex(n,i,o)),o}function Qx(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function HC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function bM(n,e){HC(n,e),(n=n.alternate)&&HC(n,e)}function i8(){return null}var yB=typeof reportError=="function"?reportError:function(n){console.error(n)};function SM(n){this._internalRoot=n}T2.prototype.render=SM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(vt(409));C2(n,e,null,null)};T2.prototype.unmount=SM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;wd(function(){C2(null,n,null,null)}),e[gc]=null}};function T2(n){this._internalRoot=n}T2.prototype.unstable_scheduleHydration=function(n){if(n){var e=JR();n={blockedOn:null,target:n,priority:e};for(var t=0;t<bf.length&&e!==0&&e<bf[t].priority;t++);bf.splice(t,0,n),t===0&&$R(n)}};function AM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function L2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function GC(){}function s8(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Qx(o);s.call(u)}}var o=vB(e,r,n,0,null,!1,!1,"",GC);return n._reactRootContainer=o,n[gc]=o.current,r1(n.nodeType===8?n.parentNode:n),wd(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Qx(l);a.call(u)}}var l=_M(n,0,!1,null,null,!1,!1,"",GC);return n._reactRootContainer=l,n[gc]=l.current,r1(n.nodeType===8?n.parentNode:n),wd(function(){C2(e,l,t,r)}),l}function R2(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Qx(o);a.call(l)}}C2(e,o,n,i)}else o=s8(t,e,n,i,r);return Qx(o)}qR=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=C0(e.pendingLanes);t!==0&&(jA(e,t|1),Fo(e,fi()),(Wn&6)===0&&(Tm=fi()+500,sh()))}break;case 13:wd(function(){var r=vc(n,1);if(r!==null){var i=po();kl(r,n,1,i)}}),bM(n,1)}};WA=function(n){if(n.tag===13){var e=vc(n,134217728);if(e!==null){var t=po();kl(e,n,134217728,t)}bM(n,134217728)}};YR=function(n){if(n.tag===13){var e=Uf(n),t=vc(n,e);if(t!==null){var r=po();kl(t,n,e,r)}bM(n,e)}};JR=function(){return fr};XR=function(n,e){var t=fr;try{return fr=n,e()}finally{fr=t}};M5=function(n,e,t){switch(e){case"input":if(y5(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=w2(r);if(!i)throw Error(vt(90));ER(r),y5(r,i)}}}break;case"textarea":TR(n,t);break;case"select":e=t.value,e!=null&&om(n,!!t.multiple,e,!1)}};NR=vM;DR=wd;var o8={usingClientEntryPoint:!1,Events:[U1,Vp,w2,kR,IR,vM]},r0={findFiberByHostInstance:$h,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},a8={bundleType:r0.bundleType,version:r0.version,rendererPackageName:r0.rendererPackageName,rendererConfig:r0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=UR(n),n===null?null:n.stateNode},findFiberByHostInstance:r0.findFiberByHostInstance||i8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var zv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zv.isDisabled&&zv.supportsFiber)try{g2=zv.inject(a8),fu=zv}catch{}}fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o8;fa.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AM(e))throw Error(vt(200));return r8(n,e,null,t)};fa.createRoot=function(n,e){if(!AM(n))throw Error(vt(299));var t=!1,r="",i=yB;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_M(n,1,!1,null,null,t,!1,r,i),n[gc]=e.current,r1(n.nodeType===8?n.parentNode:n),new SM(e)};fa.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(vt(188)):(n=Object.keys(n).join(","),Error(vt(268,n)));return n=UR(e),n=n===null?null:n.stateNode,n};fa.flushSync=function(n){return wd(n)};fa.hydrate=function(n,e,t){if(!L2(e))throw Error(vt(200));return R2(null,n,e,!0,t)};fa.hydrateRoot=function(n,e,t){if(!AM(n))throw Error(vt(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=yB;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=vB(e,null,n,1,t!=null?t:null,i,!1,s,o),n[gc]=e.current,r1(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new T2(e)};fa.render=function(n,e,t){if(!L2(e))throw Error(vt(200));return R2(null,n,e,!1,t)};fa.unmountComponentAtNode=function(n){if(!L2(n))throw Error(vt(40));return n._reactRootContainer?(wd(function(){R2(null,null,n,!1,function(){n._reactRootContainer=null,n[gc]=null})}),!0):!1};fa.unstable_batchedUpdates=vM;fa.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!L2(t))throw Error(vt(200));if(n==null||n._reactInternals===void 0)throw Error(vt(38));return R2(n,e,t,!1,r)};fa.version="18.2.0-next-9e3b772b8-20220608";function xB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xB)}catch(n){console.error(n)}}xB(),vR.exports=fa;var wB,jC=vR.exports;wB=f5.createRoot=jC.createRoot,f5.hydrateRoot=jC.hydrateRoot;function la(){return la=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},la.apply(this,arguments)}var Zh;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Zh||(Zh={}));var WC=function(n){return n},VC="beforeunload",l8="popstate";function u8(n){n===void 0&&(n={});var e=n,t=e.window,r=t===void 0?document.defaultView:t,i=r.history;function s(){var I=r.location,B=I.pathname,W=I.search,G=I.hash,L=i.state||{};return[L.idx,WC({pathname:B,search:W,hash:G,state:L.usr||null,key:L.key||"default"})]}var o=null;function a(){if(o)m.call(o),o=null;else{var I=Zh.Pop,B=s(),W=B[0],G=B[1];if(m.length){if(W!=null){var L=c-W;L&&(o={action:I,location:G,retry:function(){T(L*-1)}},T(L))}}else _(I)}}r.addEventListener(l8,a);var l=Zh.Pop,u=s(),c=u[0],h=u[1],p=YC(),m=YC();c==null&&(c=0,i.replaceState(la({},i.state,{idx:c}),""));function y(I){return typeof I=="string"?I:f8(I)}function g(I,B){return B===void 0&&(B=null),WC(la({pathname:h.pathname,hash:"",search:""},typeof I=="string"?sg(I):I,{state:B,key:c8()}))}function x(I,B){return[{usr:I.state,key:I.key,idx:B},y(I)]}function w(I,B,W){return!m.length||(m.call({action:I,location:B,retry:W}),!1)}function _(I){l=I;var B=s();c=B[0],h=B[1],p.call({action:l,location:h})}function A(I,B){var W=Zh.Push,G=g(I,B);function L(){A(I,B)}if(w(W,G,L)){var P=x(G,c+1),q=P[0],z=P[1];try{i.pushState(q,"",z)}catch{r.location.assign(z)}_(W)}}function C(I,B){var W=Zh.Replace,G=g(I,B);function L(){C(I,B)}if(w(W,G,L)){var P=x(G,c),q=P[0],z=P[1];i.replaceState(q,"",z),_(W)}}function T(I){i.go(I)}var D={get action(){return l},get location(){return h},createHref:y,push:A,replace:C,go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(B){return p.push(B)},block:function(B){var W=m.push(B);return m.length===1&&r.addEventListener(VC,qC),function(){W(),m.length||r.removeEventListener(VC,qC)}}};return D}function qC(n){n.preventDefault(),n.returnValue=""}function YC(){var n=[];return{get length(){return n.length},push:function(t){return n.push(t),function(){n=n.filter(function(r){return r!==t})}},call:function(t){n.forEach(function(r){return r&&r(t)})}}}function c8(){return Math.random().toString(36).substr(2,8)}function f8(n){var e=n.pathname,t=e===void 0?"/":e,r=n.search,i=r===void 0?"":r,s=n.hash,o=s===void 0?"":s;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function sg(n){var e={};if(n){var t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));var r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _B=Z.exports.createContext(null),MM=Z.exports.createContext(null),EM=Z.exports.createContext({outlet:null,matches:[]});function xc(n,e){if(!n)throw new Error(e)}function h8(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?sg(e):e,i=SB(r.pathname||"/",t);if(i==null)return null;let s=bB(n);d8(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=b8(s[a],i);return o}function bB(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||xc(!1),o.relativePath=o.relativePath.slice(r.length));let a=od([r,o.relativePath]),l=t.concat(o);i.children&&i.children.length>0&&(i.index===!0&&xc(!1),bB(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:w8(a,i.index),routesMeta:l})}),e}function d8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_8(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const p8=/^:\w+$/,m8=3,g8=2,v8=1,y8=10,x8=-2,JC=n=>n==="*";function w8(n,e){let t=n.split("/"),r=t.length;return t.some(JC)&&(r+=x8),e&&(r+=g8),t.filter(i=>!JC(i)).reduce((i,s)=>i+(p8.test(s)?m8:s===""?v8:y8),r)}function _8(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function b8(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=S8({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:od([i,c.pathname]),pathnameBase:AB(od([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=od([i,c.pathnameBase]))}return s}function S8(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=A8(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[c]=M8(a[h]||""),u},{}),pathname:s,pathnameBase:o,pattern:n}}function A8(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=t?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function M8(n,e){try{return decodeURIComponent(n)}catch{return n}}function E8(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?sg(n):n;return{pathname:t?t.startsWith("/")?t:C8(t,e):e,search:L8(r),hash:R8(i)}}function C8(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function T8(n,e,t){let r=typeof n=="string"?sg(n):n,i=n===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=t;else{let a=e.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),a-=1;r.pathname=l.join("/")}s=a>=0?e[a]:"/"}let o=E8(r,s);return i&&i!=="/"&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function SB(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=n.charAt(e.length);return t&&t!=="/"?null:n.slice(e.length)||"/"}const od=n=>n.join("/").replace(/\/\/+/g,"/"),AB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),L8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,R8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function P2(){return Z.exports.useContext(MM)!=null}function MB(){return P2()||xc(!1),Z.exports.useContext(MM).location}function Ka(){P2()||xc(!1);let{basename:n,navigator:e}=Z.exports.useContext(_B),{matches:t}=Z.exports.useContext(EM),{pathname:r}=MB(),i=JSON.stringify(t.map(a=>a.pathnameBase)),s=Z.exports.useRef(!1);return Z.exports.useEffect(()=>{s.current=!0}),Z.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=T8(a,JSON.parse(i),r);n!=="/"&&(u.pathname=od([n,u.pathname])),(l.replace?e.replace:e.push)(u,l.state)},[n,e,i,r])}function P8(n,e){P2()||xc(!1);let{matches:t}=Z.exports.useContext(EM),r=t[t.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let o=MB(),a;if(e){var l;let p=typeof e=="string"?sg(e):e;s==="/"||((l=p.pathname)==null?void 0:l.startsWith(s))||xc(!1),a=p}else a=o;let u=a.pathname||"/",c=s==="/"?u:u.slice(s.length)||"/",h=h8(n,{pathname:c});return B8(h&&h.map(p=>Object.assign({},p,{params:Object.assign({},i,p.params),pathname:od([s,p.pathname]),pathnameBase:p.pathnameBase==="/"?s:od([s,p.pathnameBase])})),t)}function B8(n,e){return e===void 0&&(e=[]),n==null?null:n.reduceRight((t,r,i)=>Z.exports.createElement(EM.Provider,{children:r.route.element!==void 0?r.route.element:t,value:{outlet:t,matches:e.concat(n.slice(0,i+1))}}),null)}function ru(n){xc(!1)}function k8(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Zh.Pop,navigator:s,static:o=!1}=n;P2()&&xc(!1);let a=AB(e),l=Z.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=sg(r));let{pathname:u="/",search:c="",hash:h="",state:p=null,key:m="default"}=r,y=Z.exports.useMemo(()=>{let g=SB(u,a);return g==null?null:{pathname:g,search:c,hash:h,state:p,key:m}},[a,u,c,h,p,m]);return y==null?null:Z.exports.createElement(_B.Provider,{value:l},Z.exports.createElement(MM.Provider,{children:t,value:{location:y,navigationType:i}}))}function I8(n){let{children:e,location:t}=n;return P8(iS(e),t)}function iS(n){let e=[];return Z.exports.Children.forEach(n,t=>{if(!Z.exports.isValidElement(t))return;if(t.type===Z.exports.Fragment){e.push.apply(e,iS(t.props.children));return}t.type!==ru&&xc(!1);let r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=iS(t.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N8(n){let{basename:e,children:t,window:r}=n,i=Z.exports.useRef();i.current==null&&(i.current=u8({window:r}));let s=i.current,[o,a]=Z.exports.useState({action:s.action,location:s.location});return Z.exports.useLayoutEffect(()=>s.listen(a),[s]),Z.exports.createElement(k8,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var CM={exports:{}},hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TM=Symbol.for("react.element"),LM=Symbol.for("react.portal"),B2=Symbol.for("react.fragment"),k2=Symbol.for("react.strict_mode"),I2=Symbol.for("react.profiler"),N2=Symbol.for("react.provider"),D2=Symbol.for("react.context"),D8=Symbol.for("react.server_context"),F2=Symbol.for("react.forward_ref"),O2=Symbol.for("react.suspense"),U2=Symbol.for("react.suspense_list"),z2=Symbol.for("react.memo"),H2=Symbol.for("react.lazy"),F8=Symbol.for("react.offscreen"),EB;EB=Symbol.for("react.module.reference");function Qa(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case TM:switch(n=n.type,n){case B2:case I2:case k2:case O2:case U2:return n;default:switch(n=n&&n.$$typeof,n){case D8:case D2:case F2:case H2:case z2:case N2:return n;default:return e}}case LM:return e}}}hr.ContextConsumer=D2;hr.ContextProvider=N2;hr.Element=TM;hr.ForwardRef=F2;hr.Fragment=B2;hr.Lazy=H2;hr.Memo=z2;hr.Portal=LM;hr.Profiler=I2;hr.StrictMode=k2;hr.Suspense=O2;hr.SuspenseList=U2;hr.isAsyncMode=function(){return!1};hr.isConcurrentMode=function(){return!1};hr.isContextConsumer=function(n){return Qa(n)===D2};hr.isContextProvider=function(n){return Qa(n)===N2};hr.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===TM};hr.isForwardRef=function(n){return Qa(n)===F2};hr.isFragment=function(n){return Qa(n)===B2};hr.isLazy=function(n){return Qa(n)===H2};hr.isMemo=function(n){return Qa(n)===z2};hr.isPortal=function(n){return Qa(n)===LM};hr.isProfiler=function(n){return Qa(n)===I2};hr.isStrictMode=function(n){return Qa(n)===k2};hr.isSuspense=function(n){return Qa(n)===O2};hr.isSuspenseList=function(n){return Qa(n)===U2};hr.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===B2||n===I2||n===k2||n===O2||n===U2||n===F8||typeof n=="object"&&n!==null&&(n.$$typeof===H2||n.$$typeof===z2||n.$$typeof===N2||n.$$typeof===D2||n.$$typeof===F2||n.$$typeof===EB||n.getModuleId!==void 0)};hr.typeOf=Qa;CM.exports=hr;function O8(n){function e(N,V,Q,ue,j){for(var we=0,me=0,Ae=0,Te=0,De,xe,Me=0,Ge=0,be,oe=be=De=0,$e=0,Ke=0,je=0,et=0,ct=Q.length,ae=ct-1,ee,Se="",He="",rt="",ft="",gt;$e<ct;){if(xe=Q.charCodeAt($e),$e===ae&&me+Te+Ae+we!==0&&(me!==0&&(xe=me===47?10:47),Te=Ae=we=0,ct++,ae++),me+Te+Ae+we===0){if($e===ae&&(0<Ke&&(Se=Se.replace(p,"")),0<Se.trim().length)){switch(xe){case 32:case 9:case 59:case 13:case 10:break;default:Se+=Q.charAt($e)}xe=59}switch(xe){case 123:for(Se=Se.trim(),De=Se.charCodeAt(0),be=1,et=++$e;$e<ct;){switch(xe=Q.charCodeAt($e)){case 123:be++;break;case 125:be--;break;case 47:switch(xe=Q.charCodeAt($e+1)){case 42:case 47:e:{for(oe=$e+1;oe<ae;++oe)switch(Q.charCodeAt(oe)){case 47:if(xe===42&&Q.charCodeAt(oe-1)===42&&$e+2!==oe){$e=oe+1;break e}break;case 10:if(xe===47){$e=oe+1;break e}}$e=oe}}break;case 91:xe++;case 40:xe++;case 34:case 39:for(;$e++<ae&&Q.charCodeAt($e)!==xe;);}if(be===0)break;$e++}switch(be=Q.substring(et,$e),De===0&&(De=(Se=Se.replace(h,"").trim()).charCodeAt(0)),De){case 64:switch(0<Ke&&(Se=Se.replace(p,"")),xe=Se.charCodeAt(1),xe){case 100:case 109:case 115:case 45:Ke=V;break;default:Ke=re}if(be=e(V,Ke,be,xe,j+1),et=be.length,0<F&&(Ke=t(re,Se,je),gt=a(3,be,Ke,V,q,P,et,xe,j,ue),Se=Ke.join(""),gt!==void 0&&(et=(be=gt.trim()).length)===0&&(xe=0,be="")),0<et)switch(xe){case 115:Se=Se.replace(D,o);case 100:case 109:case 45:be=Se+"{"+be+"}";break;case 107:Se=Se.replace(_,"$1 $2"),be=Se+"{"+be+"}",be=ne===1||ne===2&&s("@"+be,3)?"@-webkit-"+be+"@"+be:"@"+be;break;default:be=Se+be,ue===112&&(be=(He+=be,""))}else be="";break;default:be=e(V,t(V,Se,je),be,ue,j+1)}rt+=be,be=je=Ke=oe=De=0,Se="",xe=Q.charCodeAt(++$e);break;case 125:case 59:if(Se=(0<Ke?Se.replace(p,""):Se).trim(),1<(et=Se.length))switch(oe===0&&(De=Se.charCodeAt(0),De===45||96<De&&123>De)&&(et=(Se=Se.replace(" ",":")).length),0<F&&(gt=a(1,Se,V,N,q,P,He.length,ue,j,ue))!==void 0&&(et=(Se=gt.trim()).length)===0&&(Se="\0\0"),De=Se.charCodeAt(0),xe=Se.charCodeAt(1),De){case 0:break;case 64:if(xe===105||xe===99){ft+=Se+Q.charAt($e);break}default:Se.charCodeAt(et-1)!==58&&(He+=i(Se,De,xe,Se.charCodeAt(2)))}je=Ke=oe=De=0,Se="",xe=Q.charCodeAt(++$e)}}switch(xe){case 13:case 10:me===47?me=0:1+De===0&&ue!==107&&0<Se.length&&(Ke=1,Se+="\0"),0<F*ie&&a(0,Se,V,N,q,P,He.length,ue,j,ue),P=1,q++;break;case 59:case 125:if(me+Te+Ae+we===0){P++;break}default:switch(P++,ee=Q.charAt($e),xe){case 9:case 32:if(Te+we+me===0)switch(Me){case 44:case 58:case 9:case 32:ee="";break;default:xe!==32&&(ee=" ")}break;case 0:ee="\\0";break;case 12:ee="\\f";break;case 11:ee="\\v";break;case 38:Te+me+we===0&&(Ke=je=1,ee="\f"+ee);break;case 108:if(Te+me+we+z===0&&0<oe)switch($e-oe){case 2:Me===112&&Q.charCodeAt($e-3)===58&&(z=Me);case 8:Ge===111&&(z=Ge)}break;case 58:Te+me+we===0&&(oe=$e);break;case 44:me+Ae+Te+we===0&&(Ke=1,ee+="\r");break;case 34:case 39:me===0&&(Te=Te===xe?0:Te===0?xe:Te);break;case 91:Te+me+Ae===0&&we++;break;case 93:Te+me+Ae===0&&we--;break;case 41:Te+me+we===0&&Ae--;break;case 40:if(Te+me+we===0){if(De===0)switch(2*Me+3*Ge){case 533:break;default:De=1}Ae++}break;case 64:me+Ae+Te+we+oe+be===0&&(be=1);break;case 42:case 47:if(!(0<Te+we+Ae))switch(me){case 0:switch(2*xe+3*Q.charCodeAt($e+1)){case 235:me=47;break;case 220:et=$e,me=42}break;case 42:xe===47&&Me===42&&et+2!==$e&&(Q.charCodeAt(et+2)===33&&(He+=Q.substring(et,$e+1)),ee="",me=0)}}me===0&&(Se+=ee)}Ge=Me,Me=xe,$e++}if(et=He.length,0<et){if(Ke=V,0<F&&(gt=a(2,He,Ke,N,q,P,et,ue,j,ue),gt!==void 0&&(He=gt).length===0))return ft+He+rt;if(He=Ke.join(",")+"{"+He+"}",ne*z!==0){switch(ne!==2||s(He,2)||(z=0),z){case 111:He=He.replace(C,":-moz-$1")+He;break;case 112:He=He.replace(A,"::-webkit-input-$1")+He.replace(A,"::-moz-$1")+He.replace(A,":-ms-input-$1")+He}z=0}}return ft+He+rt}function t(N,V,Q){var ue=V.trim().split(x);V=ue;var j=ue.length,we=N.length;switch(we){case 0:case 1:var me=0;for(N=we===0?"":N[0]+" ";me<j;++me)V[me]=r(N,V[me],Q).trim();break;default:var Ae=me=0;for(V=[];me<j;++me)for(var Te=0;Te<we;++Te)V[Ae++]=r(N[Te]+" ",ue[me],Q).trim()}return V}function r(N,V,Q){var ue=V.charCodeAt(0);switch(33>ue&&(ue=(V=V.trim()).charCodeAt(0)),ue){case 38:return V.replace(w,"$1"+N.trim());case 58:return N.trim()+V.replace(w,"$1"+N.trim());default:if(0<1*Q&&0<V.indexOf("\f"))return V.replace(w,(N.charCodeAt(0)===58?"":"$1")+N.trim())}return N+V}function i(N,V,Q,ue){var j=N+";",we=2*V+3*Q+4*ue;if(we===944){N=j.indexOf(":",9)+1;var me=j.substring(N,j.length-1).trim();return me=j.substring(0,N).trim()+me+";",ne===1||ne===2&&s(me,1)?"-webkit-"+me+me:me}if(ne===0||ne===2&&!s(j,1))return j;switch(we){case 1015:return j.charCodeAt(10)===97?"-webkit-"+j+j:j;case 951:return j.charCodeAt(3)===116?"-webkit-"+j+j:j;case 963:return j.charCodeAt(5)===110?"-webkit-"+j+j:j;case 1009:if(j.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+j+j;case 978:return"-webkit-"+j+"-moz-"+j+j;case 1019:case 983:return"-webkit-"+j+"-moz-"+j+"-ms-"+j+j;case 883:if(j.charCodeAt(8)===45)return"-webkit-"+j+j;if(0<j.indexOf("image-set(",11))return j.replace(L,"$1-webkit-$2")+j;break;case 932:if(j.charCodeAt(4)===45)switch(j.charCodeAt(5)){case 103:return"-webkit-box-"+j.replace("-grow","")+"-webkit-"+j+"-ms-"+j.replace("grow","positive")+j;case 115:return"-webkit-"+j+"-ms-"+j.replace("shrink","negative")+j;case 98:return"-webkit-"+j+"-ms-"+j.replace("basis","preferred-size")+j}return"-webkit-"+j+"-ms-"+j+j;case 964:return"-webkit-"+j+"-ms-flex-"+j+j;case 1023:if(j.charCodeAt(8)!==99)break;return me=j.substring(j.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+me+"-webkit-"+j+"-ms-flex-pack"+me+j;case 1005:return y.test(j)?j.replace(m,":-webkit-")+j.replace(m,":-moz-")+j:j;case 1e3:switch(me=j.substring(13).trim(),V=me.indexOf("-")+1,me.charCodeAt(0)+me.charCodeAt(V)){case 226:me=j.replace(T,"tb");break;case 232:me=j.replace(T,"tb-rl");break;case 220:me=j.replace(T,"lr");break;default:return j}return"-webkit-"+j+"-ms-"+me+j;case 1017:if(j.indexOf("sticky",9)===-1)break;case 975:switch(V=(j=N).length-10,me=(j.charCodeAt(V)===33?j.substring(0,V):j).substring(N.indexOf(":",7)+1).trim(),we=me.charCodeAt(0)+(me.charCodeAt(7)|0)){case 203:if(111>me.charCodeAt(8))break;case 115:j=j.replace(me,"-webkit-"+me)+";"+j;break;case 207:case 102:j=j.replace(me,"-webkit-"+(102<we?"inline-":"")+"box")+";"+j.replace(me,"-webkit-"+me)+";"+j.replace(me,"-ms-"+me+"box")+";"+j}return j+";";case 938:if(j.charCodeAt(5)===45)switch(j.charCodeAt(6)){case 105:return me=j.replace("-items",""),"-webkit-"+j+"-webkit-box-"+me+"-ms-flex-"+me+j;case 115:return"-webkit-"+j+"-ms-flex-item-"+j.replace(B,"")+j;default:return"-webkit-"+j+"-ms-flex-line-pack"+j.replace("align-content","").replace(B,"")+j}break;case 973:case 989:if(j.charCodeAt(3)!==45||j.charCodeAt(4)===122)break;case 931:case 953:if(G.test(N)===!0)return(me=N.substring(N.indexOf(":")+1)).charCodeAt(0)===115?i(N.replace("stretch","fill-available"),V,Q,ue).replace(":fill-available",":stretch"):j.replace(me,"-webkit-"+me)+j.replace(me,"-moz-"+me.replace("fill-",""))+j;break;case 962:if(j="-webkit-"+j+(j.charCodeAt(5)===102?"-ms-"+j:"")+j,Q+ue===211&&j.charCodeAt(13)===105&&0<j.indexOf("transform",10))return j.substring(0,j.indexOf(";",27)+1).replace(g,"$1-webkit-$2")+j}return j}function s(N,V){var Q=N.indexOf(V===1?":":"{"),ue=N.substring(0,V!==3?Q:10);return Q=N.substring(Q+1,N.length-1),X(V!==2?ue:ue.replace(W,"$1"),Q,V)}function o(N,V){var Q=i(V,V.charCodeAt(0),V.charCodeAt(1),V.charCodeAt(2));return Q!==V+";"?Q.replace(I," or ($1)").substring(4):"("+V+")"}function a(N,V,Q,ue,j,we,me,Ae,Te,De){for(var xe=0,Me=V,Ge;xe<F;++xe)switch(Ge=le[xe].call(c,N,Me,Q,ue,j,we,me,Ae,Te,De)){case void 0:case!1:case!0:case null:break;default:Me=Ge}if(Me!==V)return Me}function l(N){switch(N){case void 0:case null:F=le.length=0;break;default:if(typeof N=="function")le[F++]=N;else if(typeof N=="object")for(var V=0,Q=N.length;V<Q;++V)l(N[V]);else ie=!!N|0}return l}function u(N){return N=N.prefix,N!==void 0&&(X=null,N?typeof N!="function"?ne=1:(ne=2,X=N):ne=0),u}function c(N,V){var Q=N;if(33>Q.charCodeAt(0)&&(Q=Q.trim()),ve=Q,Q=[ve],0<F){var ue=a(-1,V,Q,Q,q,P,0,0,0,0);ue!==void 0&&typeof ue=="string"&&(V=ue)}var j=e(re,Q,V,0,0);return 0<F&&(ue=a(-2,j,Q,Q,q,P,j.length,0,0,0),ue!==void 0&&(j=ue)),ve="",z=0,P=q=1,j}var h=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,y=/zoo|gra/,g=/([,: ])(transform)/g,x=/,\r+?/g,w=/([\t\r\n ])*\f?&/g,_=/@(k\w+)\s*(\S*)\s*/,A=/::(place)/g,C=/:(read-only)/g,T=/[svh]\w+-[tblr]{2}/,D=/\(\s*(.*)\s*\)/g,I=/([\s\S]*?);/g,B=/-self|flex-/g,W=/[^]*?(:[rp][el]a[\w-]+)[^]*/,G=/stretch|:\s*\w+\-(?:conte|avail)/,L=/([^-])(image-set\()/,P=1,q=1,z=0,ne=1,re=[],le=[],F=0,X=null,ie=0,ve="";return c.use=l,c.set=u,n!==void 0&&u(n),c}var U8={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function z8(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var H8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,XC=z8(function(n){return H8.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),CB={exports:{}},dr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=typeof Symbol=="function"&&Symbol.for,RM=fs?Symbol.for("react.element"):60103,PM=fs?Symbol.for("react.portal"):60106,G2=fs?Symbol.for("react.fragment"):60107,j2=fs?Symbol.for("react.strict_mode"):60108,W2=fs?Symbol.for("react.profiler"):60114,V2=fs?Symbol.for("react.provider"):60109,q2=fs?Symbol.for("react.context"):60110,BM=fs?Symbol.for("react.async_mode"):60111,Y2=fs?Symbol.for("react.concurrent_mode"):60111,J2=fs?Symbol.for("react.forward_ref"):60112,X2=fs?Symbol.for("react.suspense"):60113,G8=fs?Symbol.for("react.suspense_list"):60120,$2=fs?Symbol.for("react.memo"):60115,K2=fs?Symbol.for("react.lazy"):60116,j8=fs?Symbol.for("react.block"):60121,W8=fs?Symbol.for("react.fundamental"):60117,V8=fs?Symbol.for("react.responder"):60118,q8=fs?Symbol.for("react.scope"):60119;function da(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case RM:switch(n=n.type,n){case BM:case Y2:case G2:case W2:case j2:case X2:return n;default:switch(n=n&&n.$$typeof,n){case q2:case J2:case K2:case $2:case V2:return n;default:return e}}case PM:return e}}}function TB(n){return da(n)===Y2}dr.AsyncMode=BM;dr.ConcurrentMode=Y2;dr.ContextConsumer=q2;dr.ContextProvider=V2;dr.Element=RM;dr.ForwardRef=J2;dr.Fragment=G2;dr.Lazy=K2;dr.Memo=$2;dr.Portal=PM;dr.Profiler=W2;dr.StrictMode=j2;dr.Suspense=X2;dr.isAsyncMode=function(n){return TB(n)||da(n)===BM};dr.isConcurrentMode=TB;dr.isContextConsumer=function(n){return da(n)===q2};dr.isContextProvider=function(n){return da(n)===V2};dr.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===RM};dr.isForwardRef=function(n){return da(n)===J2};dr.isFragment=function(n){return da(n)===G2};dr.isLazy=function(n){return da(n)===K2};dr.isMemo=function(n){return da(n)===$2};dr.isPortal=function(n){return da(n)===PM};dr.isProfiler=function(n){return da(n)===W2};dr.isStrictMode=function(n){return da(n)===j2};dr.isSuspense=function(n){return da(n)===X2};dr.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===G2||n===Y2||n===W2||n===j2||n===X2||n===G8||typeof n=="object"&&n!==null&&(n.$$typeof===K2||n.$$typeof===$2||n.$$typeof===V2||n.$$typeof===q2||n.$$typeof===J2||n.$$typeof===W8||n.$$typeof===V8||n.$$typeof===q8||n.$$typeof===j8)};dr.typeOf=da;CB.exports=dr;var kM=CB.exports,Y8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},J8={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},X8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},LB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},IM={};IM[kM.ForwardRef]=X8;IM[kM.Memo]=LB;function $C(n){return kM.isMemo(n)?LB:IM[n.$$typeof]||Y8}var $8=Object.defineProperty,K8=Object.getOwnPropertyNames,KC=Object.getOwnPropertySymbols,Q8=Object.getOwnPropertyDescriptor,Z8=Object.getPrototypeOf,QC=Object.prototype;function RB(n,e,t){if(typeof e!="string"){if(QC){var r=Z8(e);r&&r!==QC&&RB(n,r,t)}var i=K8(e);KC&&(i=i.concat(KC(e)));for(var s=$C(n),o=$C(e),a=0;a<i.length;++a){var l=i[a];if(!J8[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var u=Q8(e,l);try{$8(n,l,u)}catch{}}}}return n}var e7=RB;function lc(){return(lc=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var ZC=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},sS=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!CM.exports.typeOf(n)},Zx=Object.freeze([]),Hf=Object.freeze({});function h1(n){return typeof n=="function"}function eT(n){return n.displayName||n.name||"Component"}function NM(n){return n&&typeof n.styledComponentId=="string"}var Lm=typeof process!="undefined"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",DM=typeof window!="undefined"&&"HTMLElement"in window,t7=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function H1(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var n7=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&H1(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),u=0,c=r.length;u<c;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),ax=new Map,e2=new Map,H0=1,Hv=function(n){if(ax.has(n))return ax.get(n);for(;e2.has(H0);)H0++;var e=H0++;return ax.set(n,e),e2.set(e,n),e},r7=function(n){return e2.get(n)},i7=function(n,e){e>=H0&&(H0=e+1),ax.set(n,e),e2.set(e,n)},s7="style["+Lm+'][data-styled-version="5.3.5"]',o7=new RegExp("^"+Lm+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),a7=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},l7=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(o7);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(i7(u,l),a7(n,u,a[3]),n.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},u7=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},PB=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(Lm))return c}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(Lm,"active"),r.setAttribute("data-styled-version","5.3.5");var o=u7();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},c7=function(){function n(t){var r=this.element=PB(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}H1(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),f7=function(){function n(t){var r=this.element=PB(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),h7=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),tT=DM,d7={isServer:!DM,useCSSOMInjection:!t7},BB=function(){function n(t,r,i){t===void 0&&(t=Hf),r===void 0&&(r={}),this.options=lc({},d7,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&DM&&tT&&(tT=!1,function(s){for(var o=document.querySelectorAll(s7),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(Lm)!=="active"&&(l7(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}n.registerId=function(t){return Hv(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(lc({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new h7(o):s?new c7(o):new f7(o),new n7(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(Hv(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(Hv(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(Hv(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=r7(o);if(a!==void 0){var l=t.names.get(a),u=r.getGroup(o);if(l&&u&&l.size){var c=Lm+".g"+o+'[id="'+a+'"]',h="";l!==void 0&&l.forEach(function(p){p.length>0&&(h+=p+",")}),s+=""+u+c+'{content:"'+h+`"}/*!sc*/
`}}}return s}(this)},n}(),p7=/(a)(d)/gi,nT=function(n){return String.fromCharCode(n+(n>25?39:97))};function oS(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=nT(e%52)+t;return(nT(e%52)+t).replace(p7,"$1-$2")}var Qp=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},kB=function(n){return Qp(5381,n)};function m7(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(h1(t)&&!NM(t))return!1}return!0}var g7=kB("5.3.5"),v7=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&m7(e),this.componentId=t,this.baseHash=Qp(g7,t),this.baseStyle=r,BB.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=Rm(this.rules,e,t,r).join(""),a=oS(Qp(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);t.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Qp(this.baseHash,r.hash),h="",p=0;p<u;p++){var m=this.rules[p];if(typeof m=="string")h+=m;else if(m){var y=Rm(m,e,t,r),g=Array.isArray(y)?y.join(""):y;c=Qp(c,g+p),h+=g}}if(h){var x=oS(c>>>0);if(!t.hasNameForId(i,x)){var w=r(h,"."+x,void 0,i);t.insertRules(i,x,w)}s.push(x)}}return s.join(" ")},n}(),y7=/^\s*\/\/.*$/gm,x7=[":","[",".","#"];function w7(n){var e,t,r,i,s=n===void 0?Hf:n,o=s.options,a=o===void 0?Hf:o,l=s.plugins,u=l===void 0?Zx:l,c=new O8(a),h=[],p=function(g){function x(w){if(w)try{g(w+"}")}catch{}}return function(w,_,A,C,T,D,I,B,W,G){switch(w){case 1:if(W===0&&_.charCodeAt(0)===64)return g(_+";"),"";break;case 2:if(B===0)return _+"/*|*/";break;case 3:switch(B){case 102:case 112:return g(A[0]+_),"";default:return _+(G===0?"/*|*/":"")}case-2:_.split("/*|*/}").forEach(x)}}}(function(g){h.push(g)}),m=function(g,x,w){return x===0&&x7.indexOf(w[t.length])!==-1||w.match(i)?g:"."+e};function y(g,x,w,_){_===void 0&&(_="&");var A=g.replace(y7,""),C=x&&w?w+" "+x+" { "+A+" }":A;return e=_,t=x,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),c(w||!x?"":x,C)}return c.use([].concat(u,[function(g,x,w){g===2&&w.length&&w[0].lastIndexOf(t)>0&&(w[0]=w[0].replace(r,m))},p,function(g){if(g===-2){var x=h;return h=[],x}}])),y.hash=u.length?u.reduce(function(g,x){return x.name||H1(15),Qp(g,x.name)},5381).toString():"",y}var IB=D1.createContext();IB.Consumer;var NB=D1.createContext(),_7=(NB.Consumer,new BB),aS=w7();function b7(){return Z.exports.useContext(IB)||_7}function S7(){return Z.exports.useContext(NB)||aS}var A7=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=aS);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return H1(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=aS),this.name+e.hash},n}(),M7=/([A-Z])/,E7=/([A-Z])/g,C7=/^ms-/,T7=function(n){return"-"+n.toLowerCase()};function rT(n){return M7.test(n)?n.replace(E7,T7).replace(C7,"-ms-"):n}var iT=function(n){return n==null||n===!1||n===""};function Rm(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=Rm(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(iT(n))return"";if(NM(n))return"."+n.styledComponentId;if(h1(n)){if(typeof(u=n)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return n;var l=n(e);return Rm(l,e,t,r)}var u;return n instanceof A7?t?(n.inject(t,r),n.getName(r)):n:sS(n)?function c(h,p){var m,y,g=[];for(var x in h)h.hasOwnProperty(x)&&!iT(h[x])&&(Array.isArray(h[x])&&h[x].isCss||h1(h[x])?g.push(rT(x)+":",h[x],";"):sS(h[x])?g.push.apply(g,c(h[x],x)):g.push(rT(x)+": "+(m=x,(y=h[x])==null||typeof y=="boolean"||y===""?"":typeof y!="number"||y===0||m in U8?String(y).trim():y+"px")+";"));return p?[p+" {"].concat(g,["}"]):g}(n):n.toString()}var sT=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function L7(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return h1(n)||sS(n)?sT(Rm(ZC(Zx,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:sT(Rm(ZC(n,t)))}var R7=function(n,e,t){return t===void 0&&(t=Hf),n.theme!==t.theme&&n.theme||e||t.theme},P7=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,B7=/(^-|-$)/g;function z_(n){return n.replace(P7,"-").replace(B7,"")}var k7=function(n){return oS(kB(n)>>>0)};function Gv(n){return typeof n=="string"&&!0}var lS=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},I7=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function N7(n,e,t){var r=n[t];lS(e)&&lS(r)?DB(r,e):n[t]=e}function DB(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(lS(o))for(var a in o)I7(a)&&N7(n,o[a],a)}return n}var FB=D1.createContext();FB.Consumer;var H_={};function OB(n,e,t){var r=NM(n),i=!Gv(n),s=e.attrs,o=s===void 0?Zx:s,a=e.componentId,l=a===void 0?function(_,A){var C=typeof _!="string"?"sc":z_(_);H_[C]=(H_[C]||0)+1;var T=C+"-"+k7("5.3.5"+C+H_[C]);return A?A+"-"+T:T}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(_){return Gv(_)?"styled."+_:"Styled("+eT(_)+")"}(n):u,h=e.displayName&&e.componentId?z_(e.displayName)+"-"+e.componentId:e.componentId||l,p=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,m=e.shouldForwardProp;r&&n.shouldForwardProp&&(m=e.shouldForwardProp?function(_,A,C){return n.shouldForwardProp(_,A,C)&&e.shouldForwardProp(_,A,C)}:n.shouldForwardProp);var y,g=new v7(t,h,r?n.componentStyle:void 0),x=g.isStatic&&o.length===0,w=function(_,A){return function(C,T,D,I){var B=C.attrs,W=C.componentStyle,G=C.defaultProps,L=C.foldedComponentIds,P=C.shouldForwardProp,q=C.styledComponentId,z=C.target,ne=function(ue,j,we){ue===void 0&&(ue=Hf);var me=lc({},j,{theme:ue}),Ae={};return we.forEach(function(Te){var De,xe,Me,Ge=Te;for(De in h1(Ge)&&(Ge=Ge(me)),Ge)me[De]=Ae[De]=De==="className"?(xe=Ae[De],Me=Ge[De],xe&&Me?xe+" "+Me:xe||Me):Ge[De]}),[me,Ae]}(R7(T,Z.exports.useContext(FB),G)||Hf,T,B),re=ne[0],le=ne[1],F=function(ue,j,we,me){var Ae=b7(),Te=S7(),De=j?ue.generateAndInjectStyles(Hf,Ae,Te):ue.generateAndInjectStyles(we,Ae,Te);return De}(W,I,re),X=D,ie=le.$as||T.$as||le.as||T.as||z,ve=Gv(ie),N=le!==T?lc({},T,{},le):T,V={};for(var Q in N)Q[0]!=="$"&&Q!=="as"&&(Q==="forwardedAs"?V.as=N[Q]:(P?P(Q,XC,ie):!ve||XC(Q))&&(V[Q]=N[Q]));return T.style&&le.style!==T.style&&(V.style=lc({},T.style,{},le.style)),V.className=Array.prototype.concat(L,q,F!==q?F:null,T.className,le.className).filter(Boolean).join(" "),V.ref=X,Z.exports.createElement(ie,V)}(y,_,A,x)};return w.displayName=c,(y=D1.forwardRef(w)).attrs=p,y.componentStyle=g,y.displayName=c,y.shouldForwardProp=m,y.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):Zx,y.styledComponentId=h,y.target=r?n.target:n,y.withComponent=function(_){var A=e.componentId,C=function(D,I){if(D==null)return{};var B,W,G={},L=Object.keys(D);for(W=0;W<L.length;W++)B=L[W],I.indexOf(B)>=0||(G[B]=D[B]);return G}(e,["componentId"]),T=A&&A+"-"+(Gv(_)?_:z_(eT(_)));return OB(_,lc({},C,{attrs:p,componentId:T}),t)},Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=r?DB({},n.defaultProps,_):_}}),y.toString=function(){return"."+y.styledComponentId},i&&e7(y,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var uS=function(n){return function e(t,r,i){if(i===void 0&&(i=Hf),!CM.exports.isValidElementType(r))return H1(1,String(r));var s=function(){return t(r,i,L7.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,lc({},i,{},o))},s.attrs=function(o){return e(t,r,lc({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(OB,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){uS[n]=uS(n)});var ke=uS;const G1=n=>Z.exports.createElement("svg",Bt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-narrow-left",width:"1em",height:"1em",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},n),Z.exports.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Z.exports.createElement("line",{x1:5,y1:12,x2:19,y2:12}),Z.exports.createElement("line",{x1:5,y1:12,x2:9,y2:16}),Z.exports.createElement("line",{x1:5,y1:12,x2:9,y2:8}));var D7=[{value:"seller1",name:"John Doe"},{value:"seller2",name:" Jane Doe"},{value:"seller3",name:"Average Joe"}],F7=[{name:"Parket",value:"parket"},{name:"Deuren",value:"deuren"},{name:"Welkom",value:"welkom"},{name:"Digitale Werkmuur (links)",value:"werkmuurlinks"},{name:"Digitale Werkmuur (rechts)",value:"werkmuurrechts"},{name:"In de kijker",value:"kijker"},{name:"Bar",value:"bar"},{name:"WerkTV",value:"werktv"}];function O7(n){let e;const t=new Set,r=(u,c)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=c?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},i=()=>e,s=(u,c=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function m(){const y=c(e);if(!h(p,y)){const g=p;u(p=y,g)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,c,h)=>c||h?s(u,c,h):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const U7=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),oT=U7?Z.exports.useEffect:Z.exports.useLayoutEffect;function FM(n){const e=typeof n=="function"?O7(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=Z.exports.useReducer(x=>x+1,0),o=e.getState(),a=Z.exports.useRef(o),l=Z.exports.useRef(r),u=Z.exports.useRef(i),c=Z.exports.useRef(!1),h=Z.exports.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(p=r(o),m=!i(h.current,p)),oT(()=>{m&&(h.current=p),a.current=o,l.current=r,u.current=i,c.current=!1});const y=Z.exports.useRef(o);oT(()=>{const x=()=>{try{const _=e.getState(),A=l.current(_);u.current(h.current,A)||(a.current=_,h.current=A,s())}catch{c.current=!0,s()}},w=e.subscribe(x);return e.getState()!==y.current&&x(),w},[]);const g=m?p:h.current;return Z.exports.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var UB;function It(){return UB.apply(null,arguments)}function z7(n){UB=n}function Fl(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function ad(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function Kn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function OM(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(Kn(n,e))return!1;return!0}function Ro(n){return n===void 0}function wc(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function j1(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function zB(n,e){var t=[],r,i=n.length;for(r=0;r<i;++r)t.push(e(n[r],r));return t}function Cf(n,e){for(var t in e)Kn(e,t)&&(n[t]=e[t]);return Kn(e,"toString")&&(n.toString=e.toString),Kn(e,"valueOf")&&(n.valueOf=e.valueOf),n}function Mu(n,e,t,r){return ck(n,e,t,r,!0).utc()}function H7(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Sn(n){return n._pf==null&&(n._pf=H7()),n._pf}var cS;Array.prototype.some?cS=Array.prototype.some:cS=function(n){var e=Object(this),t=e.length>>>0,r;for(r=0;r<t;r++)if(r in e&&n.call(this,e[r],r,e))return!0;return!1};function UM(n){if(n._isValid==null){var e=Sn(n),t=cS.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(n._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(n._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=r;else return r}return n._isValid}function Q2(n){var e=Mu(NaN);return n!=null?Cf(Sn(e),n):Sn(e).userInvalidated=!0,e}var aT=It.momentProperties=[],G_=!1;function zM(n,e){var t,r,i,s=aT.length;if(Ro(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),Ro(e._i)||(n._i=e._i),Ro(e._f)||(n._f=e._f),Ro(e._l)||(n._l=e._l),Ro(e._strict)||(n._strict=e._strict),Ro(e._tzm)||(n._tzm=e._tzm),Ro(e._isUTC)||(n._isUTC=e._isUTC),Ro(e._offset)||(n._offset=e._offset),Ro(e._pf)||(n._pf=Sn(e)),Ro(e._locale)||(n._locale=e._locale),s>0)for(t=0;t<s;t++)r=aT[t],i=e[r],Ro(i)||(n[r]=i);return n}function W1(n){zM(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),G_===!1&&(G_=!0,It.updateOffset(this),G_=!1)}function Ol(n){return n instanceof W1||n!=null&&n._isAMomentObject!=null}function HB(n){It.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+n)}function Za(n,e){var t=!0;return Cf(function(){if(It.deprecationHandler!=null&&It.deprecationHandler(null,n),t){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Kn(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}HB(n+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var lT={};function GB(n,e){It.deprecationHandler!=null&&It.deprecationHandler(n,e),lT[n]||(HB(e),lT[n]=!0)}It.suppressDeprecationWarnings=!1;It.deprecationHandler=null;function Eu(n){return typeof Function!="undefined"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function G7(n){var e,t;for(t in n)Kn(n,t)&&(e=n[t],Eu(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function fS(n,e){var t=Cf({},n),r;for(r in e)Kn(e,r)&&(ad(n[r])&&ad(e[r])?(t[r]={},Cf(t[r],n[r]),Cf(t[r],e[r])):e[r]!=null?t[r]=e[r]:delete t[r]);for(r in n)Kn(n,r)&&!Kn(e,r)&&ad(n[r])&&(t[r]=Cf({},t[r]));return t}function HM(n){n!=null&&this.set(n)}var hS;Object.keys?hS=Object.keys:hS=function(n){var e,t=[];for(e in n)Kn(n,e)&&t.push(e);return t};var j7={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function W7(n,e,t){var r=this._calendar[n]||this._calendar.sameElse;return Eu(r)?r.call(e,t):r}function vu(n,e,t){var r=""+Math.abs(n),i=e-r.length,s=n>=0;return(s?t?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var GM=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,jv=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j_={},dm={};function $t(n,e,t,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),n&&(dm[n]=i),e&&(dm[e[0]]=function(){return vu(i.apply(this,arguments),e[1],e[2])}),t&&(dm[t]=function(){return this.localeData().ordinal(i.apply(this,arguments),n)})}function V7(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function q7(n){var e=n.match(GM),t,r;for(t=0,r=e.length;t<r;t++)dm[e[t]]?e[t]=dm[e[t]]:e[t]=V7(e[t]);return function(i){var s="",o;for(o=0;o<r;o++)s+=Eu(e[o])?e[o].call(i,n):e[o];return s}}function lx(n,e){return n.isValid()?(e=jB(e,n.localeData()),j_[e]=j_[e]||q7(e),j_[e](n)):n.localeData().invalidDate()}function jB(n,e){var t=5;function r(i){return e.longDateFormat(i)||i}for(jv.lastIndex=0;t>=0&&jv.test(n);)n=n.replace(jv,r),jv.lastIndex=0,t-=1;return n}var Y7={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function J7(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(GM).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[n])}var X7="Invalid date";function $7(){return this._invalidDate}var K7="%d",Q7=/\d{1,2}/;function Z7(n){return this._ordinal.replace("%d",n)}var e9={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function t9(n,e,t,r){var i=this._relativeTime[t];return Eu(i)?i(n,e,t,r):i.replace(/%d/i,n)}function n9(n,e){var t=this._relativeTime[n>0?"future":"past"];return Eu(t)?t(e):t.replace(/%s/i,e)}var G0={};function Ks(n,e){var t=n.toLowerCase();G0[t]=G0[t+"s"]=G0[e]=n}function el(n){return typeof n=="string"?G0[n]||G0[n.toLowerCase()]:void 0}function jM(n){var e={},t,r;for(r in n)Kn(n,r)&&(t=el(r),t&&(e[t]=n[r]));return e}var WB={};function Qs(n,e){WB[n]=e}function r9(n){var e=[],t;for(t in n)Kn(n,t)&&e.push({unit:t,priority:WB[t]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Z2(n){return n%4===0&&n%100!==0||n%400===0}function za(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Tn(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=za(e)),t}function og(n,e){return function(t){return t!=null?(VB(this,n,t),It.updateOffset(this,e),this):t2(this,n)}}function t2(n,e){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+e]():NaN}function VB(n,e,t){n.isValid()&&!isNaN(t)&&(e==="FullYear"&&Z2(n.year())&&n.month()===1&&n.date()===29?(t=Tn(t),n._d["set"+(n._isUTC?"UTC":"")+e](t,n.month(),sw(t,n.month()))):n._d["set"+(n._isUTC?"UTC":"")+e](t))}function i9(n){return n=el(n),Eu(this[n])?this[n]():this}function s9(n,e){if(typeof n=="object"){n=jM(n);var t=r9(n),r,i=t.length;for(r=0;r<i;r++)this[t[r].unit](n[t[r].unit])}else if(n=el(n),Eu(this[n]))return this[n](e);return this}var qB=/\d/,pa=/\d\d/,YB=/\d{3}/,WM=/\d{4}/,ew=/[+-]?\d{6}/,Rr=/\d\d?/,JB=/\d\d\d\d?/,XB=/\d\d\d\d\d\d?/,tw=/\d{1,3}/,VM=/\d{1,4}/,nw=/[+-]?\d{1,6}/,ag=/\d+/,rw=/[+-]?\d+/,o9=/Z|[+-]\d\d:?\d\d/gi,iw=/Z|[+-]\d\d(?::?\d\d)?/gi,a9=/[+-]?\d+(\.\d{1,3})?/,V1=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,n2;n2={};function Ut(n,e,t){n2[n]=Eu(e)?e:function(r,i){return r&&t?t:e}}function l9(n,e){return Kn(n2,n)?n2[n](e._strict,e._locale):new RegExp(u9(n))}function u9(n){return na(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,i,s){return t||r||i||s}))}function na(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dS={};function gr(n,e){var t,r=e,i;for(typeof n=="string"&&(n=[n]),wc(e)&&(r=function(s,o){o[e]=Tn(s)}),i=n.length,t=0;t<i;t++)dS[n[t]]=r}function q1(n,e){gr(n,function(t,r,i,s){i._w=i._w||{},e(t,i._w,i,s)})}function c9(n,e,t){e!=null&&Kn(dS,n)&&dS[n](e,t._a,t,n)}var Js=0,uc=1,uu=2,Gi=3,Rl=4,cc=5,ed=6,f9=7,h9=8;function d9(n,e){return(n%e+e)%e}var ci;Array.prototype.indexOf?ci=Array.prototype.indexOf:ci=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function sw(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=d9(e,12);return n+=(e-t)/12,t===1?Z2(n)?29:28:31-t%7%2}$t("M",["MM",2],"Mo",function(){return this.month()+1});$t("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});$t("MMMM",0,0,function(n){return this.localeData().months(this,n)});Ks("month","M");Qs("month",8);Ut("M",Rr);Ut("MM",Rr,pa);Ut("MMM",function(n,e){return e.monthsShortRegex(n)});Ut("MMMM",function(n,e){return e.monthsRegex(n)});gr(["M","MM"],function(n,e){e[uc]=Tn(n)-1});gr(["MMM","MMMM"],function(n,e,t,r){var i=t._locale.monthsParse(n,r,t._strict);i!=null?e[uc]=i:Sn(t).invalidMonth=n});var p9="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$B="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),KB=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,m9=V1,g9=V1;function v9(n,e){return n?Fl(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||KB).test(e)?"format":"standalone"][n.month()]:Fl(this._months)?this._months:this._months.standalone}function y9(n,e){return n?Fl(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[KB.test(e)?"format":"standalone"][n.month()]:Fl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function x9(n,e,t){var r,i,s,o=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Mu([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return t?e==="MMM"?(i=ci.call(this._shortMonthsParse,o),i!==-1?i:null):(i=ci.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=ci.call(this._shortMonthsParse,o),i!==-1?i:(i=ci.call(this._longMonthsParse,o),i!==-1?i:null)):(i=ci.call(this._longMonthsParse,o),i!==-1?i:(i=ci.call(this._shortMonthsParse,o),i!==-1?i:null))}function w9(n,e,t){var r,i,s;if(this._monthsParseExact)return x9.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Mu([2e3,r]),t&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!t&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[r].test(n))return r;if(t&&e==="MMM"&&this._shortMonthsParse[r].test(n))return r;if(!t&&this._monthsParse[r].test(n))return r}}function QB(n,e){var t;if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=Tn(e);else if(e=n.localeData().monthsParse(e),!wc(e))return n}return t=Math.min(n.date(),sw(n.year(),e)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](e,t),n}function ZB(n){return n!=null?(QB(this,n),It.updateOffset(this,!0),this):t2(this,"Month")}function _9(){return sw(this.year(),this.month())}function b9(n){return this._monthsParseExact?(Kn(this,"_monthsRegex")||ek.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Kn(this,"_monthsShortRegex")||(this._monthsShortRegex=m9),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function S9(n){return this._monthsParseExact?(Kn(this,"_monthsRegex")||ek.call(this),n?this._monthsStrictRegex:this._monthsRegex):(Kn(this,"_monthsRegex")||(this._monthsRegex=g9),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function ek(){function n(o,a){return a.length-o.length}var e=[],t=[],r=[],i,s;for(i=0;i<12;i++)s=Mu([2e3,i]),e.push(this.monthsShort(s,"")),t.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(n),t.sort(n),r.sort(n),i=0;i<12;i++)e[i]=na(e[i]),t[i]=na(t[i]);for(i=0;i<24;i++)r[i]=na(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}$t("Y",0,0,function(){var n=this.year();return n<=9999?vu(n,4):"+"+n});$t(0,["YY",2],0,function(){return this.year()%100});$t(0,["YYYY",4],0,"year");$t(0,["YYYYY",5],0,"year");$t(0,["YYYYYY",6,!0],0,"year");Ks("year","y");Qs("year",1);Ut("Y",rw);Ut("YY",Rr,pa);Ut("YYYY",VM,WM);Ut("YYYYY",nw,ew);Ut("YYYYYY",nw,ew);gr(["YYYYY","YYYYYY"],Js);gr("YYYY",function(n,e){e[Js]=n.length===2?It.parseTwoDigitYear(n):Tn(n)});gr("YY",function(n,e){e[Js]=It.parseTwoDigitYear(n)});gr("Y",function(n,e){e[Js]=parseInt(n,10)});function j0(n){return Z2(n)?366:365}It.parseTwoDigitYear=function(n){return Tn(n)+(Tn(n)>68?1900:2e3)};var tk=og("FullYear",!0);function A9(){return Z2(this.year())}function M9(n,e,t,r,i,s,o){var a;return n<100&&n>=0?(a=new Date(n+400,e,t,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,e,t,r,i,s,o),a}function d1(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function r2(n,e,t){var r=7+e-t,i=(7+d1(n,0,r).getUTCDay()-e)%7;return-i+r-1}function nk(n,e,t,r,i){var s=(7+t-r)%7,o=r2(n,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=n-1,u=j0(l)+a):a>j0(n)?(l=n+1,u=a-j0(n)):(l=n,u=a),{year:l,dayOfYear:u}}function p1(n,e,t){var r=r2(n.year(),e,t),i=Math.floor((n.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=n.year()-1,s=i+dc(o,e,t)):i>dc(n.year(),e,t)?(s=i-dc(n.year(),e,t),o=n.year()+1):(o=n.year(),s=i),{week:s,year:o}}function dc(n,e,t){var r=r2(n,e,t),i=r2(n+1,e,t);return(j0(n)-r+i)/7}$t("w",["ww",2],"wo","week");$t("W",["WW",2],"Wo","isoWeek");Ks("week","w");Ks("isoWeek","W");Qs("week",5);Qs("isoWeek",5);Ut("w",Rr);Ut("ww",Rr,pa);Ut("W",Rr);Ut("WW",Rr,pa);q1(["w","ww","W","WW"],function(n,e,t,r){e[r.substr(0,1)]=Tn(n)});function E9(n){return p1(n,this._week.dow,this._week.doy).week}var C9={dow:0,doy:6};function T9(){return this._week.dow}function L9(){return this._week.doy}function R9(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function P9(n){var e=p1(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}$t("d",0,"do","day");$t("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});$t("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});$t("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});$t("e",0,0,"weekday");$t("E",0,0,"isoWeekday");Ks("day","d");Ks("weekday","e");Ks("isoWeekday","E");Qs("day",11);Qs("weekday",11);Qs("isoWeekday",11);Ut("d",Rr);Ut("e",Rr);Ut("E",Rr);Ut("dd",function(n,e){return e.weekdaysMinRegex(n)});Ut("ddd",function(n,e){return e.weekdaysShortRegex(n)});Ut("dddd",function(n,e){return e.weekdaysRegex(n)});q1(["dd","ddd","dddd"],function(n,e,t,r){var i=t._locale.weekdaysParse(n,r,t._strict);i!=null?e.d=i:Sn(t).invalidWeekday=n});q1(["d","e","E"],function(n,e,t,r){e[r]=Tn(n)});function B9(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function k9(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function qM(n,e){return n.slice(e,7).concat(n.slice(0,e))}var I9="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rk="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),N9="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),D9=V1,F9=V1,O9=V1;function U9(n,e){var t=Fl(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?qM(t,this._week.dow):n?t[n.day()]:t}function z9(n){return n===!0?qM(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function H9(n){return n===!0?qM(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function G9(n,e,t){var r,i,s,o=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Mu([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return t?e==="dddd"?(i=ci.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=ci.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=ci.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=ci.call(this._weekdaysParse,o),i!==-1||(i=ci.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=ci.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=ci.call(this._shortWeekdaysParse,o),i!==-1||(i=ci.call(this._weekdaysParse,o),i!==-1)?i:(i=ci.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=ci.call(this._minWeekdaysParse,o),i!==-1||(i=ci.call(this._weekdaysParse,o),i!==-1)?i:(i=ci.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function j9(n,e,t){var r,i,s;if(this._weekdaysParseExact)return G9.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Mu([2e3,1]).day(r),t&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[r].test(n))return r;if(t&&e==="ddd"&&this._shortWeekdaysParse[r].test(n))return r;if(t&&e==="dd"&&this._minWeekdaysParse[r].test(n))return r;if(!t&&this._weekdaysParse[r].test(n))return r}}function W9(n){if(!this.isValid())return n!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return n!=null?(n=B9(n,this.localeData()),this.add(n-e,"d")):e}function V9(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function q9(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=k9(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Y9(n){return this._weekdaysParseExact?(Kn(this,"_weekdaysRegex")||YM.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Kn(this,"_weekdaysRegex")||(this._weekdaysRegex=D9),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function J9(n){return this._weekdaysParseExact?(Kn(this,"_weekdaysRegex")||YM.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Kn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=F9),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function X9(n){return this._weekdaysParseExact?(Kn(this,"_weekdaysRegex")||YM.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Kn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=O9),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function YM(){function n(c,h){return h.length-c.length}var e=[],t=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=Mu([2e3,1]).day(s),a=na(this.weekdaysMin(o,"")),l=na(this.weekdaysShort(o,"")),u=na(this.weekdays(o,"")),e.push(a),t.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(n),t.sort(n),r.sort(n),i.sort(n),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function JM(){return this.hours()%12||12}function $9(){return this.hours()||24}$t("H",["HH",2],0,"hour");$t("h",["hh",2],0,JM);$t("k",["kk",2],0,$9);$t("hmm",0,0,function(){return""+JM.apply(this)+vu(this.minutes(),2)});$t("hmmss",0,0,function(){return""+JM.apply(this)+vu(this.minutes(),2)+vu(this.seconds(),2)});$t("Hmm",0,0,function(){return""+this.hours()+vu(this.minutes(),2)});$t("Hmmss",0,0,function(){return""+this.hours()+vu(this.minutes(),2)+vu(this.seconds(),2)});function ik(n,e){$t(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}ik("a",!0);ik("A",!1);Ks("hour","h");Qs("hour",13);function sk(n,e){return e._meridiemParse}Ut("a",sk);Ut("A",sk);Ut("H",Rr);Ut("h",Rr);Ut("k",Rr);Ut("HH",Rr,pa);Ut("hh",Rr,pa);Ut("kk",Rr,pa);Ut("hmm",JB);Ut("hmmss",XB);Ut("Hmm",JB);Ut("Hmmss",XB);gr(["H","HH"],Gi);gr(["k","kk"],function(n,e,t){var r=Tn(n);e[Gi]=r===24?0:r});gr(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});gr(["h","hh"],function(n,e,t){e[Gi]=Tn(n),Sn(t).bigHour=!0});gr("hmm",function(n,e,t){var r=n.length-2;e[Gi]=Tn(n.substr(0,r)),e[Rl]=Tn(n.substr(r)),Sn(t).bigHour=!0});gr("hmmss",function(n,e,t){var r=n.length-4,i=n.length-2;e[Gi]=Tn(n.substr(0,r)),e[Rl]=Tn(n.substr(r,2)),e[cc]=Tn(n.substr(i)),Sn(t).bigHour=!0});gr("Hmm",function(n,e,t){var r=n.length-2;e[Gi]=Tn(n.substr(0,r)),e[Rl]=Tn(n.substr(r))});gr("Hmmss",function(n,e,t){var r=n.length-4,i=n.length-2;e[Gi]=Tn(n.substr(0,r)),e[Rl]=Tn(n.substr(r,2)),e[cc]=Tn(n.substr(i))});function K9(n){return(n+"").toLowerCase().charAt(0)==="p"}var Q9=/[ap]\.?m?\.?/i,Z9=og("Hours",!0);function eU(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var ok={calendar:j7,longDateFormat:Y7,invalidDate:X7,ordinal:K7,dayOfMonthOrdinalParse:Q7,relativeTime:e9,months:p9,monthsShort:$B,week:C9,weekdays:I9,weekdaysMin:N9,weekdaysShort:rk,meridiemParse:Q9},kr={},i0={},m1;function tU(n,e){var t,r=Math.min(n.length,e.length);for(t=0;t<r;t+=1)if(n[t]!==e[t])return t;return r}function uT(n){return n&&n.toLowerCase().replace("_","-")}function nU(n){for(var e=0,t,r,i,s;e<n.length;){for(s=uT(n[e]).split("-"),t=s.length,r=uT(n[e+1]),r=r?r.split("-"):null;t>0;){if(i=ow(s.slice(0,t).join("-")),i)return i;if(r&&r.length>=t&&tU(s,r)>=t-1)break;t--}e++}return m1}function rU(n){return n.match("^[^/\\\\]*$")!=null}function ow(n){var e=null,t;if(kr[n]===void 0&&typeof module!="undefined"&&module&&module.exports&&rU(n))try{e=m1._abbr,t=require,t("./locale/"+n),Gf(e)}catch{kr[n]=null}return kr[n]}function Gf(n,e){var t;return n&&(Ro(e)?t=Ac(n):t=XM(n,e),t?m1=t:typeof console!="undefined"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),m1._abbr}function XM(n,e){if(e!==null){var t,r=ok;if(e.abbr=n,kr[n]!=null)GB("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=kr[n]._config;else if(e.parentLocale!=null)if(kr[e.parentLocale]!=null)r=kr[e.parentLocale]._config;else if(t=ow(e.parentLocale),t!=null)r=t._config;else return i0[e.parentLocale]||(i0[e.parentLocale]=[]),i0[e.parentLocale].push({name:n,config:e}),null;return kr[n]=new HM(fS(r,e)),i0[n]&&i0[n].forEach(function(i){XM(i.name,i.config)}),Gf(n),kr[n]}else return delete kr[n],null}function iU(n,e){if(e!=null){var t,r,i=ok;kr[n]!=null&&kr[n].parentLocale!=null?kr[n].set(fS(kr[n]._config,e)):(r=ow(n),r!=null&&(i=r._config),e=fS(i,e),r==null&&(e.abbr=n),t=new HM(e),t.parentLocale=kr[n],kr[n]=t),Gf(n)}else kr[n]!=null&&(kr[n].parentLocale!=null?(kr[n]=kr[n].parentLocale,n===Gf()&&Gf(n)):kr[n]!=null&&delete kr[n]);return kr[n]}function Ac(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return m1;if(!Fl(n)){if(e=ow(n),e)return e;n=[n]}return nU(n)}function sU(){return hS(kr)}function $M(n){var e,t=n._a;return t&&Sn(n).overflow===-2&&(e=t[uc]<0||t[uc]>11?uc:t[uu]<1||t[uu]>sw(t[Js],t[uc])?uu:t[Gi]<0||t[Gi]>24||t[Gi]===24&&(t[Rl]!==0||t[cc]!==0||t[ed]!==0)?Gi:t[Rl]<0||t[Rl]>59?Rl:t[cc]<0||t[cc]>59?cc:t[ed]<0||t[ed]>999?ed:-1,Sn(n)._overflowDayOfYear&&(e<Js||e>uu)&&(e=uu),Sn(n)._overflowWeeks&&e===-1&&(e=f9),Sn(n)._overflowWeekday&&e===-1&&(e=h9),Sn(n).overflow=e),n}var oU=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,aU=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lU=/Z|[+-]\d\d(?::?\d\d)?/,Wv=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],W_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],uU=/^\/?Date\((-?\d+)/i,cU=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,fU={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ak(n){var e,t,r=n._i,i=oU.exec(r)||aU.exec(r),s,o,a,l,u=Wv.length,c=W_.length;if(i){for(Sn(n).iso=!0,e=0,t=u;e<t;e++)if(Wv[e][1].exec(i[1])){o=Wv[e][0],s=Wv[e][2]!==!1;break}if(o==null){n._isValid=!1;return}if(i[3]){for(e=0,t=c;e<t;e++)if(W_[e][1].exec(i[3])){a=(i[2]||" ")+W_[e][0];break}if(a==null){n._isValid=!1;return}}if(!s&&a!=null){n._isValid=!1;return}if(i[4])if(lU.exec(i[4]))l="Z";else{n._isValid=!1;return}n._f=o+(a||"")+(l||""),QM(n)}else n._isValid=!1}function hU(n,e,t,r,i,s){var o=[dU(n),$B.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function dU(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function pU(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function mU(n,e,t){if(n){var r=rk.indexOf(n),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Sn(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function gU(n,e,t){if(n)return fU[n];if(e)return 0;var r=parseInt(t,10),i=r%100,s=(r-i)/100;return s*60+i}function lk(n){var e=cU.exec(pU(n._i)),t;if(e){if(t=hU(e[4],e[3],e[2],e[5],e[6],e[7]),!mU(e[1],t,n))return;n._a=t,n._tzm=gU(e[8],e[9],e[10]),n._d=d1.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),Sn(n).rfc2822=!0}else n._isValid=!1}function vU(n){var e=uU.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(ak(n),n._isValid===!1)delete n._isValid;else return;if(lk(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:It.createFromInputFallback(n)}It.createFromInputFallback=Za("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function Np(n,e,t){return n!=null?n:e!=null?e:t}function yU(n){var e=new Date(It.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function KM(n){var e,t,r=[],i,s,o;if(!n._d){for(i=yU(n),n._w&&n._a[uu]==null&&n._a[uc]==null&&xU(n),n._dayOfYear!=null&&(o=Np(n._a[Js],i[Js]),(n._dayOfYear>j0(o)||n._dayOfYear===0)&&(Sn(n)._overflowDayOfYear=!0),t=d1(o,0,n._dayOfYear),n._a[uc]=t.getUTCMonth(),n._a[uu]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=r[e]=i[e];for(;e<7;e++)n._a[e]=r[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[Gi]===24&&n._a[Rl]===0&&n._a[cc]===0&&n._a[ed]===0&&(n._nextDay=!0,n._a[Gi]=0),n._d=(n._useUTC?d1:M9).apply(null,r),s=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[Gi]=24),n._w&&typeof n._w.d!="undefined"&&n._w.d!==s&&(Sn(n).weekdayMismatch=!0)}}function xU(n){var e,t,r,i,s,o,a,l,u;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,t=Np(e.GG,n._a[Js],p1(Lr(),1,4).year),r=Np(e.W,1),i=Np(e.E,1),(i<1||i>7)&&(l=!0)):(s=n._locale._week.dow,o=n._locale._week.doy,u=p1(Lr(),s,o),t=Np(e.gg,n._a[Js],u.year),r=Np(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>dc(t,s,o)?Sn(n)._overflowWeeks=!0:l!=null?Sn(n)._overflowWeekday=!0:(a=nk(t,r,i,s,o),n._a[Js]=a.year,n._dayOfYear=a.dayOfYear)}It.ISO_8601=function(){};It.RFC_2822=function(){};function QM(n){if(n._f===It.ISO_8601){ak(n);return}if(n._f===It.RFC_2822){lk(n);return}n._a=[],Sn(n).empty=!0;var e=""+n._i,t,r,i,s,o,a=e.length,l=0,u,c;for(i=jB(n._f,n._locale).match(GM)||[],c=i.length,t=0;t<c;t++)s=i[t],r=(e.match(l9(s,n))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&Sn(n).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),dm[s]?(r?Sn(n).empty=!1:Sn(n).unusedTokens.push(s),c9(s,r,n)):n._strict&&!r&&Sn(n).unusedTokens.push(s);Sn(n).charsLeftOver=a-l,e.length>0&&Sn(n).unusedInput.push(e),n._a[Gi]<=12&&Sn(n).bigHour===!0&&n._a[Gi]>0&&(Sn(n).bigHour=void 0),Sn(n).parsedDateParts=n._a.slice(0),Sn(n).meridiem=n._meridiem,n._a[Gi]=wU(n._locale,n._a[Gi],n._meridiem),u=Sn(n).era,u!==null&&(n._a[Js]=n._locale.erasConvertYear(u,n._a[Js])),KM(n),$M(n)}function wU(n,e,t){var r;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(r=n.isPM(t),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function _U(n){var e,t,r,i,s,o,a=!1,l=n._f.length;if(l===0){Sn(n).invalidFormat=!0,n._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=zM({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[i],QM(e),UM(e)&&(o=!0),s+=Sn(e).charsLeftOver,s+=Sn(e).unusedTokens.length*10,Sn(e).score=s,a?s<r&&(r=s,t=e):(r==null||s<r||o)&&(r=s,t=e,o&&(a=!0));Cf(n,t||e)}function bU(n){if(!n._d){var e=jM(n._i),t=e.day===void 0?e.date:e.day;n._a=zB([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),KM(n)}}function SU(n){var e=new W1($M(uk(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function uk(n){var e=n._i,t=n._f;return n._locale=n._locale||Ac(n._l),e===null||t===void 0&&e===""?Q2({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),Ol(e)?new W1($M(e)):(j1(e)?n._d=e:Fl(t)?_U(n):t?QM(n):AU(n),UM(n)||(n._d=null),n))}function AU(n){var e=n._i;Ro(e)?n._d=new Date(It.now()):j1(e)?n._d=new Date(e.valueOf()):typeof e=="string"?vU(n):Fl(e)?(n._a=zB(e.slice(0),function(t){return parseInt(t,10)}),KM(n)):ad(e)?bU(n):wc(e)?n._d=new Date(e):It.createFromInputFallback(n)}function ck(n,e,t,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(t===!0||t===!1)&&(r=t,t=void 0),(ad(n)&&OM(n)||Fl(n)&&n.length===0)&&(n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=t,s._i=n,s._f=e,s._strict=r,SU(s)}function Lr(n,e,t,r){return ck(n,e,t,r,!1)}var MU=Za("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Lr.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:Q2()}),EU=Za("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Lr.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:Q2()});function fk(n,e){var t,r;if(e.length===1&&Fl(e[0])&&(e=e[0]),!e.length)return Lr();for(t=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][n](t))&&(t=e[r]);return t}function CU(){var n=[].slice.call(arguments,0);return fk("isBefore",n)}function TU(){var n=[].slice.call(arguments,0);return fk("isAfter",n)}var LU=function(){return Date.now?Date.now():+new Date},s0=["year","quarter","month","week","day","hour","minute","second","millisecond"];function RU(n){var e,t=!1,r,i=s0.length;for(e in n)if(Kn(n,e)&&!(ci.call(s0,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(r=0;r<i;++r)if(n[s0[r]]){if(t)return!1;parseFloat(n[s0[r]])!==Tn(n[s0[r]])&&(t=!0)}return!0}function PU(){return this._isValid}function BU(){return zl(NaN)}function aw(n){var e=jM(n),t=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=RU(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+t*12,this._data={},this._locale=Ac(),this._bubble()}function ux(n){return n instanceof aw}function pS(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function kU(n,e,t){var r=Math.min(n.length,e.length),i=Math.abs(n.length-e.length),s=0,o;for(o=0;o<r;o++)(t&&n[o]!==e[o]||!t&&Tn(n[o])!==Tn(e[o]))&&s++;return s+i}function hk(n,e){$t(n,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+vu(~~(t/60),2)+e+vu(~~t%60,2)})}hk("Z",":");hk("ZZ","");Ut("Z",iw);Ut("ZZ",iw);gr(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=ZM(iw,n)});var IU=/([\+\-]|\d\d)/gi;function ZM(n,e){var t=(e||"").match(n),r,i,s;return t===null?null:(r=t[t.length-1]||[],i=(r+"").match(IU)||["-",0,0],s=+(i[1]*60)+Tn(i[2]),s===0?0:i[0]==="+"?s:-s)}function e3(n,e){var t,r;return e._isUTC?(t=e.clone(),r=(Ol(n)||j1(n)?n.valueOf():Lr(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+r),It.updateOffset(t,!1),t):Lr(n).local()}function mS(n){return-Math.round(n._d.getTimezoneOffset())}It.updateOffset=function(){};function NU(n,e,t){var r=this._offset||0,i;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=ZM(iw,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(i=mS(this)),this._offset=n,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==n&&(!e||this._changeInProgress?mk(this,zl(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,It.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:mS(this)}function DU(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function FU(n){return this.utcOffset(0,n)}function OU(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(mS(this),"m")),this}function UU(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=ZM(o9,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function zU(n){return this.isValid()?(n=n?Lr(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function HU(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function GU(){if(!Ro(this._isDSTShifted))return this._isDSTShifted;var n={},e;return zM(n,this),n=uk(n),n._a?(e=n._isUTC?Mu(n._a):Lr(n._a),this._isDSTShifted=this.isValid()&&kU(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function jU(){return this.isValid()?!this._isUTC:!1}function WU(){return this.isValid()?this._isUTC:!1}function dk(){return this.isValid()?this._isUTC&&this._offset===0:!1}var VU=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,qU=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zl(n,e){var t=n,r=null,i,s,o;return ux(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:wc(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(r=VU.exec(n))?(i=r[1]==="-"?-1:1,t={y:0,d:Tn(r[uu])*i,h:Tn(r[Gi])*i,m:Tn(r[Rl])*i,s:Tn(r[cc])*i,ms:Tn(pS(r[ed]*1e3))*i}):(r=qU.exec(n))?(i=r[1]==="-"?-1:1,t={y:Rh(r[2],i),M:Rh(r[3],i),w:Rh(r[4],i),d:Rh(r[5],i),h:Rh(r[6],i),m:Rh(r[7],i),s:Rh(r[8],i)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=YU(Lr(t.from),Lr(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),s=new aw(t),ux(n)&&Kn(n,"_locale")&&(s._locale=n._locale),ux(n)&&Kn(n,"_isValid")&&(s._isValid=n._isValid),s}zl.fn=aw.prototype;zl.invalid=BU;function Rh(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function cT(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function YU(n,e){var t;return n.isValid()&&e.isValid()?(e=e3(e,n),n.isBefore(e)?t=cT(n,e):(t=cT(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function pk(n,e){return function(t,r){var i,s;return r!==null&&!isNaN(+r)&&(GB(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=t,t=r,r=s),i=zl(t,r),mk(this,i,n),this}}function mk(n,e,t,r){var i=e._milliseconds,s=pS(e._days),o=pS(e._months);!n.isValid()||(r=r==null?!0:r,o&&QB(n,t2(n,"Month")+o*t),s&&VB(n,"Date",t2(n,"Date")+s*t),i&&n._d.setTime(n._d.valueOf()+i*t),r&&It.updateOffset(n,s||o))}var JU=pk(1,"add"),XU=pk(-1,"subtract");function gk(n){return typeof n=="string"||n instanceof String}function $U(n){return Ol(n)||j1(n)||gk(n)||wc(n)||QU(n)||KU(n)||n===null||n===void 0}function KU(n){var e=ad(n)&&!OM(n),t=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],t=t||Kn(n,s);return e&&t}function QU(n){var e=Fl(n),t=!1;return e&&(t=n.filter(function(r){return!wc(r)&&gk(n)}).length===0),e&&t}function ZU(n){var e=ad(n)&&!OM(n),t=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],t=t||Kn(n,s);return e&&t}function ez(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function tz(n,e){arguments.length===1&&(arguments[0]?$U(arguments[0])?(n=arguments[0],e=void 0):ZU(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||Lr(),r=e3(t,this).startOf("day"),i=It.calendarFormat(this,r)||"sameElse",s=e&&(Eu(e[i])?e[i].call(this,t):e[i]);return this.format(s||this.localeData().calendar(i,this,Lr(t)))}function nz(){return new W1(this)}function rz(n,e){var t=Ol(n)?n:Lr(n);return this.isValid()&&t.isValid()?(e=el(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function iz(n,e){var t=Ol(n)?n:Lr(n);return this.isValid()&&t.isValid()?(e=el(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function sz(n,e,t,r){var i=Ol(n)?n:Lr(n),s=Ol(e)?e:Lr(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,t):!this.isBefore(i,t))&&(r[1]===")"?this.isBefore(s,t):!this.isAfter(s,t))):!1}function oz(n,e){var t=Ol(n)?n:Lr(n),r;return this.isValid()&&t.isValid()?(e=el(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(r=t.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function az(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function lz(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function uz(n,e,t){var r,i,s;if(!this.isValid())return NaN;if(r=e3(n,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=el(e),e){case"year":s=cx(this,r)/12;break;case"month":s=cx(this,r);break;case"quarter":s=cx(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return t?s:za(s)}function cx(n,e){if(n.date()<e.date())return-cx(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),r=n.clone().add(t,"months"),i,s;return e-r<0?(i=n.clone().add(t-1,"months"),s=(e-r)/(r-i)):(i=n.clone().add(t+1,"months"),s=(e-r)/(i-r)),-(t+s)||0}It.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";It.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function cz(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fz(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?lx(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Eu(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",lx(t,"Z")):lx(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function hz(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,r,i,s;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(t+r+i+s)}function dz(n){n||(n=this.isUtc()?It.defaultFormatUtc:It.defaultFormat);var e=lx(this,n);return this.localeData().postformat(e)}function pz(n,e){return this.isValid()&&(Ol(n)&&n.isValid()||Lr(n).isValid())?zl({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function mz(n){return this.from(Lr(),n)}function gz(n,e){return this.isValid()&&(Ol(n)&&n.isValid()||Lr(n).isValid())?zl({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function vz(n){return this.to(Lr(),n)}function vk(n){var e;return n===void 0?this._locale._abbr:(e=Ac(n),e!=null&&(this._locale=e),this)}var yk=Za("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function xk(){return this._locale}var i2=1e3,pm=60*i2,s2=60*pm,wk=(365*400+97)*24*s2;function mm(n,e){return(n%e+e)%e}function _k(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-wk:new Date(n,e,t).valueOf()}function bk(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-wk:Date.UTC(n,e,t)}function yz(n){var e,t;if(n=el(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?bk:_k,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=mm(e+(this._isUTC?0:this.utcOffset()*pm),s2);break;case"minute":e=this._d.valueOf(),e-=mm(e,pm);break;case"second":e=this._d.valueOf(),e-=mm(e,i2);break}return this._d.setTime(e),It.updateOffset(this,!0),this}function xz(n){var e,t;if(n=el(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?bk:_k,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=s2-mm(e+(this._isUTC?0:this.utcOffset()*pm),s2)-1;break;case"minute":e=this._d.valueOf(),e+=pm-mm(e,pm)-1;break;case"second":e=this._d.valueOf(),e+=i2-mm(e,i2)-1;break}return this._d.setTime(e),It.updateOffset(this,!0),this}function wz(){return this._d.valueOf()-(this._offset||0)*6e4}function _z(){return Math.floor(this.valueOf()/1e3)}function bz(){return new Date(this.valueOf())}function Sz(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function Az(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function Mz(){return this.isValid()?this.toISOString():null}function Ez(){return UM(this)}function Cz(){return Cf({},Sn(this))}function Tz(){return Sn(this).overflow}function Lz(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}$t("N",0,0,"eraAbbr");$t("NN",0,0,"eraAbbr");$t("NNN",0,0,"eraAbbr");$t("NNNN",0,0,"eraName");$t("NNNNN",0,0,"eraNarrow");$t("y",["y",1],"yo","eraYear");$t("y",["yy",2],0,"eraYear");$t("y",["yyy",3],0,"eraYear");$t("y",["yyyy",4],0,"eraYear");Ut("N",t3);Ut("NN",t3);Ut("NNN",t3);Ut("NNNN",zz);Ut("NNNNN",Hz);gr(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,r){var i=t._locale.erasParse(n,r,t._strict);i?Sn(t).era=i:Sn(t).invalidEra=n});Ut("y",ag);Ut("yy",ag);Ut("yyy",ag);Ut("yyyy",ag);Ut("yo",Gz);gr(["y","yy","yyy","yyyy"],Js);gr(["yo"],function(n,e,t,r){var i;t._locale._eraYearOrdinalRegex&&(i=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[Js]=t._locale.eraYearOrdinalParse(n,i):e[Js]=parseInt(n,10)});function Rz(n,e){var t,r,i,s=this._eras||Ac("en")._eras;for(t=0,r=s.length;t<r;++t){switch(typeof s[t].since){case"string":i=It(s[t].since).startOf("day"),s[t].since=i.valueOf();break}switch(typeof s[t].until){case"undefined":s[t].until=1/0;break;case"string":i=It(s[t].until).startOf("day").valueOf(),s[t].until=i.valueOf();break}}return s}function Pz(n,e,t){var r,i,s=this.eras(),o,a,l;for(n=n.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===n)return s[r];break;case"NNNN":if(o===n)return s[r];break;case"NNNNN":if(l===n)return s[r];break}else if([o,a,l].indexOf(n)>=0)return s[r]}function Bz(n,e){var t=n.since<=n.until?1:-1;return e===void 0?It(n.since).year():It(n.since).year()+(e-n.offset)*t}function kz(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].name;return""}function Iz(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].narrow;return""}function Nz(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].abbr;return""}function Dz(){var n,e,t,r,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=i[n].since<=i[n].until?1:-1,r=this.clone().startOf("day").valueOf(),i[n].since<=r&&r<=i[n].until||i[n].until<=r&&r<=i[n].since)return(this.year()-It(i[n].since).year())*t+i[n].offset;return this.year()}function Fz(n){return Kn(this,"_erasNameRegex")||n3.call(this),n?this._erasNameRegex:this._erasRegex}function Oz(n){return Kn(this,"_erasAbbrRegex")||n3.call(this),n?this._erasAbbrRegex:this._erasRegex}function Uz(n){return Kn(this,"_erasNarrowRegex")||n3.call(this),n?this._erasNarrowRegex:this._erasRegex}function t3(n,e){return e.erasAbbrRegex(n)}function zz(n,e){return e.erasNameRegex(n)}function Hz(n,e){return e.erasNarrowRegex(n)}function Gz(n,e){return e._eraYearOrdinalRegex||ag}function n3(){var n=[],e=[],t=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(na(o[i].name)),n.push(na(o[i].abbr)),t.push(na(o[i].narrow)),r.push(na(o[i].name)),r.push(na(o[i].abbr)),r.push(na(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}$t(0,["gg",2],0,function(){return this.weekYear()%100});$t(0,["GG",2],0,function(){return this.isoWeekYear()%100});function lw(n,e){$t(0,[n,n.length],0,e)}lw("gggg","weekYear");lw("ggggg","weekYear");lw("GGGG","isoWeekYear");lw("GGGGG","isoWeekYear");Ks("weekYear","gg");Ks("isoWeekYear","GG");Qs("weekYear",1);Qs("isoWeekYear",1);Ut("G",rw);Ut("g",rw);Ut("GG",Rr,pa);Ut("gg",Rr,pa);Ut("GGGG",VM,WM);Ut("gggg",VM,WM);Ut("GGGGG",nw,ew);Ut("ggggg",nw,ew);q1(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){e[r.substr(0,2)]=Tn(n)});q1(["gg","GG"],function(n,e,t,r){e[r]=It.parseTwoDigitYear(n)});function jz(n){return Sk.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wz(n){return Sk.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function Vz(){return dc(this.year(),1,4)}function qz(){return dc(this.isoWeekYear(),1,4)}function Yz(){var n=this.localeData()._week;return dc(this.year(),n.dow,n.doy)}function Jz(){var n=this.localeData()._week;return dc(this.weekYear(),n.dow,n.doy)}function Sk(n,e,t,r,i){var s;return n==null?p1(this,r,i).year:(s=dc(n,r,i),e>s&&(e=s),Xz.call(this,n,e,t,r,i))}function Xz(n,e,t,r,i){var s=nk(n,e,t,r,i),o=d1(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}$t("Q",0,"Qo","quarter");Ks("quarter","Q");Qs("quarter",7);Ut("Q",qB);gr("Q",function(n,e){e[uc]=(Tn(n)-1)*3});function $z(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}$t("D",["DD",2],"Do","date");Ks("date","D");Qs("date",9);Ut("D",Rr);Ut("DD",Rr,pa);Ut("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});gr(["D","DD"],uu);gr("Do",function(n,e){e[uu]=Tn(n.match(Rr)[0])});var Ak=og("Date",!0);$t("DDD",["DDDD",3],"DDDo","dayOfYear");Ks("dayOfYear","DDD");Qs("dayOfYear",4);Ut("DDD",tw);Ut("DDDD",YB);gr(["DDD","DDDD"],function(n,e,t){t._dayOfYear=Tn(n)});function Kz(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}$t("m",["mm",2],0,"minute");Ks("minute","m");Qs("minute",14);Ut("m",Rr);Ut("mm",Rr,pa);gr(["m","mm"],Rl);var Qz=og("Minutes",!1);$t("s",["ss",2],0,"second");Ks("second","s");Qs("second",15);Ut("s",Rr);Ut("ss",Rr,pa);gr(["s","ss"],cc);var Zz=og("Seconds",!1);$t("S",0,0,function(){return~~(this.millisecond()/100)});$t(0,["SS",2],0,function(){return~~(this.millisecond()/10)});$t(0,["SSS",3],0,"millisecond");$t(0,["SSSS",4],0,function(){return this.millisecond()*10});$t(0,["SSSSS",5],0,function(){return this.millisecond()*100});$t(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});$t(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});$t(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});$t(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ks("millisecond","ms");Qs("millisecond",16);Ut("S",tw,qB);Ut("SS",tw,pa);Ut("SSS",tw,YB);var Tf,Mk;for(Tf="SSSS";Tf.length<=9;Tf+="S")Ut(Tf,ag);function eH(n,e){e[ed]=Tn(("0."+n)*1e3)}for(Tf="S";Tf.length<=9;Tf+="S")gr(Tf,eH);Mk=og("Milliseconds",!1);$t("z",0,0,"zoneAbbr");$t("zz",0,0,"zoneName");function tH(){return this._isUTC?"UTC":""}function nH(){return this._isUTC?"Coordinated Universal Time":""}var wt=W1.prototype;wt.add=JU;wt.calendar=tz;wt.clone=nz;wt.diff=uz;wt.endOf=xz;wt.format=dz;wt.from=pz;wt.fromNow=mz;wt.to=gz;wt.toNow=vz;wt.get=i9;wt.invalidAt=Tz;wt.isAfter=rz;wt.isBefore=iz;wt.isBetween=sz;wt.isSame=oz;wt.isSameOrAfter=az;wt.isSameOrBefore=lz;wt.isValid=Ez;wt.lang=yk;wt.locale=vk;wt.localeData=xk;wt.max=EU;wt.min=MU;wt.parsingFlags=Cz;wt.set=s9;wt.startOf=yz;wt.subtract=XU;wt.toArray=Sz;wt.toObject=Az;wt.toDate=bz;wt.toISOString=fz;wt.inspect=hz;typeof Symbol!="undefined"&&Symbol.for!=null&&(wt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});wt.toJSON=Mz;wt.toString=cz;wt.unix=_z;wt.valueOf=wz;wt.creationData=Lz;wt.eraName=kz;wt.eraNarrow=Iz;wt.eraAbbr=Nz;wt.eraYear=Dz;wt.year=tk;wt.isLeapYear=A9;wt.weekYear=jz;wt.isoWeekYear=Wz;wt.quarter=wt.quarters=$z;wt.month=ZB;wt.daysInMonth=_9;wt.week=wt.weeks=R9;wt.isoWeek=wt.isoWeeks=P9;wt.weeksInYear=Yz;wt.weeksInWeekYear=Jz;wt.isoWeeksInYear=Vz;wt.isoWeeksInISOWeekYear=qz;wt.date=Ak;wt.day=wt.days=W9;wt.weekday=V9;wt.isoWeekday=q9;wt.dayOfYear=Kz;wt.hour=wt.hours=Z9;wt.minute=wt.minutes=Qz;wt.second=wt.seconds=Zz;wt.millisecond=wt.milliseconds=Mk;wt.utcOffset=NU;wt.utc=FU;wt.local=OU;wt.parseZone=UU;wt.hasAlignedHourOffset=zU;wt.isDST=HU;wt.isLocal=jU;wt.isUtcOffset=WU;wt.isUtc=dk;wt.isUTC=dk;wt.zoneAbbr=tH;wt.zoneName=nH;wt.dates=Za("dates accessor is deprecated. Use date instead.",Ak);wt.months=Za("months accessor is deprecated. Use month instead",ZB);wt.years=Za("years accessor is deprecated. Use year instead",tk);wt.zone=Za("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",DU);wt.isDSTShifted=Za("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",GU);function rH(n){return Lr(n*1e3)}function iH(){return Lr.apply(null,arguments).parseZone()}function Ek(n){return n}var Qn=HM.prototype;Qn.calendar=W7;Qn.longDateFormat=J7;Qn.invalidDate=$7;Qn.ordinal=Z7;Qn.preparse=Ek;Qn.postformat=Ek;Qn.relativeTime=t9;Qn.pastFuture=n9;Qn.set=G7;Qn.eras=Rz;Qn.erasParse=Pz;Qn.erasConvertYear=Bz;Qn.erasAbbrRegex=Oz;Qn.erasNameRegex=Fz;Qn.erasNarrowRegex=Uz;Qn.months=v9;Qn.monthsShort=y9;Qn.monthsParse=w9;Qn.monthsRegex=S9;Qn.monthsShortRegex=b9;Qn.week=E9;Qn.firstDayOfYear=L9;Qn.firstDayOfWeek=T9;Qn.weekdays=U9;Qn.weekdaysMin=H9;Qn.weekdaysShort=z9;Qn.weekdaysParse=j9;Qn.weekdaysRegex=Y9;Qn.weekdaysShortRegex=J9;Qn.weekdaysMinRegex=X9;Qn.isPM=K9;Qn.meridiem=eU;function o2(n,e,t,r){var i=Ac(),s=Mu().set(r,e);return i[t](s,n)}function Ck(n,e,t){if(wc(n)&&(e=n,n=void 0),n=n||"",e!=null)return o2(n,e,t,"month");var r,i=[];for(r=0;r<12;r++)i[r]=o2(n,r,t,"month");return i}function r3(n,e,t,r){typeof n=="boolean"?(wc(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,wc(e)&&(t=e,e=void 0),e=e||"");var i=Ac(),s=n?i._week.dow:0,o,a=[];if(t!=null)return o2(e,(t+s)%7,r,"day");for(o=0;o<7;o++)a[o]=o2(e,(o+s)%7,r,"day");return a}function sH(n,e){return Ck(n,e,"months")}function oH(n,e){return Ck(n,e,"monthsShort")}function aH(n,e,t){return r3(n,e,t,"weekdays")}function lH(n,e,t){return r3(n,e,t,"weekdaysShort")}function uH(n,e,t){return r3(n,e,t,"weekdaysMin")}Gf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=Tn(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});It.lang=Za("moment.lang is deprecated. Use moment.locale instead.",Gf);It.langData=Za("moment.langData is deprecated. Use moment.localeData instead.",Ac);var Vu=Math.abs;function cH(){var n=this._data;return this._milliseconds=Vu(this._milliseconds),this._days=Vu(this._days),this._months=Vu(this._months),n.milliseconds=Vu(n.milliseconds),n.seconds=Vu(n.seconds),n.minutes=Vu(n.minutes),n.hours=Vu(n.hours),n.months=Vu(n.months),n.years=Vu(n.years),this}function Tk(n,e,t,r){var i=zl(e,t);return n._milliseconds+=r*i._milliseconds,n._days+=r*i._days,n._months+=r*i._months,n._bubble()}function fH(n,e){return Tk(this,n,e,1)}function hH(n,e){return Tk(this,n,e,-1)}function fT(n){return n<0?Math.floor(n):Math.ceil(n)}function dH(){var n=this._milliseconds,e=this._days,t=this._months,r=this._data,i,s,o,a,l;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=fT(gS(t)+e)*864e5,e=0,t=0),r.milliseconds=n%1e3,i=za(n/1e3),r.seconds=i%60,s=za(i/60),r.minutes=s%60,o=za(s/60),r.hours=o%24,e+=za(o/24),l=za(Lk(e)),t+=l,e-=fT(gS(l)),a=za(t/12),t%=12,r.days=e,r.months=t,r.years=a,this}function Lk(n){return n*4800/146097}function gS(n){return n*146097/4800}function pH(n){if(!this.isValid())return NaN;var e,t,r=this._milliseconds;if(n=el(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+r/864e5,t=this._months+Lk(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(gS(this._months)),n){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+n)}}function mH(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Tn(this._months/12)*31536e6:NaN}function Mc(n){return function(){return this.as(n)}}var gH=Mc("ms"),vH=Mc("s"),yH=Mc("m"),xH=Mc("h"),wH=Mc("d"),_H=Mc("w"),bH=Mc("M"),SH=Mc("Q"),AH=Mc("y");function MH(){return zl(this)}function EH(n){return n=el(n),this.isValid()?this[n+"s"]():NaN}function kd(n){return function(){return this.isValid()?this._data[n]:NaN}}var CH=kd("milliseconds"),TH=kd("seconds"),LH=kd("minutes"),RH=kd("hours"),PH=kd("days"),BH=kd("months"),kH=kd("years");function IH(){return za(this.days()/7)}var nc=Math.round,Zp={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function NH(n,e,t,r,i){return i.relativeTime(e||1,!!t,n,r)}function DH(n,e,t,r){var i=zl(n).abs(),s=nc(i.as("s")),o=nc(i.as("m")),a=nc(i.as("h")),l=nc(i.as("d")),u=nc(i.as("M")),c=nc(i.as("w")),h=nc(i.as("y")),p=s<=t.ss&&["s",s]||s<t.s&&["ss",s]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(p=p||c<=1&&["w"]||c<t.w&&["ww",c]),p=p||u<=1&&["M"]||u<t.M&&["MM",u]||h<=1&&["y"]||["yy",h],p[2]=e,p[3]=+n>0,p[4]=r,NH.apply(null,p)}function FH(n){return n===void 0?nc:typeof n=="function"?(nc=n,!0):!1}function OH(n,e){return Zp[n]===void 0?!1:e===void 0?Zp[n]:(Zp[n]=e,n==="s"&&(Zp.ss=e-1),!0)}function UH(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,r=Zp,i,s;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(r=Object.assign({},Zp,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=DH(this,!t,r,i),t&&(s=i.pastFuture(+this,s)),i.postformat(s)}var V_=Math.abs;function fp(n){return(n>0)-(n<0)||+n}function uw(){if(!this.isValid())return this.localeData().invalidDate();var n=V_(this._milliseconds)/1e3,e=V_(this._days),t=V_(this._months),r,i,s,o,a=this.asSeconds(),l,u,c,h;return a?(r=za(n/60),i=za(r/60),n%=60,r%=60,s=za(t/12),t%=12,o=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=fp(this._months)!==fp(a)?"-":"",c=fp(this._days)!==fp(a)?"-":"",h=fp(this._milliseconds)!==fp(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(t?u+t+"M":"")+(e?c+e+"D":"")+(i||r||n?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(n?h+o+"S":"")):"P0D"}var Gn=aw.prototype;Gn.isValid=PU;Gn.abs=cH;Gn.add=fH;Gn.subtract=hH;Gn.as=pH;Gn.asMilliseconds=gH;Gn.asSeconds=vH;Gn.asMinutes=yH;Gn.asHours=xH;Gn.asDays=wH;Gn.asWeeks=_H;Gn.asMonths=bH;Gn.asQuarters=SH;Gn.asYears=AH;Gn.valueOf=mH;Gn._bubble=dH;Gn.clone=MH;Gn.get=EH;Gn.milliseconds=CH;Gn.seconds=TH;Gn.minutes=LH;Gn.hours=RH;Gn.days=PH;Gn.weeks=IH;Gn.months=BH;Gn.years=kH;Gn.humanize=UH;Gn.toISOString=uw;Gn.toString=uw;Gn.toJSON=uw;Gn.locale=vk;Gn.localeData=xk;Gn.toIsoString=Za("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uw);Gn.lang=yk;$t("X",0,0,"unix");$t("x",0,0,"valueOf");Ut("x",rw);Ut("X",a9);gr("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});gr("x",function(n,e,t){t._d=new Date(Tn(n))});//! moment.js
It.version="2.29.3";z7(Lr);It.fn=wt;It.min=CU;It.max=TU;It.now=LU;It.utc=Mu;It.unix=rH;It.months=sH;It.isDate=j1;It.locale=Gf;It.invalid=Q2;It.duration=zl;It.isMoment=Ol;It.weekdays=aH;It.parseZone=iH;It.localeData=Ac;It.isDuration=ux;It.monthsShort=oH;It.weekdaysMin=uH;It.defineLocale=XM;It.updateLocale=iU;It.locales=sU;It.weekdaysShort=lH;It.normalizeUnits=el;It.relativeTimeRounding=FH;It.relativeTimeThreshold=OH;It.calendarFormat=ez;It.prototype=wt;It.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const hT={scene:{textures:[]},config:{screenMode:"picture",floorType:"laminate",floorBrands:["meister","parky","floorify"],floorPattern:"planks",planksLayingPattern:"halfOffset",plankTexture:"ld1506421",herringboneTexture:"ps5008583",showRoom:!0,refresh:null,doorOpen:!1,doorOpenValue:1,currentDoor:1,showBlackbg:!1,showFrame:!0},parquet:{totalLength:6,totalWidth:27},herringbone:{totalLength:16,totalWidth:34},client:{vierkantemeters:1},offerte:{naam:"",email:"",straat:"",gemeente:"",land:"Belgi\xEB",nummer:"",datum:It().format("DD/MM/YYYY"),offertenummer:"",vervaldatum:It().add(10,"days").format("DD/MM/YYYY"),notities:"",isKlant:!0,generatePdf:!1}},mt=FM(n=>Bn(Bt({},Bt({},hT)),{updateObject:(e,t,r)=>n(i=>i=Bn(Bt({},i),{[e]:Bn(Bt({},i[e]),{[t]:r})})),resetState:e=>n(t=>t=Bn(Bt({},t),{[e]:Bt({},hT[e])})),floors:[],filterFloor:e=>n(t=>t.floors.includes(e)?{floors:t.floors.filter(r=>r.id!==e.id)}:{floors:[...t.floors,e]}),setFloors:e=>n(t=>({floors:[...e]})),addFloor:e=>n(t=>({floors:[...t.floors,e]})),deleteFloor:e=>n(t=>({floors:t.floors.filter(r=>r.id!==e.id)})),resetFloor:()=>n(e=>({floors:[]})),updateFloors:e=>n(t=>({floors:e})),selectedFloor:{},updateSelectedFloor:e=>n(t=>({selectedFloor:e})),doors:[],filterDoor:e=>n(t=>t.doors.includes(e)?{doors:t.doors.filter(r=>r.id!==e.id)}:{doors:[...t.doors,e]}),setDoors:e=>n(t=>({doors:[...e]})),addDoor:e=>n(t=>({doors:[...t.doors,e]})),deleteDoor:e=>n(t=>({doors:t.doors.filter(r=>r.id!==e.id)})),resetDoor:()=>n(e=>({doors:[]})),updateDoors:e=>n(t=>({doors:e})),selectedDoor:{},updateSelectedDoor:e=>n(t=>({selectedDoor:e}))}));var cw={exports:{}},fw={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zH=Z.exports,HH=Symbol.for("react.element"),GH=Symbol.for("react.fragment"),jH=Object.prototype.hasOwnProperty,WH=zH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VH={key:!0,ref:!0,__self:!0,__source:!0};function Rk(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jH.call(e,r)&&!VH.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HH,type:n,key:s,ref:o,props:i,_owner:WH.current}}fw.Fragment=GH;fw.jsx=Rk;fw.jsxs=Rk;cw.exports=fw;const H=cw.exports.jsx,Ie=cw.exports.jsxs,$n=cw.exports.Fragment,qH=()=>{let n=Ka();const e=mt(l=>l.resetState),[t,r]=Z.exports.useState({device:localStorage.getItem("device")||null,screenType:localStorage.getItem("screenType")||null,configurator:localStorage.getItem("configurator")||null,room:localStorage.getItem("room")||null,seller:localStorage.getItem("seller")||"select",screenSize:localStorage.getItem("screenSize")||0}),[i,s]=Z.exports.useState(null),o=(l,u)=>{r(Bn(Bt({},t),{[l]:u})),localStorage.setItem(l,u)},a=()=>{if(t.device==="config"){if(t.configurator===null||t.room===null||t.seller==="select")return s("Zorg dat alle velden aangeduid zijn");localStorage.setItem("screenType","horizontal")}else if(t.device==="screen"){if(t.room===null||t.room==="no-room"||t.screenType===null)return s("Zorg dat alle velden aangeduid zijn");if(t.screenType==="floor"&&t.screenSize===0)return s("Vul de grootte van het scherm in")}e("config"),s(null),t.device==="config"&&t.configurator==="floor"?n("/filters"):t.device==="config"&&t.configurator==="door"?n("/door-filters"):n(`/${t.device}`)};return H(YH,{children:t.device===null||t.device==="null"?Ie(dT,{children:[H("h4",{children:"Kies apparaat"}),Ie(o0,{style:{width:"300px"},children:[H(gl,{style:{maxWidth:"150px"},onClick:()=>o("device","config"),children:H("p",{children:"Tablet"})}),H(gl,{style:{maxWidth:"150px"},onClick:()=>o("device","screen"),children:H("p",{children:"Scherm"})})]})]}):Ie(dT,{children:[Ie(ZH,{children:[Ie(KH,{onClick:()=>o("device",null),children:[H(G1,{}),"Selecteer apparaat"]}),t.device==="config"&&H(eG,{onClick:()=>n("/offerte-zoeken"),children:"offerte zoeken "})]}),t.device==="config"&&Ie($n,{children:[H("h4",{children:"Kies Configurator"}),Ie(o0,{children:[H(gl,{selected:t.configurator==="closet",onClick:()=>o("configurator","closet"),children:H("p",{children:"Kast"})}),H(gl,{selected:t.configurator==="door",onClick:()=>o("configurator","door"),children:H("p",{children:"Deur"})}),H(gl,{selected:t.configurator==="floor",onClick:()=>o("configurator","floor"),children:H("p",{children:"Parket"})})]})]}),H("h4",{children:"Kies Kamer"}),Ie(o0,{children:[t.device==="config"&&H(gl,{selected:t.room==="no-room",onClick:()=>o("room","no-room"),style:{background:"#A1A1A1"},children:H("p",{children:"Geen Kamer"})}),F7.map((l,u)=>H(gl,{selected:t.room===l.value,onClick:()=>o("room",l.value),children:H("p",{children:l.name})},u))]}),t.device==="screen"&&Ie($n,{children:[H("h4",{children:"Type Scherm"}),Ie(o0,{children:[H(gl,{selected:t.screenType==="horizontal",onClick:()=>o("screenType","horizontal"),children:H("p",{children:"Horizontaal"})}),H(gl,{selected:t.screenType==="verticle",onClick:()=>o("screenType","verticle"),children:H("p",{children:"Verticaal"})}),H(gl,{selected:t.screenType==="floor",onClick:()=>o("screenType","floor"),children:H("p",{children:"Vloer"})}),H(gl,{selected:t.screenType==="door",onClick:()=>o("screenType","door"),children:H("p",{children:"Deur"})})]}),t.screenType==="floor"&&Ie($n,{children:[H("h4",{children:"Grootte scherm (Inch & Diagonaal)"}),H(o0,{children:H(JH,{onChange:l=>o("screenSize",l.target.value),value:t.screenSize,type:"number"})})]})]}),t.device==="config"&&Ie($n,{children:[H("h4",{children:"Kies Verkoper"}),Ie(XH,{name:"sellers",id:"sellers",value:t.seller,onChange:l=>o("seller",l.target.value),children:[H("option",{disabled:!0,value:"select",children:"selecteer verkoper"}),D7.map(l=>H("option",{value:l.value,children:l.name},l.value))]})]}),i&&H($H,{children:i}),H(QH,{onClick:a,children:"Start"})]})})},YH=ke.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
`,dT=ke.div`
  margin: auto;
`,o0=ke.div`
  display: flex;
  gap: 0.5rem;
  margin-top: 0.5rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
  max-width: 800px;
`,gl=ke.div`
  text-align: center;
  flex: 1 1 calc(33% - 0.25rem);
  max-width: calc(33% - 0.25rem);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  background-color: #dbdbdb;
  border: ${({selected:n})=>n?"2px solid #555555":"2px solid #dbdbdb"};
  cursor: pointer;

  :hover {
    background-color: #cccccc;
  }
`,JH=ke.input`
  flex: 1 1 calc(33% - 0.25rem);
  max-width: calc(33% - 0.25rem);
  display: flex;
  background-color: #dbdbdb;
  cursor: pointer;
  border: none;
  padding: 1rem;
`,XH=ke.select`
  border: none;
  background-color: #dbdbdb;
  padding: 1rem 1rem;
  margin-top: 0.5rem;
  margin-bottom: 1.25rem;
  width: calc(50% - 0.25rem);
  cursor: pointer;

  :hover {
    background-color: #cccccc;
  }
`,$H=ke.p`
  color: #fb2929;
  margin-bottom: 0.5rem;
`,KH=ke.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  width: fit-content;
  svg {
    width: 30px;
    height: 30px;
  }
`,QH=ke.div`
  display: flex;
  margin-top: 3rem;
  align-items: center;
  justify-content: center;
  padding: 1rem 2rem;
  background-color: #bb5018;
  color: white;
  max-width: calc(33% - 0.25rem);
  cursor: pointer;

  :hover,
  :active {
    background-color: #d75c1a;
  }
`,ZH=ke.div`
  margin-bottom: 4rem;
  display: flex;
  gap: 2rem;
  align-items: center;
`,eG=ke.button`
  background-color: #bb5018;
  border: none;
  cursor: pointer;
  color: white;
  padding: 10px;
  text-transform: uppercase;

  &:hover {
    background-color: #843c16;
  }
`;function pT(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function tG(n,e,t){return e&&pT(n.prototype,e),t&&pT(n,t),n}function g1(){return g1=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},g1.apply(this,arguments)}function Pk(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function nG(n,e){if(!!n){if(typeof n=="string")return mT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mT(n,e)}}function mT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Bk(n,e){var t;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(t=nG(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return t=n[Symbol.iterator](),t.next.bind(t)}var a0={carousel:"_2ILZE",maxCarousel:"_1_Dg2",carouselInner:"_2qwzr",slidesContainer:"_Pfcmb",gallery:"_3q7r8"},q_={slides:"_L8X8r",RTL:"_or-gG",hasImages:"_FP5OY"},rG={slide:"_1eGao"},ld={figure:"_3iVQ0",image:"_t1897",thumbnail:"_1BRif",hidden:"_3UdL5"},v1="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAAAAAA6fptVAAAACklEQVR4nGNiAAAABgADNjd8qAAAAABJRU5ErkJggg==",Fr={widgetWrapper:"_3lwW_",disabled:"_1zlZS",textWrapper:"_1R7KP",captionWrapper:"_1OkCh",text:"__JnHV",shadow:"_3lLfB",buttonsWrapper:"_14Fp5",RTL:"_3Rfma",centerLeft:"_1cqA3",centerCenter:"_2GizQ",centerRight:"_2zEIf",topLeft:"_lhmht",topCenter:"_29p_Y",top:"_3r4Pe",topRight:"_1oKnM",bottomLeft:"_2A4to",bottomCenter:"_3apmu",bottom:"_2ljUm",bottomRight:"_3XvNX"},br={button:"_ZTBlf",buttonShadow:"_3LX_O",iconWrapper:"_lfOsC",rectangle:"_1Pekn",square:"_dZ8C-",circle:"_20GWq",icon:"_3WRGR"};function i3(n,e){return e={exports:{}},n(e,e.exports),e.exports}/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=typeof Symbol=="function"&&Symbol.for,s3=hs?Symbol.for("react.element"):60103,o3=hs?Symbol.for("react.portal"):60106,hw=hs?Symbol.for("react.fragment"):60107,dw=hs?Symbol.for("react.strict_mode"):60108,pw=hs?Symbol.for("react.profiler"):60114,mw=hs?Symbol.for("react.provider"):60109,gw=hs?Symbol.for("react.context"):60110,a3=hs?Symbol.for("react.async_mode"):60111,vw=hs?Symbol.for("react.concurrent_mode"):60111,yw=hs?Symbol.for("react.forward_ref"):60112,xw=hs?Symbol.for("react.suspense"):60113,iG=hs?Symbol.for("react.suspense_list"):60120,ww=hs?Symbol.for("react.memo"):60115,_w=hs?Symbol.for("react.lazy"):60116,sG=hs?Symbol.for("react.block"):60121,oG=hs?Symbol.for("react.fundamental"):60117,aG=hs?Symbol.for("react.responder"):60118,lG=hs?Symbol.for("react.scope"):60119;function ma(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case s3:switch(n=n.type,n){case a3:case vw:case hw:case pw:case dw:case xw:return n;default:switch(n=n&&n.$$typeof,n){case gw:case yw:case _w:case ww:case mw:return n;default:return e}}case o3:return e}}}function kk(n){return ma(n)===vw}var uG=a3,cG=vw,fG=gw,hG=mw,dG=s3,pG=yw,mG=hw,gG=_w,vG=ww,yG=o3,xG=pw,wG=dw,_G=xw,bG=function(n){return kk(n)||ma(n)===a3},SG=kk,AG=function(n){return ma(n)===gw},MG=function(n){return ma(n)===mw},EG=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===s3},CG=function(n){return ma(n)===yw},TG=function(n){return ma(n)===hw},LG=function(n){return ma(n)===_w},RG=function(n){return ma(n)===ww},PG=function(n){return ma(n)===o3},BG=function(n){return ma(n)===pw},kG=function(n){return ma(n)===dw},IG=function(n){return ma(n)===xw},NG=function(n){return typeof n=="string"||typeof n=="function"||n===hw||n===vw||n===pw||n===dw||n===xw||n===iG||typeof n=="object"&&n!==null&&(n.$$typeof===_w||n.$$typeof===ww||n.$$typeof===mw||n.$$typeof===gw||n.$$typeof===yw||n.$$typeof===oG||n.$$typeof===aG||n.$$typeof===lG||n.$$typeof===sG)},DG=ma,FG={AsyncMode:uG,ConcurrentMode:cG,ContextConsumer:fG,ContextProvider:hG,Element:dG,ForwardRef:pG,Fragment:mG,Lazy:gG,Memo:vG,Portal:yG,Profiler:xG,StrictMode:wG,Suspense:_G,isAsyncMode:bG,isConcurrentMode:SG,isContextConsumer:AG,isContextProvider:MG,isElement:EG,isForwardRef:CG,isFragment:TG,isLazy:LG,isMemo:RG,isPortal:PG,isProfiler:BG,isStrictMode:kG,isSuspense:IG,isValidElementType:NG,typeOf:DG};i3(function(n,e){});i3(function(n){n.exports=FG});/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var gT=Object.getOwnPropertySymbols,OG=Object.prototype.hasOwnProperty,UG=Object.prototype.propertyIsEnumerable;function zG(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function HG(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}HG();var GG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jG=GG;Function.call.bind(Object.prototype.hasOwnProperty);function Ik(){}function Nk(){}Nk.resetWarningCache=Ik;var WG=function(){function n(r,i,s,o,a,l){if(l!==jG){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Nk,resetWarningCache:Ik};return t.PropTypes=t,t},ut=i3(function(n){n.exports=WG()}),VG={left:H("div",{className:br.iconWrapper+" "+br.rectangle,children:H("svg",{className:br.icon,height:"40",preserveAspectRatio:"xMidYMid meet",role:"img",viewBox:"0 0 20 40",width:"20",xmlns:"http://www.w3.org/2000/svg",children:H("path",{d:"m19 1v37l-18-20z"})})}),right:H("div",{className:br.iconWrapper+" "+br.rectangle,children:H("svg",{className:br.icon,height:"40",preserveAspectRatio:"xMidYMid meet",role:"img",viewBox:"0 0 20 40",width:"20",xmlns:"http://www.w3.org/2000/svg",children:H("path",{d:"m1 1v38l18-19z"})})}),play:H("div",{className:br.iconWrapper+" "+br.square,children:H("svg",{className:br.icon,height:"30",preserveAspectRatio:"xMidYMid meet",role:"img",viewBox:"0 0 30 30",width:"30",xmlns:"http://www.w3.org/2000/svg",children:H("path",{d:"m1 1v28l28-14z"})})}),pause:H("div",{className:br.iconWrapper+" "+br.square,children:H("svg",{className:br.icon,height:"30",preserveAspectRatio:"xMidYMid meet",role:"img",viewBox:"0 0 30 30",width:"30",xmlns:"http://www.w3.org/2000/svg",children:H("path",{d:"m1 1v28h9v-28zm19 0v28h9v-28z"})})}),max:H("div",{className:br.iconWrapper+" "+br.square,children:H("svg",{className:br.icon,height:"30",preserveAspectRatio:"xMidYMid meet",role:"img",viewBox:"0 0 30 30",width:"30",xmlns:"http://www.w3.org/2000/svg",children:H("path",{d:"m1 1v10h5v-5h5v-5zm18 0v5h5v5h5v-10zm-18 18v10h10v-5h-5v-5zm18 5v5h10v-10h-5v5z"})})}),min:H("div",{className:br.iconWrapper+" "+br.square,children:H("svg",{className:br.icon,height:"30",preserveAspectRatio:"xMidYMid meet",role:"img",viewBox:"0 0 30 30",width:"30",xmlns:"http://www.w3.org/2000/svg",children:H("path",{d:"m6 1v5h-5v5h10v-10zm13 0v10h10v-5h-5v-5zm-18 18v5h5v5h5v-10zm18 0v10h5v-5h5v-5z"})})}),active:H("div",{className:br.iconWrapper+" "+br.circle,children:H("svg",{className:br.icon,height:"10",preserveAspectRatio:"xMidYMid meet",role:"img",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg",children:H("circle",{cx:"5",cy:"5",r:"4",fill:"#888"})})}),passive:H("div",{className:br.iconWrapper+" "+br.circle,children:H("svg",{className:br.icon,height:"10",preserveAspectRatio:"xMidYMid meet",role:"img",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg",children:H("circle",{cx:"5",cy:"5",r:"4"})})})},lg=function(e){var t=e.icon!==void 0?e.icon:VG[e.name];return H("button",{className:br.button+(e.hasShadow?" "+br.buttonShadow:""),type:"button","aria-label":e.label,"aria-disabled":!1,onClick:e.onClick,children:t})};lg.propTypes={icon:ut.node,name:ut.oneOf(["left","right","play","pause","max","min","active","passive"]).isRequired,hasShadow:ut.bool.isRequired,label:ut.string.isRequired,onClick:ut.func};var qG=function(e){Z.exports.useEffect(function(){var t=e.current,r=function(s){s.stopPropagation()};return t&&(t.addEventListener("mousedown",r),t.addEventListener("touchstart",r,{passive:!0})),function(){t||(t.removeEventListener("mousedown",r),t.removeEventListener("touchstart",r,{passive:!0}))}},[e])},Hh=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!0),function(r,i,s){var o=r[i];if(!(t&&o===void 0)&&(typeof o!="number"||o<0||!e&&o===0))return new Error("Invalid prop `"+i+"` of type `"+typeof o+"` supplied to `"+s+"`, expected `number` "+(e?">=":">")+" 0.")}},YG=function(e,t,r){var i=r===void 0?{}:r,s=i.includeMin,o=s===void 0?!1:s,a=i.includeMax,l=a===void 0?!1:a,u=i.optional,c=u===void 0?!0:u;return function(h,p,m){var y=h[p];if(!(c&&y===void 0)&&(typeof y!="number"||!(e<=y<=t)||!o&&e===y||!l&&t===y))return new Error("Invalid prop `"+p+"` of type `"+typeof y+"` supplied to `"+m+"`, expected "+e+" "+(o?"<=":"<")+" `number` "+(l?"<=":"<")+" "+t+".")}},JG={">=":function(e,t){return e>=t}},XG=function(e,t,r){return r===void 0&&(r=!0),function(i,s,o){var a=i[s],l=i[t];if(!(r&&a===void 0)&&(typeof a!="number"||typeof l!="number"||!JG[e](a,l)))return new Error("Invalid prop `"+s+"` of type `"+typeof a+"` supplied to `"+o+"`, expected "+s+" "+e+" "+t+".")}},$G=function(e){return function(t,r,i){var s=t[r];if(s===void 0){for(var o=Bk(e),a;!(a=o()).done;){var l=a.value;if(t[l]!==void 0)return}return new Error("The props `"+e+"` and `"+r+" are marked as at least one required in `"+i+", but their values are all `undefined`.")}}},Ga=ut.shape({current:ut.object}),y1=ut.oneOf(["contain","cover","fill","none","scale-down"]),Po=ut.oneOf([!1,"topLeft","topCenter","topRight","centerLeft","centerCenter","centerRight","bottomLeft","bottomCenter","bottomRight"]),fc=ut.oneOf([!1,"top","bottom"]),vS=ut.oneOfType([ut.object.isRequired,ut.element.isRequired]),l3=ut.shape({src:ut.string.isRequired,srcset:ut.string,alt:ut.string,thumbnail:ut.string}),Dk={position:Po.isRequired,isDisabled:ut.bool.isRequired,icon:ut.node,isRTL:ut.bool.isRequired,hasShadow:ut.bool.isRequired,onClick:ut.func.isRequired},Fk=function(e){return H("div",{className:Fr.widgetWrapper+" "+Fr[e.position]+(e.isDisabled?" "+Fr.disabled:""),children:H(lg,{icon:e.icon,name:"left",hasShadow:e.hasShadow,label:e.isRTL?"Go to Next Slide":"Go to Previous Slide",onClick:e.isDisabled?void 0:e.onClick})})};Fk.propTypes=Dk;var Ok=function(e){return H("div",{className:Fr.widgetWrapper+" "+Fr[e.position]+(e.isDisabled?" "+Fr.disabled:""),children:H(lg,{icon:e.icon,name:"right",hasShadow:e.hasShadow,label:e.isRTL?"Go to Previous Slide":"Go to Next Slide",onClick:e.isDisabled?void 0:e.onClick})})};Ok.propTypes=Dk;var Uk=function(e){return H("div",{className:Fr.widgetWrapper+" "+Fr[e.position],children:H(lg,{icon:e.isPlaying?e.pauseIcon:e.playIcon,name:e.isPlaying?"pause":"play",hasShadow:e.hasShadow,label:e.isPlaying?"Pause Autoplay":"Start Autoplay",onClick:e.onClick})})};Uk.propTypes={position:Po.isRequired,isPlaying:ut.bool.isRequired,pauseIcon:ut.node,playIcon:ut.node,hasShadow:ut.bool.isRequired,onClick:ut.func.isRequired};var zk=function(e){return H("div",{className:Fr.widgetWrapper+" "+Fr[e.position],children:H(lg,{icon:e.isMaximized?e.minIcon:e.maxIcon,name:e.isMaximized?"min":"max",hasShadow:e.hasShadow,label:e.isMaximized?"Minimize Slides":"Maximize Slides",onClick:e.onClick})})};zk.propTypes={position:Po.isRequired,isMaximized:ut.bool.isRequired,minIcon:ut.node,maxIcon:ut.node,hasShadow:ut.bool.isRequired,onClick:ut.func.isRequired};var u3=function(e){var t=Z.exports.useRef(null);return H("div",{ref:t,className:Fr.widgetWrapper+" "+Fr.textWrapper+" "+Fr[e.position]+(e.hasShadow?" "+Fr.shadow:""),tabIndex:"-1",children:Ie("span",{className:Fr.text,children:[e.curIndex||0," / ",e.totalIndices||0]})})};u3.propTypes={position:Po.isRequired,hasShadow:ut.bool.isRequired,curIndex:ut.number.isRequired,totalIndices:ut.number.isRequired};u3.defaultProps={curIndex:0,totalIndices:0};var c3=function(e){var t=e.callbacks;return H("div",{className:Fr.widgetWrapper+" "+Fr[e.position],children:H("div",{className:Fr.buttonsWrapper+(e.isRTL?" "+Fr.RTL:""),children:Object.keys(t).map(function(r,i){return H(lg,{icon:Number(r)===e.curIndex?e.activeIcon:e.passiveIcon,name:Number(r)===e.curIndex?"active":"passive",label:Number(r)===e.curIndex?"Stay on Slide "+(i+1):"Go to Slide "+(i+1),hasShadow:e.hasShadow,onClick:t[r]},i)})})})};c3.propTypes={callbacks:ut.objectOf(ut.func).isRequired,position:fc.isRequired,isRTL:ut.bool.isRequired,curIndex:ut.number.isRequired,activeIcon:ut.node,passiveIcon:ut.node,hasShadow:ut.bool.isRequired};c3.defaultProps={curIndex:0};var f3=Z.exports.memo(function(n){var e=Z.exports.useRef(null);return qG(e),H("figcaption",{ref:e,className:Fr.widgetWrapper+" "+Fr.captionWrapper+" "+Fr[n.position]+" "+(n.hasShadow?" "+Fr.shadow:""),tabIndex:"-1",children:H("span",{className:Fr.text,children:n.text})})});f3.type.displayName="Caption";f3.propTypes={position:fc.isRequired,hasShadow:ut.bool.isRequired,text:ut.string};var Y_,gm=!(typeof window!="undefined"&&(Y_=window.document)!==null&&Y_!==void 0&&Y_.createElement),Hk=function(e,t,r){r===void 0&&(r="0px 0px 0px 0px");var i=Z.exports.useState(!1),s=i[0],o=i[1];return Z.exports.useEffect(function(){if(!("IntersectionObserver"in window))return function(){};var a=t!=null&&t.current?t.current:null,l=new IntersectionObserver(function(u,c){var h=u[0];!s&&h.isIntersecting&&(o(!0),c.disconnect())},{root:a,rootMargin:r,threshold:0});return e.current&&l.observe(e.current),function(){l&&l.disconnect()}},[t,r,e,s]),gm?!1:"IntersectionObserver"in window?s:!0},KG=function(e){e.target.src=v1},Gk=function(e){var t=Z.exports.useRef(null),r=Hk(t,e.slidesContainerRef,"0px 101% 0px 101%"),i=Z.exports.useState(e.image.thumbnail),s=i[0],o=i[1],a=Z.exports.useState(!1),l=a[0],u=a[1],c=function(){r&&o(!1)},h=function(){u(!0)},p=e.image,m=p.src,y=p.srcset,g=p.alt,x=p.thumbnail,w=Pk(p,["src","srcset","alt","thumbnail"]);return m=r&&!l?m:v1,y=r&&!l?y:null,x=r&&!l?x:v1,Ie(Z.exports.Fragment,{children:[H("img",Bt({ref:t,className:ld.image,srcSet:y,src:m,alt:g||null,style:e.style,onLoad:c,onError:h||c},w)),H("img",{className:ld.thumbnail+(s?"":" "+ld.hidden),src:x,alt:g||null,style:e.style,onError:h})]})};Gk.propTypes={slidesContainerRef:Ga.isRequired,image:l3.isRequired,style:ut.object.isRequired};var jk=function(e){var t=e.objectFit==="cover"?null:e.objectFit,r={objectFit:t},i=e.image,s=i.src,o=i.alt,a=i.srcset,l=Pk(i,["src","alt","srcset","thumbnail"]),u=e.shouldLazyLoad?H(Gk,{slidesContainerRef:e.slidesContainerRef,image:e.image,style:r}):H("img",Bt({className:ld.image,srcSet:a,src:s,alt:o||null,loading:"auto",style:r,onError:KG},l));return Ie("figure",{className:ld.figure,"aria-label":e.image.alt||null,children:[u,e.hasCaption&&e.image.alt&&H(f3,{text:e.image.alt||null,position:e.hasCaption,hasShadow:e.widgetsHasShadow})]})};jk.propTypes={objectFit:y1.isRequired,image:l3.isRequired,shouldLazyLoad:ut.bool.isRequired,slidesContainerRef:Ga.isRequired,hasCaption:fc.isRequired,widgetsHasShadow:ut.bool.isRequired};var Wk=function(e){e.target.src=v1},Vk=function(e){var t=Z.exports.useRef(null),r=Hk(t,e.thumbnailsContainerRef,"0px 20% 0px 20%"),i=r?e.src:v1;return H("img",{ref:t,className:ld.image,src:i,alt:e.alt,"aria-label":e.alt,onError:Wk})};Vk.propTypes={thumbnailsContainerRef:Ga.isRequired,src:ut.string.isRequired,alt:ut.string};var qk=function(e){var t=e.image.thumbnail||e.image.src,r=e.image.alt||null;return e.shouldLazyLoad?H(Vk,{thumbnailsContainerRef:e.thumbnailsContainerRef,src:t,alt:r}):H("img",{className:ld.image,src:t,alt:r,"aria-label":r,loading:"auto",onError:Wk})};qk.propTypes={image:l3.isRequired,shouldLazyLoad:ut.bool.isRequired,thumbnailsContainerRef:Ga.isRequired};var yS={userSlide:"_1JHpX",thumbnail:"_XQjA1"},Yk=function(e){return H("div",{className:yS.userSlide,children:e.slide})};Yk.propTypes={slide:ut.node.isRequired};var Jk=function(e){return H("div",{className:yS.userSlide+" "+yS.thumbnail,tabIndex:"-1",children:e.slide})};Jk.propTypes={slide:ut.node.isRequired};var Xk=function(e){var t=e.isImage?H(jk,{image:e.slide,shouldLazyLoad:e.shouldLazyLoad,objectFit:e.objectFit,widgetsHasShadow:e.widgetsHasShadow,hasCaption:e.hasCaption,slidesContainerRef:e.slidesContainerRef}):H(Yk,{slide:e.slide});return H("li",{ref:e.reference,className:rG.slide,role:"presentation","aria-live":e.isCurrent?"polite":null,children:t})};Xk.propTypes={isImage:ut.bool.isRequired,slide:vS.isRequired,shouldLazyLoad:ut.bool.isRequired,objectFit:y1.isRequired,widgetsHasShadow:ut.bool.isRequired,hasCaption:fc.isRequired,slidesContainerRef:Ga.isRequired,reference:Ga,isCurrent:ut.bool.isRequired};var $k=function(e){var t=e.slides;return H("ul",{ref:e.slidesRef,className:q_.slides+(e.isRTL?" "+q_.RTL:"")+(e.hasImages?" "+q_.hasImages:""),children:t.map(function(r,i){var s=null;return i===0?s=e.minRef:i===e.length-1&&(s=e.maxRef),H(Xk,{draggable:"false",reference:s,slidesContainerRef:e.slidesContainerRef,slide:r,isImage:e.hasImages,shouldLazyLoad:e.shouldLazyLoad,objectFit:e.objectFit,widgetsHasShadow:e.widgetsHasShadow,hasCaption:e.hasCaptions,isCurrent:i===e.curIndex},i)})})};$k.propTypes={slides:ut.array.isRequired,isRTL:ut.bool.isRequired,slidesRef:Ga.isRequired,minRef:Ga.isRequired,length:Hh(!0),maxRef:Ga.isRequired,slidesContainerRef:Ga.isRequired,hasImages:ut.bool.isRequired,shouldLazyLoad:ut.bool.isRequired,objectFit:y1.isRequired,widgetsHasShadow:ut.bool.isRequired,hasCaptions:fc.isRequired,curIndex:ut.number};var J_={thumbnailsWrapper:"_2c50p",thumbnails:"_-LJ2W",RTL:"_3NsOQ"},vT={thumbnail:"_-cAh3",currentThumbnail:"_19gvi"},Kk=function(e){Z.exports.useEffect(function(){var t=e.current,r=function(s){return s.preventDefault()};return t&&t.addEventListener("dragstart",r),function(){t&&t.removeEventListener("dragstart",r)}},[e])},xS=function(e,t){var r=Z.exports.useRef(null);r.current=t,Z.exports.useEffect(function(){var i=function(a){r.current[a.key]&&r.current[a.key](a)},s=e.current;return s&&s.addEventListener("keydown",i),function(){s&&s.removeEventListener("keydown",i)}},[e,r])},Qk=function(e){var t=Z.exports.useRef(null),r=e.isImage?H(qk,{thumbnailsContainerRef:e.thumbnailsContainerRef,image:e.slide,shouldLazyLoad:e.shouldLazyLoad}):H(Jk,{slide:e.thumbnail}),i=""+vT.thumbnail+(e.isCurrent?" "+vT.currentThumbnail:""),s="width"in e?{minWidth:e.width,width:e.width,maxWidth:e.width}:{},o=e.isCurrent?e.reference:t;return Kk(o),xS(o,{Enter:e.onClick}),H("li",{ref:o,className:i,role:"button",tabIndex:0,style:s,onMouseUpCapture:e.onClick,children:r})};Qk.propTypes={isImage:ut.bool.isRequired,thumbnailsContainerRef:Ga.isRequired,slide:vS.isRequired,thumbnail:vS.isRequired,shouldLazyLoad:ut.bool.isRequired,isCurrent:ut.bool.isRequired,width:ut.string,reference:Ga.isRequired,onClick:ut.func.isRequired};var a2=function(e,t,r){var i=Z.exports.useRef(null);i.current=r,Z.exports.useEffect(function(){var s=i.current;return e&&e.addEventListener(t,s),function(){e&&e.removeEventListener(t,s)}},[e,t,r])},Zk=function(e){var t=!gm&&window.matchMedia(e),r=Z.exports.useState(t.matches),i=r[0],s=r[1];return Z.exports.useEffect(function(){var o=function(){return s(t.matches)};return t.addEventListener?t.addEventListener("change",o):window.addEventListener("resize",o),function(){return t.removeEventListener?t.removeEventListener("change",o):window.removeEventListener("resize",o)}},[t]),i},QG=function(e,t){var r=e&&e.current,i=r&&r.parentNode.parentNode,s=!(r&&i),o=r&&r.offsetLeft<=0,a=r&&i&&r.offsetLeft+r.clientWidth>=i.clientWidth,l=Zk("(prefers-reduced-motion: reduce)"),u=Z.exports.useCallback(function(){var h=e.current;if(!!h){var p=h.parentNode.parentNode;p.scrollTo({top:0,left:h.offsetLeft-p.clientWidth/2+h.clientWidth/2})}},[e]),c=Z.exports.useCallback(function(){var h=e.current;if(!!h){var p=h.parentNode.parentNode,m=h&&h.offsetLeft===0,y=h&&p&&h.offsetLeft+h.clientWidth>=p.clientWidth,g=s||o&&y||a&&m||l?{}:{behavior:"smooth"};p.scrollTo(g1({top:0,left:h.offsetLeft-p.clientWidth/2+h.clientWidth/2},g))}},[e,s,o,a,l]);Z.exports.useEffect(function(){return u()},[u,t]),Z.exports.useEffect(function(){return c()}),a2(e.current,"click",u),a2(gm?void 0:window,"resize",u)},ZG=function(e){return function(t){if(!(Math.abs(t.deltaX)<Math.abs(t.deltaY))){var r=e.current,i=r.scrollLeft,s=r.scrollWidth,o=r.offsetWidth;(i+t.deltaX<0||i+t.deltaX>s-o)&&t.cancelable&&t.preventDefault()}}},eI=function(e,t){var r=t.onMouseMove,i=t.onMouseUp,s=t.onTap,o=!1,a=!1,l=0,u=0,c=Date.now(),h=0,p=function(x){e.current&&e.current.classList.add("isGrabbing"),x.buttons>0&&(o=!0),l=x.clientX,u=x.clientX,c=Date.now()},m=function(x){o&&x.buttons>0&&(r(x.clientX-l,0,x.clientX-u),a=!0,h=(x.clientX-u)/(Date.now()-c),u=x.clientX,c=Date.now())},y=function(x){e.current&&e.current.classList.remove("isGrabbing"),o&&(a?i(x.clientX-l,0,h,x):s()),o=!1,a=!1};return{onMouseDown:function(x){return p(x)},onMouseMove:function(x){return m(x)},onMouseUpCapture:function(x){return y(x)},onMouseLeave:function(x){return y(x)}}},ej=function(e){var t=function(s,o,a){var l=e.current;!l||l.scrollTo({top:0,left:l.scrollLeft-a})},r=function(s,o,a,l){if(Math.abs(s)<=2)return;l.stopPropagation();var u=Math.abs(a);if(u<.5)return!1;var c=e.current,h=c&&c.childNodes[0],p=c&&c.scrollLeft===0,m=c&&h&&c.scrollLeft+c.clientWidth>=h.scrollWidth;if(p||m)return!1;var y=.025,g=u/y,x,w;function _(A){x===void 0&&(x=A);var C=A-x,T=C-w,D=C+w,I=u*T-y*T*D/2,B=a<0?-I:I;isNaN(B)||c.scrollTo({top:0,left:c.scrollLeft-B}),C<g&&(w=C,window.requestAnimationFrame(_))}return window.requestAnimationFrame(_),!1};return Z.exports.useEffect(function(){e.current&&(e.current.onselectstart=function(){return!1})},[e]),eI(e,{onMouseMove:t,onMouseUp:r,onTap:function(){}})},h3=function(e){var t=e.callbacks,r=Z.exports.useRef(null),i=Z.exports.useRef(null);QG(i,e.isMaximized);var s="height"in e?{flexBasis:e.height}:{},o=ZG(r),a=ej(r);return H("div",Bn(Bt({ref:r,className:J_.thumbnailsWrapper,style:s,onWheel:o},a),{children:H("ul",{className:J_.thumbnails+(e.isRTL?" "+J_.RTL:""),children:Object.keys(t).map(function(l,u){return H(Qk,{reference:i,thumbnailsContainerRef:r,slide:e.slides[l],thumbnail:e.thumbnails[l],isImage:e.hasImages,shouldLazyLoad:e.shouldLazyLoad,isCurrent:Number(l)===e.curIndex,width:e.width,onClick:t[l]},u)})})}))};h3.propTypes={callbacks:ut.objectOf(ut.func.isRequired).isRequired,isMaximized:ut.bool.isRequired,width:ut.string,height:ut.string,isRTL:ut.bool.isRequired,slides:ut.array.isRequired,thumbnails:ut.array.isRequired,hasImages:ut.bool.isRequired,shouldLazyLoad:ut.bool.isRequired,curIndex:ut.number.isRequired};h3.defaultProps={curIndex:0};var tj=function(){var e=new Set;function t(o){for(var a=Bk(o.touches),l;!(l=a()).done;){var u=l.value;e.add(u.identifier)}}function r(o){return o.touches!==void 0&&o.touches.length>1}function i(o){return o.changedTouches&&e.has(o.changedTouches[0].identifier)}function s(o){return r(o)?(t(o),!0):i(o)}return{isPinch:s}},nj=function(e,t){var r=t.onTouchMove,i=t.onTouchEnd,s=t.onTap,o=tj(),a=0,l=0,u=!1,c=!1,h=0,p=Date.now(),m=0,y=function(T,D,I){Math.abs(D)>Math.abs(I)&&T.cancelable&&T.preventDefault()},g=function(T,D){if(D===void 0&&(D=0),navigator.platform.match(/iPhone|iPad|iPod|MacIntel/)&&o.isPinch(T))return!0;if(!("visualViewport"in window))return!1;var I=window.visualViewport,B=I.scale,W=I.offsetLeft,G=I.width;return!(B<=1.1||W<=0&&D>0||W+G>=G*B&&D<0)},x=function(T){T.stopPropagation(),u=!0,a=T.touches[0].clientX,l=T.touches[0].clientY,h=a,p=Date.now()},w=function(T){if(T.stopPropagation(),!!u){var D=T.changedTouches[0].clientX-a;if(!g(T,D)){var I=T.changedTouches[0].clientY-l;y(T,D,I),r(D,I),c=!0,m=(T.changedTouches[0].clientX-h)/(Date.now()-p),h=T.changedTouches[0].clientX,p=Date.now()}}},_=function(T){if(T.stopPropagation(),!!u){var D=T.changedTouches[0].clientX-a;if(g(T,D)){i(0,0,0);return}var I=T.changedTouches[0].clientY-l;y(T,D,I),c?i(D,I,m):s(),u=!1,c=!1}},A=[{event:"touchstart",callback:x},{event:"touchmove",callback:w},{event:"touchend",callback:_},{event:"touchcancel",callback:_}];Z.exports.useEffect(function(){var C=e.current;return C&&A.forEach(function(T){var D=T.event,I=T.callback;return C.addEventListener(D,I,{passive:!1})}),function(){C&&A.forEach(function(T){var D=T.event,I=T.callback;return C.removeEventListener(D,I)})}},[e,A])},rj=function(e,t,r){var i=r.onSwipeMoveX,s=r.onSwipeMoveY,o=r.onSwipeEndRight,a=r.onSwipeEndLeft,l=r.onSwipeEndDisqualified,u=r.onSwipeEndDown,c=r.onTap,h,p=function(x,w,_){w===void 0&&(w=0),_===void 0&&(_=0);var A=e.current,C=A.clientWidth,T=A.clientHeight,D=C*t,I=T*t,B=Math.abs(_);!h&&x<=-D?a(x,B):!h&&x>=D?o(x,B):h&&w>=I?u():l(x,B),h=void 0},m=function g(x,w){w===void 0&&(w=0),h===!1?i(x):h?s(x,w):(h=w!==0&&Math.abs(x)<Math.abs(w),g(x,w))};nj(e,{onTouchMove:m,onTouchEnd:p,onTap:c});var y=eI(e,{onMouseMove:m,onMouseUp:p,onTap:c});return Kk(e),y},ij=function(e,t){var r=e,i=t,s;function o(){s=setInterval(i,r)}function a(){s&&clearInterval(s)}function l(){a(),o()}return{start:o,stop:a,restart:l}},sj=function(e,t,r){var i=e?ij(e,r):null,s=Z.exports.useState(!!i&&t),o=s[0],a=s[1],l=function(){return!!i&&i.start()},u=function(){return!!i&&i.stop()},c=function(){return!!i&&i.restart()};return Z.exports.useEffect(function(){return o&&l(),function(){u()}}),[o,a,{stopTimer:u,restartTimer:c}]},oj=function(){function n(){}var e=n.prototype;return e.CreateSlides=function(r,i){return new aj(r,i)},n}(),aj=function(){function n(t,r){var i=r.index,s=r.isLoop,o=s===void 0?!1:s;this._isLoop=o,this._slides=t,!(!this._slides||!this._slides.length)&&(this._length=this._slides.length,this._minIndex=0,this._maxIndex=this._length-1,this._headIndex=this._minIndex,this._curIndex=this._convertCurIndexForDisplayToCurIndex(i))}var e=n.prototype;return e._isIndexInRange=function(r){return this._minIndex<=r&&r<=this._maxIndex},e._convertCurIndexForDisplayToCurIndex=function(r){return r?this._isIndexInRange(r)?r:this._headIndex:this._headIndex},e.isMinIndex=function(){return this._curIndex===this._minIndex},e.isMaxIndex=function(){return this._curIndex===this._maxIndex},n._range=function(r,i){var s=i-r+1;return Array(s).fill(r).map(function(o,a){return o+a})},e.calibrateIndex=function(r){return!this._length||!this._isLoop?!1:this._curIndex===this._minIndex&&r<0?(this._curIndex=this._maxIndex+1,!0):this._curIndex===this._maxIndex&&r>0?(this._curIndex=this._minIndex-1,!0):!1},e.canUpdateIndex=function(r){return!this._length||r===0?!1:this._isLoop?!0:this._isIndexInRange(this._curIndex+r)},e.updateIndex=function(r){return!this._length||!this.canUpdateIndex(r)?!1:(this._curIndex=Math.abs((this._length+this._curIndex+r)%this._length),!0)},e._canGoToIndex=function(r){return this._length?this._isIndexInRange(r):!1},e.goToIndex=function(r){return!this._length||!this._canGoToIndex(r)?!1:(this._curIndex=r,!0)},tG(n,[{key:"slides",get:function(){return this._slides}},{key:"length",get:function(){return this._length}},{key:"curIndex",get:function(){return this._curIndex}},{key:"curIndexForDisplay",get:function(){return this._curIndex+1}},{key:"allIndices",get:function(){return this._length?this.constructor._range(this._minIndex,this._maxIndex):[]}}]),n}(),lj=function(e,t){var r=t.index,i=t.isLoop;return Z.exports.useMemo(function(){var s=new oj,o=s.CreateSlides(e,{index:r,isLoop:i}),a=o.slides;return[o,a]},[e,r,i])},uj=function(e){Z.exports.useEffect(function(){var t=e.current,r=function(){!t||t.setAttribute("data-is-not-keyboard-user","true")},i=function(o){!t||o.key==="Tab"&&t.setAttribute("data-is-not-keyboard-user","false")};return t&&(t.addEventListener("mousedown",r),t.addEventListener("keydown",i)),function(){t&&(t.removeEventListener("mousedown",r),t.removeEventListener("keydown",i))}},[e])},cj=function(e,t){var r=Z.exports.useState(e),i=r[0],s=r[1];return Z.exports.useEffect(function(){var o=window.scrollX,a=window.scrollY,l=document.querySelector("body"),u=l.style.overflow;return i&&(l.style.overflow="hidden",t.current&&t.current.focus()),function(){i&&(window.scrollTo(o,a),l.style.overflow=u)}},[i,t]),[i,s]},fj=1500,hj=["topLeft","topCenter","topRight","centerLeft","centerCenter","centerRight","bottomLeft","bottomCenter","bottomRight","top","bottom"],dj=["topRight","topCenter","topLeft","centerRight","centerCenter","centerLeft","bottomRight","bottomCenter","bottomLeft","top","bottom"],pj=function(e,t){var r=this;this.get=function(i){return r.reversedMap[i]},this.reversedMap={},Object.keys(e).forEach(function(i){if(!(t&&i.endsWith("AtMax"))){var s=e[i];r.reversedMap[s]=i}})},mj={images:ut.array&&$G(["children"]),children:ut.oneOfType([ut.arrayOf(ut.node),ut.node]),thumbnails:ut.arrayOf(ut.node),isRTL:ut.bool.isRequired,isLoop:ut.bool.isRequired,isMaximized:ut.bool.isRequired,index:Hh(!0),shouldLazyLoad:ut.bool.isRequired,canAutoPlay:ut.bool.isRequired,isAutoPlaying:ut.bool.isRequired,autoPlayInterval:Hh(!1),hasTransition:ut.bool.isRequired,swipeThreshold:YG(0,1),swipeRollbackSpeed:Hh(!0),transitionSpeed:Hh(!0),transitionDurationLimit:Hh(!0),transitionDurationMin:Hh(!0),transitionDurationMax:XG(">=","transitionDurationMin"),widgetsHasShadow:ut.bool.isRequired,hasLeftButton:Po.isRequired,hasRightButton:Po.isRequired,hasMediaButton:Po.isRequired,hasSizeButton:Po.isRequired,hasIndexBoard:Po.isRequired,hasDotButtons:fc.isRequired,hasCaptions:fc.isRequired,hasThumbnails:ut.bool.isRequired,hasLeftButtonAtMax:Po,hasRightButtonAtMax:Po,hasMediaButtonAtMax:Po,hasSizeButtonAtMax:Po,hasIndexBoardAtMax:Po,hasDotButtonsAtMax:fc,hasCaptionsAtMax:fc,hasThumbnailsAtMax:ut.bool,leftIcon:ut.node,rightIcon:ut.node,playIcon:ut.node,pauseIcon:ut.node,minIcon:ut.node,maxIcon:ut.node,activeIcon:ut.node,passiveIcon:ut.node,shouldSwipeOnMouse:ut.bool.isRequired,shouldMaximizeOnClick:ut.bool.isRequired,shouldMinimizeOnClick:ut.bool.isRequired,shouldMinimizeOnSwipeDown:ut.bool.isRequired,onIndexChange:ut.func.isRequired,className:ut.string,style:ut.object,objectFit:y1.isRequired,objectFitAtMax:y1.isRequired,thumbnailWidth:ut.string,thumbnailHeight:ut.string,zIndexAtMax:ut.number},gj={index:0,isRTL:!1,isLoop:!0,isMaximized:!1,shouldLazyLoad:!0,canAutoPlay:!0,isAutoPlaying:!1,autoPlayInterval:5e3,hasTransition:!0,swipeThreshold:.1,swipeRollbackSpeed:.1,transitionSpeed:1,transitionDurationMin:250,transitionDurationLimit:750,widgetsHasShadow:!1,hasLeftButton:"centerLeft",hasRightButton:"centerRight",hasMediaButton:"topLeft",hasSizeButton:"topRight",hasIndexBoard:"topCenter",hasDotButtons:!1,hasCaptions:!1,hasThumbnails:!0,shouldSwipeOnMouse:!0,shouldMaximizeOnClick:!1,shouldMinimizeOnClick:!1,shouldMinimizeOnSwipeDown:!0,onIndexChange:function(){},onSwipeMoveX:function(){},onSwipeMoveY:function(){},onSwipeEndDown:function(){},onTap:function(){},objectFit:"cover",objectFitAtMax:"contain"},yT=function(e,t,r){var i=t.map(function(s){if(!r)return e[s];var o=s+"AtMax";return o in e?e[o]:e[s]});return t.reduce(function(s,o,a){var l;return g1({},s,(l={},l[o]=i[a],l))},{})},vj=function(e,t){var r=Z.exports.useRef(gm?void 0:document),i=Z.exports.useRef(null),s=Z.exports.useRef(null),o=Z.exports.useRef(null),a=Z.exports.useRef(null),l=Z.exports.useRef(null),u=Z.exports.useRef(null),c="images"in e,h=Array.isArray(e.children)?e.children:[e.children],p=c?e.images:h,m=lj(p,{index:e.index,isLoop:e.isLoop}),y=m[0],g=m[1],x=e.thumbnails||g,w=y.length,_=e.isRTL?-1:1,A=w*-_+"00%",C=w*_+"00%",T=Z.exports.useState(y.curIndex),D=T[1],I=function(pt){D(pt),e.onIndexChange({curIndex:y.curIndex,curIndexForDisplay:y.curIndexForDisplay})},B=sj(e.canAutoPlay&&e.autoPlayInterval,e.isAutoPlaying,function(){return Ae(1)}),W=B[0],G=B[1],L=B[2],P=L.stopTimer,q=L.restartTimer,z=function(){G(function(pt){return!pt})},ne=Zk("(prefers-reduced-motion: reduce)");Z.exports.useEffect(function(){ne&&G(!1)},[ne,G]);var re=Z.exports.useState(!1),le=re[0],F=re[1],X=Z.exports.useCallback(function(){document.visibilityState!=="visible"?(F(W),G(!1)):G(le)},[W,G,le,F]);a2(gm?void 0:document,"visibilitychange",X);var ie=cj(e.isMaximized,o),ve=ie[0],N=ie[1],V=function(){N(function(pt){return!pt})},Q=function(pt,Ft,Dt){if(pt===void 0&&(pt=0),Ft===void 0&&(Ft=e.transitionSpeed),Dt===void 0&&(Dt=!0),!!e.hasTransition&&!ne){var mn=Math.abs(pt),Ts=Dt&&a.current?Math.abs(a.current.clientWidth-mn):mn;Ft=Dt?Ft:e.swipeRollbackSpeed;var On=Ts/Ft;On>e.transitionDurationLimit/2&&(On=Math.atan(2*On/e.transitionDurationLimit)*e.transitionDurationLimit*2/Math.PI),e.transitionDurationMin&&(On=Math.max(On,e.transitionDurationMin)),e.transitionDurationMax&&(On=Math.min(On,e.transitionDurationMax)),W&&On>e.autoPlayInterval&&(On=e.autoPlayInterval*1),a.current&&(a.current.style.transitionDuration=On+"ms"),setTimeout(function(){a.current&&(a.current.style.transitionDuration=null)},On)}},ue=function(pt,Ft){pt===void 0&&(pt=0),Ft===void 0&&(Ft=0);var Dt=Ft>0?Ft:0,mn=1-Dt/fj;s.current&&s.current.style.transform!=="translate("+pt+"px, "+Ft+"px) scale("+mn+")"&&(s.current.style.transform="translate("+pt+"px, "+Ft+"px) scale("+mn+")"),i.current&&i.current.style.opacity!==mn&&(i.current.style.opacity=mn)},j=Z.exports.useCallback(function(At){At===void 0&&(At=0);var pt=At===0?-100*y.curIndex*_+"%":"calc("+-100*y.curIndex*_+"% + "+At+"px)";a.current&&(a.current.style.transform="translateX("+pt+")")},[y.curIndex,_]);Z.exports.useEffect(function(){return j()},[j]);var we=e.isLoop&&w>1,me=function(pt){e.onSwipeMoveX(pt),e.canAutoPlay&&P();var Ft=-pt*_;we&&(y.isMinIndex()&&Ft<0&&u.current?u.current.style.transform="translateX("+A+")":y.isMaxIndex()&&Ft>0&&l.current?l.current.style.transform="translateX("+C+")":(l.current&&(l.current.style.transform=null),u.current&&(u.current.style.transform=null))),j(pt)},Ae=function(pt,Ft,Dt){Ft===void 0&&(Ft=0),e.canAutoPlay&&pt===0&&q(),we&&l.current&&u.current&&(y.isMinIndex()&&pt<0?(l.current.style.transform="translateX("+C+")",u.current.style.transform=null):y.isMaxIndex()&&pt>0?(l.current.style.transform=null,u.current.style.transform="translateX("+A+")"):pt!==0&&(l.current.style.transform=null,u.current.style.transform=null)),y.calibrateIndex(pt)&&we&&(a.current&&(a.current.style.transitionDuration=null),j(Ft)),y.updateIndex(pt),Q(Ft,Dt,pt!==0),ue(0,0),j(),I(y.curIndex)},Te=function(){return Ae(0,0,0)};a2(gm?void 0:window,"orientationchange",Te);var De=function(pt){l.current&&(l.current.style.transform=null),u.current&&(u.current.style.transform=null),y.goToIndex(pt),j(),I(y.curIndex)},xe=y.allIndices,Me=xe.map(function(At){return function(){return De(At)}}),Ge=xe.reduce(function(At,pt,Ft){var Dt;return g1({},At,(Dt={},Dt[pt]=Me[Ft],Dt))},{});xS(r,{Escape:function(){return N(function(){return!1})}}),uj(s);var be=function(){return Ae(-_)},oe=function(){return Ae(+_)};xS(s,{ArrowLeft:be,ArrowRight:oe,Enter:function(pt){pt.target===pt.currentTarget&&V()}});var $e=Z.exports.useRef(ve);$e.current=ve;var Ke=function(pt,Ft){e.onSwipeMoveY(pt,Ft),!!e.shouldMinimizeOnSwipeDown&&$e.current&&ue(pt,Ft)},je=function(){e.onSwipeEndDown(),e.shouldMinimizeOnSwipeDown&&(ue(0,0),N(function(){return!1}),Te())},et=function(){e.onTap(),$e.current&&e.shouldMinimizeOnClick?N(function(){return!1}):!$e.current&&e.shouldMaximizeOnClick&&N(function(){return!0})},ct=rj(o,e.swipeThreshold,{onSwipeMoveX:me,onSwipeMoveY:Ke,onSwipeEndLeft:function(pt,Ft){return Ae(_,pt,Ft)},onSwipeEndRight:function(pt,Ft){return Ae(-_,pt,Ft)},onSwipeEndDisqualified:function(pt,Ft){return Ae(0,pt,Ft)},onSwipeEndDown:je,onTap:et}),ae="className"in e?" "+e.className:"",ee=c?" "+a0.gallery:"",Se=a0.carousel+ae+ee,He=a0.maxCarousel+ee,rt=ve&&H("div",{className:Se,style:e.style}),ft=ve&&H("div",{ref:i,className:He,style:"zIndexAtMax"in e?{zIndex:e.zIndexAtMax}:{}}),gt=yT(e,["objectFit","hasCaptions","hasThumbnails"],ve),Pe=yT(e,["hasLeftButton","hasRightButton","hasMediaButton","hasSizeButton","hasDotButtons","hasIndexBoard"],ve),Et=Pe.hasLeftButton&&H(Fk,{position:Pe.hasLeftButton,isDisabled:!y.canUpdateIndex(-_),icon:e.leftIcon,isRTL:e.isRTL,hasShadow:e.widgetsHasShadow,onClick:be}),it=Pe.hasRightButton&&H(Ok,{position:Pe.hasRightButton,isDisabled:!y.canUpdateIndex(+_),icon:e.rightIcon,isRTL:e.isRTL,hasShadow:e.widgetsHasShadow,onClick:oe}),_e=Pe.hasMediaButton&&e.canAutoPlay&&H(Uk,{position:Pe.hasMediaButton,isPlaying:W,playIcon:e.playIcon,pauseIcon:e.pauseIcon,hasShadow:e.widgetsHasShadow,onClick:z}),fe=Pe.hasSizeButton&&H(zk,{position:Pe.hasSizeButton,isMaximized:ve,minIcon:e.minIcon,maxIcon:e.maxIcon,hasShadow:e.widgetsHasShadow,onClick:V}),Qe=Pe.hasIndexBoard&&H(u3,{position:Pe.hasIndexBoard,hasShadow:e.widgetsHasShadow,curIndex:y.curIndexForDisplay,totalIndices:xe.length}),Je=Pe.hasDotButtons&&H(c3,{callbacks:Ge,position:Pe.hasDotButtons,isRTL:e.isRTL,curIndex:y.curIndex,activeIcon:e.activeIcon,passiveIcon:e.passiveIcon,hasShadow:e.widgetsHasShadow}),yt=gt.hasThumbnails&&H(h3,{isRTL:e.isRTL,isMaximized:ve,width:e.thumbnailWidth,height:e.thumbnailHeight,slides:g,thumbnails:x,hasImages:c,shouldLazyLoad:e.shouldLazyLoad,curIndex:y.curIndex,callbacks:Ge}),_t={hasLeftButton:Et,hasRightButton:it,hasMediaButton:_e,hasSizeButton:fe,hasDotButtons:Je,hasIndexBoard:Qe},St=new pj(Pe),xt=e.isRTL?dj:hj,Lt=H(Z.exports.Fragment,{children:xt.map(function(At,pt){return _t[St.get(At)]&&H(Z.exports.Fragment,{children:_t[St.get(At).replace(/AtMax$/,"")]},pt)})});return Z.exports.useImperativeHandle(t,function(){return{play:function(){return G(function(){return!0})},pause:function(){return G(function(){return!1})},toggleIsPlaying:function(){return G(function(pt){return!pt})},maximize:function(){return N(function(){return!0})},minimize:function(){return N(function(){return!1})},toggleIsMaximized:function(){return N(function(pt){return!pt})},goLeft:be,goRight:oe,goToIndex:De}}),Ie(Z.exports.Fragment,{children:[rt,ft,Ie("div",{ref:s,className:ve?He:Se,style:ve?"zIndexAtMax"in e?{zIndex:e.zIndexAtMax}:{}:e.style,"data-is-not-keyboard-user":"true",children:[Ie("div",{className:a0.carouselInner,children:[H("div",Bn(Bt({ref:o,className:a0.slidesContainer,tabIndex:0},e.shouldSwipeOnMouse?ct:{}),{children:H($k,{minRef:l,maxRef:u,slidesRef:a,slidesContainerRef:o,length:w,slides:g,hasImages:c,isRTL:e.isRTL,shouldLazyLoad:e.shouldLazyLoad,objectFit:gt.objectFit,widgetsHasShadow:e.widgetsHasShadow,hasCaptions:gt.hasCaptions,curIndex:y.curIndex})})),Lt]}),yt]})]})},bw=Z.exports.forwardRef(vj);bw.displayName="Carousel";bw.propTypes=mj;bw.defaultProps=gj;const yu=Object.create(null);yu.open="0";yu.close="1";yu.ping="2";yu.pong="3";yu.message="4";yu.upgrade="5";yu.noop="6";const fx=Object.create(null);Object.keys(yu).forEach(n=>{fx[yu[n]]=n});const yj={type:"error",data:"parser error"},xj=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",wj=typeof ArrayBuffer=="function",_j=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,tI=({type:n,data:e},t,r)=>xj&&e instanceof Blob?t?r(e):xT(e,r):wj&&(e instanceof ArrayBuffer||_j(e))?t?r(e):xT(new Blob([e]),r):r(yu[n]+(e||"")),xT=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+r)},t.readAsDataURL(n)},wT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L0=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let n=0;n<wT.length;n++)L0[wT.charCodeAt(n)]=n;const bj=n=>{let e=n.length*.75,t=n.length,r,i=0,s,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const u=new ArrayBuffer(e),c=new Uint8Array(u);for(r=0;r<t;r+=4)s=L0[n.charCodeAt(r)],o=L0[n.charCodeAt(r+1)],a=L0[n.charCodeAt(r+2)],l=L0[n.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return u},Sj=typeof ArrayBuffer=="function",nI=(n,e)=>{if(typeof n!="string")return{type:"message",data:rI(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:Aj(n.substring(1),e)}:fx[t]?n.length>1?{type:fx[t],data:n.substring(1)}:{type:fx[t]}:yj},Aj=(n,e)=>{if(Sj){const t=bj(n);return rI(t,e)}else return{base64:!0,data:n}},rI=(n,e)=>{switch(e){case"blob":return n instanceof ArrayBuffer?new Blob([n]):n;case"arraybuffer":default:return n}},iI=String.fromCharCode(30),Mj=(n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((s,o)=>{tI(s,!1,a=>{r[o]=a,++i===t&&e(r.join(iI))})})},Ej=(n,e)=>{const t=n.split(iI),r=[];for(let i=0;i<t.length;i++){const s=nI(t[i],e);if(r.push(s),s.type==="error")break}return r},sI=4;function Ei(n){if(n)return Cj(n)}function Cj(n){for(var e in Ei.prototype)n[e]=Ei.prototype[e];return n}Ei.prototype.on=Ei.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Ei.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Ei.prototype.off=Ei.prototype.removeListener=Ei.prototype.removeAllListeners=Ei.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Ei.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};Ei.prototype.emitReserved=Ei.prototype.emit;Ei.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Ei.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Lf=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function oI(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const Tj=setTimeout,Lj=clearTimeout;function Sw(n,e){e.useNativeTimers?(n.setTimeoutFn=Tj.bind(Lf),n.clearTimeoutFn=Lj.bind(Lf)):(n.setTimeoutFn=setTimeout.bind(Lf),n.clearTimeoutFn=clearTimeout.bind(Lf))}const Rj=1.33;function Pj(n){return typeof n=="string"?Bj(n):Math.ceil((n.byteLength||n.size)*Rj)}function Bj(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}class kj extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class aI extends Ei{constructor(e){super(),this.writable=!1,Sw(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new kj(e,t,r)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=nI(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const lI="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),wS=64,Ij={};let _T=0,Vv=0,bT;function ST(n){let e="";do e=lI[n%wS]+e,n=Math.floor(n/wS);while(n>0);return e}function uI(){const n=ST(+new Date);return n!==bT?(_T=0,bT=n):n+"."+ST(_T++)}for(;Vv<wS;Vv++)Ij[lI[Vv]]=Vv;function cI(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function Nj(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}let fI=!1;try{fI=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const Dj=fI;function hI(n){const e=n.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||Dj))return new XMLHttpRequest}catch{}if(!e)try{return new Lf[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Fj(){}const Oj=function(){return new hI({xdomain:!1}).responseType!=null}();class Uj extends aI{constructor(e){if(super(e),this.polling=!1,typeof location!="undefined"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}const t=e&&e.forceBase64;this.supportsBinary=Oj&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Ej(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Mj(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=uI()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=cI(e),s=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new du(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}class du extends Ei{constructor(e,t){super(),Sw(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){const e=oI(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new hI(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{t.readyState===4&&(t.status===200||t.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof t.status=="number"?t.status:0)},0))},t.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document!="undefined"&&(this.index=du.requestsCount++,du.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=Fj,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete du.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}du.requestsCount=0;du.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",AT);else if(typeof addEventListener=="function"){const n="onpagehide"in Lf?"pagehide":"unload";addEventListener(n,AT,!1)}}function AT(){for(let n in du.requests)du.requests.hasOwnProperty(n)&&du.requests[n].abort()}const zj=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),qv=Lf.WebSocket||Lf.MozWebSocket,MT=!0,Hj="arraybuffer",ET=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Gj extends aI{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=ET?{}:oI(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=MT&&!ET?t?new qv(e,t):new qv(e):new qv(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||Hj,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;tI(r,this.supportsBinary,s=>{const o={};try{MT&&this.ws.send(s)}catch{}i&&zj(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=uI()),this.supportsBinary||(e.b64=1);const i=cI(e),s=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!qv}}const jj={websocket:Gj,polling:Uj},Wj=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function _S(n){const e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=Wj.exec(n||""),s={},o=14;for(;o--;)s[Vj[o]]=i[o]||"";return t!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=qj(s,s.path),s.queryKey=Yj(s,s.query),s}function qj(n,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&r.splice(0,1),e.substr(e.length-1,1)=="/"&&r.splice(r.length-1,1),r}function Yj(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}class Af extends Ei{constructor(e,t={}){super(),e&&typeof e=="object"&&(t=e,e=null),e?(e=_S(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=_S(t.host).host),Sw(this,t),this.secure=t.secure!=null?t.secure:typeof location!="undefined"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=t.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Nj(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=sI,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new jj[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Af.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),r=!1;Af.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Af.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=t.name,this.emitReserved("upgradeError",p)}}))};function s(){r||(r=!0,c(),t.close(),t=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=t.name,s(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function l(){o("socket closed")}function u(h){t&&h.name!==t.name&&s()}const c=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",u),t.open()}onOpen(){if(this.readyState="open",Af.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=Pj(i)),r>0&&t>this.maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:t,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Af.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}Af.protocol=sI;function Jj(n,e="",t){let r=n;t=t||typeof location!="undefined"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t!="undefined"?n=t.protocol+"//"+n:n="https://"+n),r=_S(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}const Xj=typeof ArrayBuffer=="function",$j=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,dI=Object.prototype.toString,Kj=typeof Blob=="function"||typeof Blob!="undefined"&&dI.call(Blob)==="[object BlobConstructor]",Qj=typeof File=="function"||typeof File!="undefined"&&dI.call(File)==="[object FileConstructor]";function d3(n){return Xj&&(n instanceof ArrayBuffer||$j(n))||Kj&&n instanceof Blob||Qj&&n instanceof File}function hx(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(hx(n[t]))return!0;return!1}if(d3(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return hx(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&hx(n[t]))return!0;return!1}function Zj(n){const e=[],t=n.data,r=n;return r.data=bS(t,e),r.attachments=e.length,{packet:r,buffers:e}}function bS(n,e){if(!n)return n;if(d3(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=bS(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=bS(n[r],e));return t}return n}function eW(n,e){return n.data=SS(n.data,e),n.attachments=void 0,n}function SS(n,e){if(!n)return n;if(n&&n._placeholder)return e[n.num];if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=SS(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=SS(n[t],e));return n}const tW=5;var Hn;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(Hn||(Hn={}));class nW{constructor(e){this.replacer=e}encode(e){return(e.type===Hn.EVENT||e.type===Hn.ACK)&&hx(e)?(e.type=e.type===Hn.EVENT?Hn.BINARY_EVENT:Hn.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Hn.BINARY_EVENT||e.type===Hn.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Zj(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}class p3 extends Ei{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string")t=this.decodeString(e),t.type===Hn.BINARY_EVENT||t.type===Hn.BINARY_ACK?(this.reconstructor=new rW(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else if(d3(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(Hn[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Hn.BINARY_EVENT||r.type===Hn.BINARY_ACK){const s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(t+1)==="/"){const s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(s,t)}else r.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const s=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(p3.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Hn.CONNECT:return typeof t=="object";case Hn.DISCONNECT:return t===void 0;case Hn.CONNECT_ERROR:return typeof t=="string"||typeof t=="object";case Hn.EVENT:case Hn.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Hn.ACK:case Hn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class rW{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=eW(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var iW=Object.freeze(Object.defineProperty({__proto__:null,protocol:tW,get PacketType(){return Hn},Encoder:nW,Decoder:p3},Symbol.toStringTag,{value:"Module"}));function Cl(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const sW=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class pI extends Ei{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Cl(e,"open",this.onopen.bind(this)),Cl(e,"packet",this.onpacket.bind(this)),Cl(e,"error",this.onerror.bind(this)),Cl(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(sW.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const r={type:Hn.EVENT,data:t};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const o=this.ids++,a=t.pop();this._registerAckCallback(o,a),r.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(r===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...s)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...s])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:Hn.CONNECT,data:e})}):this.packet({type:Hn.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Hn.CONNECT:if(e.data&&e.data.sid){const i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Hn.EVENT:case Hn.BINARY_EVENT:this.onevent(e);break;case Hn.ACK:case Hn.BINARY_ACK:this.onack(e);break;case Hn.DISCONNECT:this.ondisconnect();break;case Hn.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:Hn.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Hn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function ug(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}ug.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};ug.prototype.reset=function(){this.attempts=0};ug.prototype.setMin=function(n){this.ms=n};ug.prototype.setMax=function(n){this.max=n};ug.prototype.setJitter=function(n){this.jitter=n};class AS extends Ei{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Sw(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ug({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||iW;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Af(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Cl(t,"open",function(){r.onopen(),e&&e()}),s=Cl(t,"error",o=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",o),e?e(o):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&i();const a=this.setTimeoutFn(()=>{i(),t.close(),t.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Cl(e,"ping",this.onping.bind(this)),Cl(e,"data",this.ondata.bind(this)),Cl(e,"error",this.onerror.bind(this)),Cl(e,"close",this.onclose.bind(this)),Cl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new pI(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const l0={};function dx(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=Jj(n,e.path||"/socket.io"),r=t.source,i=t.id,s=t.path,o=l0[i]&&s in l0[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new AS(r,e):(l0[i]||(l0[i]=new AS(r,e)),l=l0[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(dx,{Manager:AS,Socket:pI,io:dx,connect:dx});const Ec=n=>{const[e,t]=Z.exports.useState(null);return Z.exports.useEffect(()=>{const r=dx({}.VITE_IPADRESS,{transports:["websocket"]});return t(r),r.on("connect",()=>{console.log("connected"),r.emit("room",n)}),r.on("connect_error",i=>{console.log(i.message),setTimeout(()=>r.connect(),4e3)}),r.on("disconnect",()=>console.log("disconnected")),()=>r.disconnect()},[]),e},oW=()=>{const n=Ec(localStorage.getItem("room")),e=Z.exports.createRef(),[t,r]=Z.exports.useState(localStorage.getItem("device")),i=[1,2,3,4,5,6,7].map(a=>({src:`/images/vloer${a}.jpg`}));Z.exports.useEffect(()=>{if(n&&t!=="config")return n.on("picture change",a=>{e.current.goToIndex(a.curIndex)}),()=>{n==null||n.disconnect()}},[n]);const s=({curIndex:a,curIndexForDisplay:l})=>{console.log(a,l),n.emit("active",{status:"active"}),n.emit("picture change",{curIndex:a})};return H("div",{children:H(bw,Bn(Bt({ref:e,images:i,style:{height:"100vh",width:"100%"}},t==="screen"&&Bt({},{hasLeftButton:!1,hasRightButton:!1,hasMediaButton:!1,hasSizeButton:!1,hasThumbnails:!1})),{objectFit:"contain",onIndexChange:t==="config"&&s}))})};/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Aw="139",Gh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},jh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},mI=0,MS=1,gI=2,aW=3,lW=0,m3=1,g3=2,em=3,Yf=0,Oo=1,Jf=2,v3=1,uW=2,pc=0,ud=1,ES=2,CS=3,TS=4,vI=5,Yh=100,yI=101,xI=102,LS=103,RS=104,wI=200,_I=201,bI=202,SI=203,y3=204,x3=205,AI=206,MI=207,EI=208,CI=209,TI=210,LI=0,RI=1,PI=2,l2=3,BI=4,kI=5,II=6,NI=7,Y1=0,DI=1,FI=2,Il=0,OI=1,UI=2,zI=3,w3=4,HI=5,Mw=300,_c=301,Xf=302,Pm=303,x1=304,cg=306,ja=1e3,Ys=1001,Bm=1002,hi=1003,w1=1004,cW=1004,_1=1005,fW=1005,_r=1006,Ew=1007,hW=1007,Cc=1008,dW=1008,$f=1009,GI=1010,jI=1011,km=1012,WI=1013,W0=1014,Wa=1015,Va=1016,VI=1017,qI=1018,cd=1020,YI=1021,JI=1022,ia=1023,XI=1024,$I=1025,jf=1026,_d=1027,KI=1028,QI=1029,ZI=1030,eN=1031,tN=1033,px=33776,mx=33777,gx=33778,vx=33779,PS=35840,BS=35841,kS=35842,IS=35843,nN=36196,NS=37492,DS=37496,FS=37808,OS=37809,US=37810,zS=37811,HS=37812,GS=37813,jS=37814,WS=37815,VS=37816,qS=37817,YS=37818,JS=37819,XS=37820,$S=37821,KS=36492,rN=2200,iN=2201,sN=2202,Im=2300,bd=2301,yx=2302,td=2400,nd=2401,b1=2402,Cw=2500,_3=2501,oN=0,aN=1,b3=2,ua=3e3,sr=3001,lN=3200,uN=3201,oh=0,cN=1,pW="",ou="srgb",Rf="srgb-linear",mW=0,xx=7680,gW=7681,vW=7682,yW=7683,xW=34055,wW=34056,_W=5386,bW=512,SW=513,AW=514,MW=515,EW=516,CW=517,TW=518,fN=519,Nm=35044,Kf=35048,LW=35040,RW=35045,PW=35049,BW=35041,kW=35046,IW=35050,NW=35042,DW="100",QS="300 es",u2=1035;class Tc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const bs=[];for(let n=0;n<256;n++)bs[n]=(n<16?"0":"")+n.toString(16);let CT=1234567;const fd=Math.PI/180,S1=180/Math.PI;function oa(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(bs[n&255]+bs[n>>8&255]+bs[n>>16&255]+bs[n>>24&255]+"-"+bs[e&255]+bs[e>>8&255]+"-"+bs[e>>16&15|64]+bs[e>>24&255]+"-"+bs[t&63|128]+bs[t>>8&255]+"-"+bs[t>>16&255]+bs[t>>24&255]+bs[r&255]+bs[r>>8&255]+bs[r>>16&255]+bs[r>>24&255]).toLowerCase()}function di(n,e,t){return Math.max(e,Math.min(t,n))}function S3(n,e){return(n%e+e)%e}function FW(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function OW(n,e,t){return n!==e?(t-n)/(e-n):0}function V0(n,e,t){return(1-t)*n+t*e}function UW(n,e,t,r){return V0(n,e,1-Math.exp(-t*r))}function zW(n,e=1){return e-Math.abs(S3(n,e*2)-e)}function HW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function GW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function jW(n,e){return n+Math.floor(Math.random()*(e-n+1))}function WW(n,e){return n+Math.random()*(e-n)}function VW(n){return n*(.5-Math.random())}function qW(n){n!==void 0&&(CT=n);let e=CT+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function YW(n){return n*fd}function JW(n){return n*S1}function ZS(n){return(n&n-1)===0&&n!==0}function hN(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function c2(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function XW(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),c=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":n.set(a*c,l*h,l*p,a*u);break;case"YZY":n.set(l*p,a*c,l*h,a*u);break;case"ZXZ":n.set(l*h,l*p,a*c,a*u);break;case"XZX":n.set(a*c,l*y,l*m,a*u);break;case"YXY":n.set(l*m,a*c,l*y,a*u);break;case"ZYZ":n.set(l*y,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function $W(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function KW(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var eA=Object.freeze({__proto__:null,DEG2RAD:fd,RAD2DEG:S1,generateUUID:oa,clamp:di,euclideanModulo:S3,mapLinear:FW,inverseLerp:OW,lerp:V0,damp:UW,pingpong:zW,smoothstep:HW,smootherstep:GW,randInt:jW,randFloat:WW,randFloatSpread:VW,seededRandom:qW,degToRad:YW,radToDeg:JW,isPowerOfTwo:ZS,ceilPowerOfTwo:hN,floorPowerOfTwo:c2,setQuaternionFromProperEuler:XW,normalize:KW,denormalize:$W});class nt{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}nt.prototype.isVector2=!0;class ji{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],h=r[7],p=r[2],m=r[5],y=r[8],g=i[0],x=i[3],w=i[6],_=i[1],A=i[4],C=i[7],T=i[2],D=i[5],I=i[8];return s[0]=o*g+a*_+l*T,s[3]=o*x+a*A+l*D,s[6]=o*w+a*C+l*I,s[1]=u*g+c*_+h*T,s[4]=u*x+c*A+h*D,s[7]=u*w+c*C+h*I,s[2]=p*g+m*_+y*T,s[5]=p*x+m*A+y*D,s[8]=p*w+m*C+y*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=c*o-a*u,p=a*l-c*s,m=u*s-o*l,y=t*h+r*p+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/y;return e[0]=h*g,e[1]=(i*u-c*r)*g,e[2]=(a*r-i*o)*g,e[3]=p*g,e[4]=(c*t-i*l)*g,e[5]=(i*s-a*t)*g,e[6]=m*g,e[7]=(r*l-u*t)*g,e[8]=(o*t-r*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],u=i[4],c=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*u,i[6]=t*a+r*c,i[1]=-r*s+t*l,i[4]=-r*o+t*u,i[7]=-r*a+t*c,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}ji.prototype.isMatrix3=!0;function dN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}const QW={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function tm(n,e){return new QW[n](e)}function A1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function hd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function wx(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const X_={[ou]:{[Rf]:hd},[Rf]:{[ou]:wx}},uo={legacyMode:!0,get workingColorSpace(){return Rf},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(X_[e]&&X_[e][t]!==void 0){const r=X_[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},pN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ui={r:0,g:0,b:0},vl={h:0,s:0,l:0},Yv={h:0,s:0,l:0};function $_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Jv(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Mt{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ou){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,uo.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Rf){return this.r=e,this.g=t,this.b=r,uo.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Rf){if(e=S3(e,1),t=di(t,0,1),r=di(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=$_(o,s,e+1/3),this.g=$_(o,s,e),this.b=$_(o,s,e-1/3)}return uo.toWorkingColorSpace(this,i),this}setStyle(e,t=ou){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,uo.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,uo.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseInt(s[2],10)/100,c=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(l,u,c,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,uo.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,uo.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=ou){const r=pN[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=hd(e.r),this.g=hd(e.g),this.b=hd(e.b),this}copyLinearToSRGB(e){return this.r=wx(e.r),this.g=wx(e.g),this.b=wx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ou){return uo.fromWorkingColorSpace(Jv(this,Ui),e),di(Ui.r*255,0,255)<<16^di(Ui.g*255,0,255)<<8^di(Ui.b*255,0,255)<<0}getHexString(e=ou){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Rf){uo.fromWorkingColorSpace(Jv(this,Ui),t);const r=Ui.r,i=Ui.g,s=Ui.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=c<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=Rf){return uo.fromWorkingColorSpace(Jv(this,Ui),t),e.r=Ui.r,e.g=Ui.g,e.b=Ui.b,e}getStyle(e=ou){return uo.fromWorkingColorSpace(Jv(this,Ui),e),e!==ou?`color(${e} ${Ui.r} ${Ui.g} ${Ui.b})`:`rgb(${Ui.r*255|0},${Ui.g*255|0},${Ui.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(vl),vl.h+=e,vl.s+=t,vl.l+=r,this.setHSL(vl.h,vl.s,vl.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(vl),e.getHSL(Yv);const r=V0(vl.h,Yv.h,t),i=V0(vl.s,Yv.s,t),s=V0(vl.l,Yv.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Mt.NAMES=pN;Mt.prototype.isColor=!0;Mt.prototype.r=1;Mt.prototype.g=1;Mt.prototype.b=1;let hp;class ah{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{hp===void 0&&(hp=A1("canvas")),hp.width=e.width,hp.height=e.height;const r=hp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=hp}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=A1("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=hd(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(hd(t[r]/255)*255):t[r]=hd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class rd{constructor(e=null){this.uuid=oa(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(K_(i[o].image)):s.push(K_(i[o]))}else s=K_(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function K_(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?ah.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}rd.prototype.isSource=!0;let ZW=0;class Qr extends Tc{constructor(e=Qr.DEFAULT_IMAGE,t=Qr.DEFAULT_MAPPING,r=Ys,i=Ys,s=_r,o=Cc,a=ia,l=$f,u=1,c=ua){super(),Object.defineProperty(this,"id",{value:ZW++}),this.uuid=oa(),this.name="",this.source=new rd(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new nt(0,0),this.repeat=new nt(1,1),this.center=new nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ji,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Mw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ja:e.x=e.x-Math.floor(e.x);break;case Ys:e.x=e.x<0?0:1;break;case Bm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ja:e.y=e.y-Math.floor(e.y);break;case Ys:e.y=e.y<0?0:1;break;case Bm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Qr.DEFAULT_IMAGE=null;Qr.DEFAULT_MAPPING=Mw;Qr.prototype.isTexture=!0;class or{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],c=l[4],h=l[8],p=l[1],m=l[5],y=l[9],g=l[2],x=l[6],w=l[10];if(Math.abs(c-p)<.01&&Math.abs(h-g)<.01&&Math.abs(y-x)<.01){if(Math.abs(c+p)<.1&&Math.abs(h+g)<.1&&Math.abs(y+x)<.1&&Math.abs(u+m+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(u+1)/2,C=(m+1)/2,T=(w+1)/2,D=(c+p)/4,I=(h+g)/4,B=(y+x)/4;return A>C&&A>T?A<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(A),i=D/r,s=I/r):C>T?C<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(C),r=D/i,s=B/i):T<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(T),r=I/s,i=B/s),this.set(r,i,s,t),this}let _=Math.sqrt((x-y)*(x-y)+(h-g)*(h-g)+(p-c)*(p-c));return Math.abs(_)<.001&&(_=1),this.x=(x-y)/_,this.y=(h-g)/_,this.z=(p-c)/_,this.w=Math.acos((u+m+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}or.prototype.isVector4=!0;class mo extends Tc{constructor(e,t,r={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new or(0,0,e,t),this.scissorTest=!1,this.viewport=new or(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Qr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:_r,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}mo.prototype.isWebGLRenderTarget=!0;class fg extends Qr{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=hi,this.minFilter=hi,this.wrapR=Ys,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}fg.prototype.isDataArrayTexture=!0;class mN extends mo{constructor(e,t,r){super(e,t),this.depth=r,this.texture=new fg(null,e,t,r),this.texture.isRenderTargetTexture=!0}}mN.prototype.isWebGLArrayRenderTarget=!0;class J1 extends Qr{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=hi,this.minFilter=hi,this.wrapR=Ys,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}J1.prototype.isData3DTexture=!0;class gN extends mo{constructor(e,t,r){super(e,t),this.depth=r,this.texture=new J1(null,e,t,r),this.texture.isRenderTargetTexture=!0}}gN.prototype.isWebGL3DRenderTarget=!0;class vN extends mo{constructor(e,t,r,i={}){super(e,t,i);const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}}vN.prototype.isWebGLMultipleRenderTargets=!0;class yi{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],y=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=g;return}if(h!==g||l!==p||u!==m||c!==y){let x=1-a;const w=l*p+u*m+c*y+h*g,_=w>=0?1:-1,A=1-w*w;if(A>Number.EPSILON){const T=Math.sqrt(A),D=Math.atan2(T,w*_);x=Math.sin(x*D)/T,a=Math.sin(a*D)/T}const C=a*_;if(l=l*x+p*C,u=u*x+m*C,c=c*x+y*C,h=h*x+g*C,x===1-a){const T=1/Math.sqrt(l*l+u*u+c*c+h*h);l*=T,u*=T,c*=T,h*=T}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+c*h+l*m-u*p,e[t+1]=l*y+c*p+u*h-a*m,e[t+2]=u*y+c*m+a*p-l*h,e[t+3]=c*y-a*h-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*c*h+u*m*y,this._y=u*m*h-p*c*y,this._z=u*c*y+p*m*h,this._w=u*c*h-p*m*y;break;case"YXZ":this._x=p*c*h+u*m*y,this._y=u*m*h-p*c*y,this._z=u*c*y-p*m*h,this._w=u*c*h+p*m*y;break;case"ZXY":this._x=p*c*h-u*m*y,this._y=u*m*h+p*c*y,this._z=u*c*y+p*m*h,this._w=u*c*h-p*m*y;break;case"ZYX":this._x=p*c*h-u*m*y,this._y=u*m*h+p*c*y,this._z=u*c*y-p*m*h,this._w=u*c*h+p*m*y;break;case"YZX":this._x=p*c*h+u*m*y,this._y=u*m*h+p*c*y,this._z=u*c*y-p*m*h,this._w=u*c*h-p*m*y;break;case"XZY":this._x=p*c*h-u*m*y,this._y=u*m*h-p*c*y,this._z=u*c*y+p*m*h,this._w=u*c*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],c=t[6],h=t[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(di(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),h=Math.sin((1-t)*c)/u,p=Math.sin(t*c)/u;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}yi.prototype.isQuaternion=!0;class ce{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(TT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(TT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,c=l*r+a*t-s*i,h=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=u*l+p*-s+c*-a-h*-o,this.y=c*l+p*-o+h*-s-u*-a,this.z=h*l+p*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Q_.copy(this).projectOnVector(e),this.sub(Q_)}reflect(e){return this.sub(Q_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(di(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}ce.prototype.isVector3=!0;const Q_=new ce,TT=new yi;class Zs{constructor(e=new ce(1/0,1/0,1/0),t=new ce(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],h=e[l+1],p=e[l+2];c<t&&(t=c),h<r&&(r=h),p<i&&(i=p),c>s&&(s=c),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),h=e.getY(l),p=e.getZ(l);c<t&&(t=c),h<r&&(r=h),p<i&&(i=p),c>s&&(s=c),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ph.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Ph.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ph)}else r.boundingBox===null&&r.computeBoundingBox(),Z_.copy(r.boundingBox),Z_.applyMatrix4(e.matrixWorld),this.union(Z_);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ph),Ph.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(u0),Xv.subVectors(this.max,u0),dp.subVectors(e.a,u0),pp.subVectors(e.b,u0),mp.subVectors(e.c,u0),lf.subVectors(pp,dp),uf.subVectors(mp,pp),Bh.subVectors(dp,mp);let t=[0,-lf.z,lf.y,0,-uf.z,uf.y,0,-Bh.z,Bh.y,lf.z,0,-lf.x,uf.z,0,-uf.x,Bh.z,0,-Bh.x,-lf.y,lf.x,0,-uf.y,uf.x,0,-Bh.y,Bh.x,0];return!eb(t,dp,pp,mp,Xv)||(t=[1,0,0,0,1,0,0,0,1],!eb(t,dp,pp,mp,Xv))?!1:($v.crossVectors(lf,uf),t=[$v.x,$v.y,$v.z],eb(t,dp,pp,mp,Xv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ph.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ph).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(qu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),qu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),qu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),qu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),qu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),qu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),qu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),qu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(qu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Zs.prototype.isBox3=!0;const qu=[new ce,new ce,new ce,new ce,new ce,new ce,new ce,new ce],Ph=new ce,Z_=new Zs,dp=new ce,pp=new ce,mp=new ce,lf=new ce,uf=new ce,Bh=new ce,u0=new ce,Xv=new ce,$v=new ce,kh=new ce;function eb(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){kh.fromArray(n,s);const a=i.x*Math.abs(kh.x)+i.y*Math.abs(kh.y)+i.z*Math.abs(kh.z),l=e.dot(kh),u=t.dot(kh),c=r.dot(kh);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const eV=new Zs,LT=new ce,Kv=new ce,tb=new ce;class Lc{constructor(e=new ce,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):eV.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){tb.subVectors(e,this.center);const t=tb.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(tb.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?Kv.set(0,0,1).multiplyScalar(e.radius):Kv.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(LT.copy(e.center).add(Kv)),this.expandByPoint(LT.copy(e.center).sub(Kv)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Yu=new ce,nb=new ce,Qv=new ce,cf=new ce,rb=new ce,Zv=new ce,ib=new ce;class lh{constructor(e=new ce,t=new ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Yu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Yu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Yu.copy(this.direction).multiplyScalar(t).add(this.origin),Yu.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){nb.copy(e).add(t).multiplyScalar(.5),Qv.copy(t).sub(e).normalize(),cf.copy(this.origin).sub(nb);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Qv),a=cf.dot(this.direction),l=-cf.dot(Qv),u=cf.lengthSq(),c=Math.abs(1-o*o);let h,p,m,y;if(c>0)if(h=o*l-a,p=o*a-l,y=s*c,h>=0)if(p>=-y)if(p<=y){const g=1/c;h*=g,p*=g,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+u}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(Qv).multiplyScalar(p).add(nb),m}intersectSphere(e,t){Yu.subVectors(e.center,this.origin);const r=Yu.dot(this.direction),i=Yu.dot(Yu)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(s=(e.min.y-p.y)*c,o=(e.max.y-p.y)*c):(s=(e.max.y-p.y)*c,o=(e.min.y-p.y)*c),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Yu)!==null}intersectTriangle(e,t,r,i,s){rb.subVectors(t,e),Zv.subVectors(r,e),ib.crossVectors(rb,Zv);let o=this.direction.dot(ib),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;cf.subVectors(this.origin,e);const l=a*this.direction.dot(Zv.crossVectors(cf,Zv));if(l<0)return null;const u=a*this.direction.dot(rb.cross(cf));if(u<0||l+u>o)return null;const c=-a*cf.dot(ib);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ot{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,l,u,c,h,p,m,y,g,x){const w=this.elements;return w[0]=e,w[4]=t,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=u,w[6]=c,w[10]=h,w[14]=p,w[3]=m,w[7]=y,w[11]=g,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ot().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/gp.setFromMatrixColumn(e,0).length(),s=1/gp.setFromMatrixColumn(e,1).length(),o=1/gp.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*c,m=o*h,y=a*c,g=a*h;t[0]=l*c,t[4]=-l*h,t[8]=u,t[1]=m+y*u,t[5]=p-g*u,t[9]=-a*l,t[2]=g-p*u,t[6]=y+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*c,m=l*h,y=u*c,g=u*h;t[0]=p+g*a,t[4]=y*a-m,t[8]=o*u,t[1]=o*h,t[5]=o*c,t[9]=-a,t[2]=m*a-y,t[6]=g+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*c,m=l*h,y=u*c,g=u*h;t[0]=p-g*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*c,t[9]=g-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*c,m=o*h,y=a*c,g=a*h;t[0]=l*c,t[4]=y*u-m,t[8]=p*u+g,t[1]=l*h,t[5]=g*u+p,t[9]=m*u-y,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,y=a*l,g=a*u;t[0]=l*c,t[4]=g-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=m*h+y,t[10]=p-g*h}else if(e.order==="XZY"){const p=o*l,m=o*u,y=a*l,g=a*u;t[0]=l*c,t[4]=-h,t[8]=u*c,t[1]=p*h+g,t[5]=o*c,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*c,t[10]=g*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(tV,e,nV)}lookAt(e,t,r){const i=this.elements;return Qo.subVectors(e,t),Qo.lengthSq()===0&&(Qo.z=1),Qo.normalize(),ff.crossVectors(r,Qo),ff.lengthSq()===0&&(Math.abs(r.z)===1?Qo.x+=1e-4:Qo.z+=1e-4,Qo.normalize(),ff.crossVectors(r,Qo)),ff.normalize(),ey.crossVectors(Qo,ff),i[0]=ff.x,i[4]=ey.x,i[8]=Qo.x,i[1]=ff.y,i[5]=ey.y,i[9]=Qo.y,i[2]=ff.z,i[6]=ey.z,i[10]=Qo.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],h=r[5],p=r[9],m=r[13],y=r[2],g=r[6],x=r[10],w=r[14],_=r[3],A=r[7],C=r[11],T=r[15],D=i[0],I=i[4],B=i[8],W=i[12],G=i[1],L=i[5],P=i[9],q=i[13],z=i[2],ne=i[6],re=i[10],le=i[14],F=i[3],X=i[7],ie=i[11],ve=i[15];return s[0]=o*D+a*G+l*z+u*F,s[4]=o*I+a*L+l*ne+u*X,s[8]=o*B+a*P+l*re+u*ie,s[12]=o*W+a*q+l*le+u*ve,s[1]=c*D+h*G+p*z+m*F,s[5]=c*I+h*L+p*ne+m*X,s[9]=c*B+h*P+p*re+m*ie,s[13]=c*W+h*q+p*le+m*ve,s[2]=y*D+g*G+x*z+w*F,s[6]=y*I+g*L+x*ne+w*X,s[10]=y*B+g*P+x*re+w*ie,s[14]=y*W+g*q+x*le+w*ve,s[3]=_*D+A*G+C*z+T*F,s[7]=_*I+A*L+C*ne+T*X,s[11]=_*B+A*P+C*re+T*ie,s[15]=_*W+A*q+C*le+T*ve,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],h=e[6],p=e[10],m=e[14],y=e[3],g=e[7],x=e[11],w=e[15];return y*(+s*l*h-i*u*h-s*a*p+r*u*p+i*a*m-r*l*m)+g*(+t*l*m-t*u*p+s*o*p-i*o*m+i*u*c-s*l*c)+x*(+t*u*h-t*a*m-s*o*h+r*o*m+s*a*c-r*u*c)+w*(-i*a*c-t*l*h+t*a*p+i*o*h-r*o*p+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],m=e[11],y=e[12],g=e[13],x=e[14],w=e[15],_=h*x*u-g*p*u+g*l*m-a*x*m-h*l*w+a*p*w,A=y*p*u-c*x*u-y*l*m+o*x*m+c*l*w-o*p*w,C=c*g*u-y*h*u+y*a*m-o*g*m-c*a*w+o*h*w,T=y*h*l-c*g*l-y*a*p+o*g*p+c*a*x-o*h*x,D=t*_+r*A+i*C+s*T;if(D===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/D;return e[0]=_*I,e[1]=(g*p*s-h*x*s-g*i*m+r*x*m+h*i*w-r*p*w)*I,e[2]=(a*x*s-g*l*s+g*i*u-r*x*u-a*i*w+r*l*w)*I,e[3]=(h*l*s-a*p*s-h*i*u+r*p*u+a*i*m-r*l*m)*I,e[4]=A*I,e[5]=(c*x*s-y*p*s+y*i*m-t*x*m-c*i*w+t*p*w)*I,e[6]=(y*l*s-o*x*s-y*i*u+t*x*u+o*i*w-t*l*w)*I,e[7]=(o*p*s-c*l*s+c*i*u-t*p*u-o*i*m+t*l*m)*I,e[8]=C*I,e[9]=(y*h*s-c*g*s-y*r*m+t*g*m+c*r*w-t*h*w)*I,e[10]=(o*g*s-y*a*s+y*r*u-t*g*u-o*r*w+t*a*w)*I,e[11]=(c*a*s-o*h*s-c*r*u+t*h*u+o*r*m-t*a*m)*I,e[12]=T*I,e[13]=(c*g*i-y*h*i+y*r*p-t*g*p-c*r*x+t*h*x)*I,e[14]=(y*a*i-o*g*i-y*r*l+t*g*l+o*r*x-t*a*x)*I,e[15]=(o*h*i-c*a*i+c*r*l-t*h*l-o*r*p+t*a*p)*I,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,c=o+o,h=a+a,p=s*u,m=s*c,y=s*h,g=o*c,x=o*h,w=a*h,_=l*u,A=l*c,C=l*h,T=r.x,D=r.y,I=r.z;return i[0]=(1-(g+w))*T,i[1]=(m+C)*T,i[2]=(y-A)*T,i[3]=0,i[4]=(m-C)*D,i[5]=(1-(p+w))*D,i[6]=(x+_)*D,i[7]=0,i[8]=(y+A)*I,i[9]=(x-_)*I,i[10]=(1-(p+g))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=gp.set(i[0],i[1],i[2]).length();const o=gp.set(i[4],i[5],i[6]).length(),a=gp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],yl.copy(this);const u=1/s,c=1/o,h=1/a;return yl.elements[0]*=u,yl.elements[1]*=u,yl.elements[2]*=u,yl.elements[4]*=c,yl.elements[5]*=c,yl.elements[6]*=c,yl.elements[8]*=h,yl.elements[9]*=h,yl.elements[10]*=h,t.setFromRotationMatrix(yl),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(t-e),u=2*s/(r-i),c=(t+e)/(t-e),h=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),u=1/(r-i),c=1/(o-s),h=(t+e)*l,p=(r+i)*u,m=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Ot.prototype.isMatrix4=!0;const gp=new ce,yl=new Ot,tV=new ce(0,0,0),nV=new ce(1,1,1),ff=new ce,ey=new ce,Qo=new ce,RT=new Ot,PT=new yi;class Rc{constructor(e=0,t=0,r=0,i=Rc.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],h=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(di(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-di(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(di(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-di(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(di(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-di(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return RT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(RT,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return PT.setFromEuler(this),this.setFromQuaternion(PT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Rc.prototype.isEuler=!0;Rc.DefaultOrder="XYZ";Rc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class dd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let rV=0;const BT=new ce,vp=new yi,Ju=new Ot,ty=new ce,c0=new ce,iV=new ce,sV=new yi,kT=new ce(1,0,0),IT=new ce(0,1,0),NT=new ce(0,0,1),oV={type:"added"},DT={type:"removed"};class Mn extends Tc{constructor(){super(),Object.defineProperty(this,"id",{value:rV++}),this.uuid=oa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mn.DefaultUp.clone();const e=new ce,t=new Rc,r=new yi,i=new ce(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ot},normalMatrix:{value:new ji}}),this.matrix=new Ot,this.matrixWorld=new Ot,this.matrixAutoUpdate=Mn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new dd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return vp.setFromAxisAngle(e,t),this.quaternion.multiply(vp),this}rotateOnWorldAxis(e,t){return vp.setFromAxisAngle(e,t),this.quaternion.premultiply(vp),this}rotateX(e){return this.rotateOnAxis(kT,e)}rotateY(e){return this.rotateOnAxis(IT,e)}rotateZ(e){return this.rotateOnAxis(NT,e)}translateOnAxis(e,t){return BT.copy(e).applyQuaternion(this.quaternion),this.position.add(BT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(kT,e)}translateY(e){return this.translateOnAxis(IT,e)}translateZ(e){return this.translateOnAxis(NT,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Ju.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?ty.copy(e):ty.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),c0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ju.lookAt(c0,ty,this.up):Ju.lookAt(ty,c0,this.up),this.quaternion.setFromRotationMatrix(Ju),i&&(Ju.extractRotation(i.matrixWorld),vp.setFromRotationMatrix(Ju),this.quaternion.premultiply(vp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(oV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(DT)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(DT)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ju.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ju.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ju),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(c0,e,iV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(c0,sV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Mn.DefaultUp=new ce(0,1,0);Mn.DefaultMatrixAutoUpdate=!0;Mn.prototype.isObject3D=!0;const xl=new ce,Xu=new ce,sb=new ce,$u=new ce,yp=new ce,xp=new ce,FT=new ce,ob=new ce,ab=new ce,lb=new ce;class vi{constructor(e=new ce,t=new ce,r=new ce){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),xl.subVectors(e,t),i.cross(xl);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){xl.subVectors(i,t),Xu.subVectors(r,t),sb.subVectors(e,t);const o=xl.dot(xl),a=xl.dot(Xu),l=xl.dot(sb),u=Xu.dot(Xu),c=Xu.dot(sb),h=o*u-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(u*l-a*c)*p,y=(o*c-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,$u),$u.x>=0&&$u.y>=0&&$u.x+$u.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,$u),l.set(0,0),l.addScaledVector(s,$u.x),l.addScaledVector(o,$u.y),l.addScaledVector(a,$u.z),l}static isFrontFacing(e,t,r,i){return xl.subVectors(r,t),Xu.subVectors(e,t),xl.cross(Xu).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return xl.subVectors(this.c,this.b),Xu.subVectors(this.a,this.b),xl.cross(Xu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return vi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return vi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return vi.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return vi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return vi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;yp.subVectors(i,r),xp.subVectors(s,r),ob.subVectors(e,r);const l=yp.dot(ob),u=xp.dot(ob);if(l<=0&&u<=0)return t.copy(r);ab.subVectors(e,i);const c=yp.dot(ab),h=xp.dot(ab);if(c>=0&&h<=c)return t.copy(i);const p=l*h-c*u;if(p<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(r).addScaledVector(yp,o);lb.subVectors(e,s);const m=yp.dot(lb),y=xp.dot(lb);if(y>=0&&m<=y)return t.copy(s);const g=m*u-l*y;if(g<=0&&u>=0&&y<=0)return a=u/(u-y),t.copy(r).addScaledVector(xp,a);const x=c*y-m*h;if(x<=0&&h-c>=0&&m-y>=0)return FT.subVectors(s,i),a=(h-c)/(h-c+(m-y)),t.copy(i).addScaledVector(FT,a);const w=1/(x+g+p);return o=g*w,a=p*w,t.copy(r).addScaledVector(yp,o).addScaledVector(xp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let aV=0;class Or extends Tc{constructor(){super(),Object.defineProperty(this,"id",{value:aV++}),this.uuid=oa(),this.name="",this.type="Material",this.fog=!0,this.blending=ud,this.side=Yf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=y3,this.blendDst=x3,this.blendEquation=Yh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=l2,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=fN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=xx,this.stencilZFail=xx,this.stencilZPass=xx,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===v3;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ud&&(r.blending=this.blending),this.side!==Yf&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Or.prototype.isMaterial=!0;Or.fromType=function(){return null};class Io extends Or{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Y1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Io.prototype.isMeshBasicMaterial=!0;const Ai=new ce,ny=new nt;class Ln{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=Nm,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Mt),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new nt),t[r++]=o.x,t[r++]=o.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new ce),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new or),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)ny.fromBufferAttribute(this,t),ny.applyMatrix3(e),this.setXY(t,ny.x,ny.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ai.fromBufferAttribute(this,t),Ai.applyMatrix3(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ai.fromBufferAttribute(this,t),Ai.applyMatrix4(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ai.fromBufferAttribute(this,t),Ai.applyNormalMatrix(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ai.fromBufferAttribute(this,t),Ai.transformDirection(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Nm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Ln.prototype.isBufferAttribute=!0;class yN extends Ln{constructor(e,t,r){super(new Int8Array(e),t,r)}}class xN extends Ln{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class wN extends Ln{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class _N extends Ln{constructor(e,t,r){super(new Int16Array(e),t,r)}}class Tw extends Ln{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class bN extends Ln{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Lw extends Ln{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class SN extends Ln{constructor(e,t,r){super(new Uint16Array(e),t,r)}}SN.prototype.isFloat16BufferAttribute=!0;class jt extends Ln{constructor(e,t,r){super(new Float32Array(e),t,r)}}class AN extends Ln{constructor(e,t,r){super(new Float64Array(e),t,r)}}let lV=0;const Fa=new Ot,ub=new Mn,wp=new ce,Zo=new Zs,f0=new Zs,os=new ce;class nn extends Tc{constructor(){super(),Object.defineProperty(this,"id",{value:lV++}),this.uuid=oa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(dN(e)?Lw:Tw)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new ji().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Fa.makeRotationFromQuaternion(e),this.applyMatrix4(Fa),this}rotateX(e){return Fa.makeRotationX(e),this.applyMatrix4(Fa),this}rotateY(e){return Fa.makeRotationY(e),this.applyMatrix4(Fa),this}rotateZ(e){return Fa.makeRotationZ(e),this.applyMatrix4(Fa),this}translate(e,t,r){return Fa.makeTranslation(e,t,r),this.applyMatrix4(Fa),this}scale(e,t,r){return Fa.makeScale(e,t,r),this.applyMatrix4(Fa),this}lookAt(e){return ub.lookAt(e),ub.updateMatrix(),this.applyMatrix4(ub.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(wp).negate(),this.translate(wp.x,wp.y,wp.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new jt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Zs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ce(-1/0,-1/0,-1/0),new ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Zo.setFromBufferAttribute(s),this.morphTargetsRelative?(os.addVectors(this.boundingBox.min,Zo.min),this.boundingBox.expandByPoint(os),os.addVectors(this.boundingBox.max,Zo.max),this.boundingBox.expandByPoint(os)):(this.boundingBox.expandByPoint(Zo.min),this.boundingBox.expandByPoint(Zo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Lc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ce,1/0);return}if(e){const r=this.boundingSphere.center;if(Zo.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];f0.setFromBufferAttribute(a),this.morphTargetsRelative?(os.addVectors(Zo.min,f0.min),Zo.expandByPoint(os),os.addVectors(Zo.max,f0.max),Zo.expandByPoint(os)):(Zo.expandByPoint(f0.min),Zo.expandByPoint(f0.max))}Zo.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)os.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(os));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)os.fromBufferAttribute(a,u),l&&(wp.fromBufferAttribute(e,u),os.add(wp)),i=Math.max(i,r.distanceToSquared(os))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ln(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let G=0;G<a;G++)u[G]=new ce,c[G]=new ce;const h=new ce,p=new ce,m=new ce,y=new nt,g=new nt,x=new nt,w=new ce,_=new ce;function A(G,L,P){h.fromArray(i,G*3),p.fromArray(i,L*3),m.fromArray(i,P*3),y.fromArray(o,G*2),g.fromArray(o,L*2),x.fromArray(o,P*2),p.sub(h),m.sub(h),g.sub(y),x.sub(y);const q=1/(g.x*x.y-x.x*g.y);!isFinite(q)||(w.copy(p).multiplyScalar(x.y).addScaledVector(m,-g.y).multiplyScalar(q),_.copy(m).multiplyScalar(g.x).addScaledVector(p,-x.x).multiplyScalar(q),u[G].add(w),u[L].add(w),u[P].add(w),c[G].add(_),c[L].add(_),c[P].add(_))}let C=this.groups;C.length===0&&(C=[{start:0,count:r.length}]);for(let G=0,L=C.length;G<L;++G){const P=C[G],q=P.start,z=P.count;for(let ne=q,re=q+z;ne<re;ne+=3)A(r[ne+0],r[ne+1],r[ne+2])}const T=new ce,D=new ce,I=new ce,B=new ce;function W(G){I.fromArray(s,G*3),B.copy(I);const L=u[G];T.copy(L),T.sub(I.multiplyScalar(I.dot(L))).normalize(),D.crossVectors(B,L);const q=D.dot(c[G])<0?-1:1;l[G*4]=T.x,l[G*4+1]=T.y,l[G*4+2]=T.z,l[G*4+3]=q}for(let G=0,L=C.length;G<L;++G){const P=C[G],q=P.start,z=P.count;for(let ne=q,re=q+z;ne<re;ne+=3)W(r[ne+0]),W(r[ne+1]),W(r[ne+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ln(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new ce,s=new ce,o=new ce,a=new ce,l=new ce,u=new ce,c=new ce,h=new ce;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),g=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(t,y),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,x),c.subVectors(o,s),h.subVectors(i,s),c.cross(h),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,g),u.fromBufferAttribute(r,x),a.add(c),l.add(c),u.add(c),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),c.subVectors(o,s),h.subVectors(i,s),c.cross(h),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const o=r[i].array,a=e.attributes[i],l=a.array,u=a.itemSize*t,c=Math.min(l.length,o.length-u);for(let h=0,p=u;h<c;h++,p++)o[p]=l[h]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)os.fromBufferAttribute(e,t),os.normalize(),e.setXYZ(t,os.x,os.y,os.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,h=a.normalized,p=new u.constructor(l.length*c);let m=0,y=0;for(let g=0,x=l.length;g<x;g++){a.isInterleavedBufferAttribute?m=l[g]*a.data.stride+a.offset:m=l[g]*c;for(let w=0;w<c;w++)p[y++]=u[m++]}return new Ln(p,c,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new nn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,h=u.length;c<h;c++){const p=u[c],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let h=0,p=u.length;h<p;h++){const m=u[h];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const s=e.morphAttributes;for(const u in s){const c=[],h=s[u];for(let p=0,m=h.length;p<m;p++)c.push(h[p].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}nn.prototype.isBufferGeometry=!0;const OT=new Ot,_p=new lh,cb=new Lc,hf=new ce,df=new ce,pf=new ce,fb=new ce,hb=new ce,db=new ce,ry=new ce,iy=new ce,sy=new ce,oy=new nt,ay=new nt,ly=new nt,pb=new ce,uy=new ce;class si extends Mn{constructor(e=new nn,t=new Io){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),cb.copy(r.boundingSphere),cb.applyMatrix4(s),e.ray.intersectsSphere(cb)===!1)||(OT.copy(s).invert(),_p.copy(e.ray).applyMatrix4(OT),r.boundingBox!==null&&_p.intersectsBox(r.boundingBox)===!1))return;let o;if(r.isBufferGeometry){const a=r.index,l=r.attributes.position,u=r.morphAttributes.position,c=r.morphTargetsRelative,h=r.attributes.uv,p=r.attributes.uv2,m=r.groups,y=r.drawRange;if(a!==null)if(Array.isArray(i))for(let g=0,x=m.length;g<x;g++){const w=m[g],_=i[w.materialIndex],A=Math.max(w.start,y.start),C=Math.min(a.count,Math.min(w.start+w.count,y.start+y.count));for(let T=A,D=C;T<D;T+=3){const I=a.getX(T),B=a.getX(T+1),W=a.getX(T+2);o=cy(this,_,e,_p,l,u,c,h,p,I,B,W),o&&(o.faceIndex=Math.floor(T/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const g=Math.max(0,y.start),x=Math.min(a.count,y.start+y.count);for(let w=g,_=x;w<_;w+=3){const A=a.getX(w),C=a.getX(w+1),T=a.getX(w+2);o=cy(this,i,e,_p,l,u,c,h,p,A,C,T),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let g=0,x=m.length;g<x;g++){const w=m[g],_=i[w.materialIndex],A=Math.max(w.start,y.start),C=Math.min(l.count,Math.min(w.start+w.count,y.start+y.count));for(let T=A,D=C;T<D;T+=3){const I=T,B=T+1,W=T+2;o=cy(this,_,e,_p,l,u,c,h,p,I,B,W),o&&(o.faceIndex=Math.floor(T/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const g=Math.max(0,y.start),x=Math.min(l.count,y.start+y.count);for(let w=g,_=x;w<_;w+=3){const A=w,C=w+1,T=w+2;o=cy(this,i,e,_p,l,u,c,h,p,A,C,T),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}si.prototype.isMesh=!0;function uV(n,e,t,r,i,s,o,a){let l;if(e.side===Oo?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==Jf,a),l===null)return null;uy.copy(a),uy.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(uy);return u<t.near||u>t.far?null:{distance:u,point:uy.clone(),object:n}}function cy(n,e,t,r,i,s,o,a,l,u,c,h){hf.fromBufferAttribute(i,u),df.fromBufferAttribute(i,c),pf.fromBufferAttribute(i,h);const p=n.morphTargetInfluences;if(s&&p){ry.set(0,0,0),iy.set(0,0,0),sy.set(0,0,0);for(let y=0,g=s.length;y<g;y++){const x=p[y],w=s[y];x!==0&&(fb.fromBufferAttribute(w,u),hb.fromBufferAttribute(w,c),db.fromBufferAttribute(w,h),o?(ry.addScaledVector(fb,x),iy.addScaledVector(hb,x),sy.addScaledVector(db,x)):(ry.addScaledVector(fb.sub(hf),x),iy.addScaledVector(hb.sub(df),x),sy.addScaledVector(db.sub(pf),x)))}hf.add(ry),df.add(iy),pf.add(sy)}n.isSkinnedMesh&&(n.boneTransform(u,hf),n.boneTransform(c,df),n.boneTransform(h,pf));const m=uV(n,e,t,r,hf,df,pf,pb);if(m){a&&(oy.fromBufferAttribute(a,u),ay.fromBufferAttribute(a,c),ly.fromBufferAttribute(a,h),m.uv=vi.getUV(pb,hf,df,pf,oy,ay,ly,new nt)),l&&(oy.fromBufferAttribute(l,u),ay.fromBufferAttribute(l,c),ly.fromBufferAttribute(l,h),m.uv2=vi.getUV(pb,hf,df,pf,oy,ay,ly,new nt));const y={a:u,b:c,c:h,normal:new ce,materialIndex:0};vi.getNormal(hf,df,pf,y.normal),m.face=y}return m}class xu extends nn{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,r,t,e,o,s,0),y("z","y","x",1,-1,r,t,-e,o,s,1),y("x","z","y",1,1,e,r,t,i,o,2),y("x","z","y",1,-1,e,r,-t,i,o,3),y("x","y","z",1,-1,e,t,r,i,s,4),y("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new jt(u,3)),this.setAttribute("normal",new jt(c,3)),this.setAttribute("uv",new jt(h,2));function y(g,x,w,_,A,C,T,D,I,B,W){const G=C/I,L=T/B,P=C/2,q=T/2,z=D/2,ne=I+1,re=B+1;let le=0,F=0;const X=new ce;for(let ie=0;ie<re;ie++){const ve=ie*L-q;for(let N=0;N<ne;N++){const V=N*G-P;X[g]=V*_,X[x]=ve*A,X[w]=z,u.push(X.x,X.y,X.z),X[g]=0,X[x]=0,X[w]=D>0?1:-1,c.push(X.x,X.y,X.z),h.push(N/I),h.push(1-ie/B),le+=1}}for(let ie=0;ie<B;ie++)for(let ve=0;ve<I;ve++){const N=p+ve+ne*ie,V=p+ve+ne*(ie+1),Q=p+(ve+1)+ne*(ie+1),ue=p+(ve+1)+ne*ie;l.push(N,V,ue),l.push(V,Q,ue),F+=6}a.addGroup(m,F,W),m+=F,p+=le}}static fromJSON(e){return new xu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Dm(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Vs(n){const e={};for(let t=0;t<n.length;t++){const r=Dm(n[t]);for(const i in r)e[i]=r[i]}return e}const MN={clone:Dm,merge:Vs};var cV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class $a extends Or{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=cV,this.fragmentShader=fV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Dm(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}$a.prototype.isShaderMaterial=!0;class hg extends Mn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Ot,this.projectionMatrix=new Ot,this.projectionMatrixInverse=new Ot}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}hg.prototype.isCamera=!0;class mr extends hg{constructor(e=50,t=1,r=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=S1*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(fd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return S1*2*Math.atan(Math.tan(fd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(fd*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}mr.prototype.isPerspectiveCamera=!0;const bp=90,Sp=1;class Rw extends Mn{constructor(e,t,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new mr(bp,Sp,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new ce(1,0,0)),this.add(i);const s=new mr(bp,Sp,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ce(-1,0,0)),this.add(s);const o=new mr(bp,Sp,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new ce(0,1,0)),this.add(o);const a=new mr(bp,Sp,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new ce(0,-1,0)),this.add(a);const l=new mr(bp,Sp,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ce(0,0,1)),this.add(l);const u=new mr(bp,Sp,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new ce(0,0,-1)),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),h=e.outputEncoding,p=e.toneMapping,m=e.xr.enabled;e.outputEncoding=ua,e.toneMapping=Il,e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=y,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.outputEncoding=h,e.toneMapping=p,e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class dg extends Qr{constructor(e,t,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:_c,super(e,t,r,i,s,o,a,l,u,c),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}dg.prototype.isCubeTexture=!0;class X1 extends mo{constructor(e,t={}){super(e,e,t);const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new dg(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:_r}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new xu(5,5,5),s=new $a({name:"CubemapFromEquirect",uniforms:Dm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Oo,blending:pc});s.uniforms.tEquirect.value=t;const o=new si(i,s),a=t.minFilter;return t.minFilter===Cc&&(t.minFilter=_r),new Rw(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}X1.prototype.isWebGLCubeRenderTarget=!0;const mb=new ce,hV=new ce,dV=new ji;class au{constructor(e=new ce(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=mb.subVectors(r,t).cross(hV.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(mb),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||dV.getNormalMatrix(e),i=this.coplanarPoint(mb).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}au.prototype.isPlane=!0;const Ap=new Lc,fy=new ce;class $1{constructor(e=new au,t=new au,r=new au,i=new au,s=new au,o=new au){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],h=r[7],p=r[8],m=r[9],y=r[10],g=r[11],x=r[12],w=r[13],_=r[14],A=r[15];return t[0].setComponents(a-i,h-l,g-p,A-x).normalize(),t[1].setComponents(a+i,h+l,g+p,A+x).normalize(),t[2].setComponents(a+s,h+u,g+m,A+w).normalize(),t[3].setComponents(a-s,h-u,g-m,A-w).normalize(),t[4].setComponents(a-o,h-c,g-y,A-_).normalize(),t[5].setComponents(a+o,h+c,g+y,A+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ap.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ap)}intersectsSprite(e){return Ap.center.set(0,0,0),Ap.radius=.7071067811865476,Ap.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ap)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(fy.x=i.normal.x>0?e.max.x:e.min.x,fy.y=i.normal.y>0?e.max.y:e.min.y,fy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(fy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function EN(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function pV(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,c){const h=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(c,m),n.bufferData(c,h,p),u.onUploadCallback();let y;if(h instanceof Float32Array)y=5126;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(h instanceof Int16Array)y=5122;else if(h instanceof Uint32Array)y=5125;else if(h instanceof Int32Array)y=5124;else if(h instanceof Int8Array)y=5120;else if(h instanceof Uint8Array)y=5121;else if(h instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,h){const p=c.array,m=c.updateRange;n.bindBuffer(h,u),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1)}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(n.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,c)):h.version<u.version&&(s(h.buffer,u,c),h.version=u.version)}return{get:o,remove:a,update:l}}class Sd extends nn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,h=e/a,p=t/l,m=[],y=[],g=[],x=[];for(let w=0;w<c;w++){const _=w*p-o;for(let A=0;A<u;A++){const C=A*h-s;y.push(C,-_,0),g.push(0,0,1),x.push(A/a),x.push(1-w/l)}}for(let w=0;w<l;w++)for(let _=0;_<a;_++){const A=_+u*w,C=_+u*(w+1),T=_+1+u*(w+1),D=_+1+u*w;m.push(A,C,D),m.push(C,T,D)}this.setIndex(m),this.setAttribute("position",new jt(y,3)),this.setAttribute("normal",new jt(g,3)),this.setAttribute("uv",new jt(x,2))}static fromJSON(e){return new Sd(e.width,e.height,e.widthSegments,e.heightSegments)}}var mV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,gV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vV=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,yV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,xV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,wV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,_V="vec3 transformed = vec3( position );",bV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,SV=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,AV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,MV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,EV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,CV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,TV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,LV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,RV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,PV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,BV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,kV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,IV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,NV=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,DV=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,FV=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,OV=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,UV=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,zV="gl_FragColor = linearToOutputTexel( gl_FragColor );",HV=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,GV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,jV=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,WV=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,VV=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,qV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,YV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,JV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,XV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$V=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,KV=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,QV=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,ZV=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,eq=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,tq=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,nq=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,rq=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,iq=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,sq=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,oq=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,aq=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lq=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,uq=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,cq=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,fq=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,hq=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dq=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,pq=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,mq=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,gq=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,vq=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,yq=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,xq=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wq=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_q=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bq=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Sq=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Aq=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Mq=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Eq=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Cq=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Tq=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Lq=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Rq=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Pq=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Bq=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,kq=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Iq=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Nq=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Dq=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Fq=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Oq=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Uq=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,zq=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Hq=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Gq=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,jq=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Wq=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Vq=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,qq=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Yq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Jq=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Xq=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$q=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Kq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Qq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Zq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eY=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tY=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,nY=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,rY=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,iY=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,sY=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,oY=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,aY=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,lY=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,uY=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const cY=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fY=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,hY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dY=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pY=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,mY=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,gY=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,vY=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,yY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,xY=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wY=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_Y=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bY=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,SY=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AY=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MY=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EY=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,CY=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TY=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,LY=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,RY=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PY=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BY=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,kY=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IY=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NY=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DY=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,FY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,OY=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,UY=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,zY=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,HY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Cn={alphamap_fragment:mV,alphamap_pars_fragment:gV,alphatest_fragment:vV,alphatest_pars_fragment:yV,aomap_fragment:xV,aomap_pars_fragment:wV,begin_vertex:_V,beginnormal_vertex:bV,bsdfs:SV,bumpmap_pars_fragment:AV,clipping_planes_fragment:MV,clipping_planes_pars_fragment:EV,clipping_planes_pars_vertex:CV,clipping_planes_vertex:TV,color_fragment:LV,color_pars_fragment:RV,color_pars_vertex:PV,color_vertex:BV,common:kV,cube_uv_reflection_fragment:IV,defaultnormal_vertex:NV,displacementmap_pars_vertex:DV,displacementmap_vertex:FV,emissivemap_fragment:OV,emissivemap_pars_fragment:UV,encodings_fragment:zV,encodings_pars_fragment:HV,envmap_fragment:GV,envmap_common_pars_fragment:jV,envmap_pars_fragment:WV,envmap_pars_vertex:VV,envmap_physical_pars_fragment:nq,envmap_vertex:qV,fog_vertex:YV,fog_pars_vertex:JV,fog_fragment:XV,fog_pars_fragment:$V,gradientmap_pars_fragment:KV,lightmap_fragment:QV,lightmap_pars_fragment:ZV,lights_lambert_vertex:eq,lights_pars_begin:tq,lights_toon_fragment:rq,lights_toon_pars_fragment:iq,lights_phong_fragment:sq,lights_phong_pars_fragment:oq,lights_physical_fragment:aq,lights_physical_pars_fragment:lq,lights_fragment_begin:uq,lights_fragment_maps:cq,lights_fragment_end:fq,logdepthbuf_fragment:hq,logdepthbuf_pars_fragment:dq,logdepthbuf_pars_vertex:pq,logdepthbuf_vertex:mq,map_fragment:gq,map_pars_fragment:vq,map_particle_fragment:yq,map_particle_pars_fragment:xq,metalnessmap_fragment:wq,metalnessmap_pars_fragment:_q,morphcolor_vertex:bq,morphnormal_vertex:Sq,morphtarget_pars_vertex:Aq,morphtarget_vertex:Mq,normal_fragment_begin:Eq,normal_fragment_maps:Cq,normal_pars_fragment:Tq,normal_pars_vertex:Lq,normal_vertex:Rq,normalmap_pars_fragment:Pq,clearcoat_normal_fragment_begin:Bq,clearcoat_normal_fragment_maps:kq,clearcoat_pars_fragment:Iq,output_fragment:Nq,packing:Dq,premultiplied_alpha_fragment:Fq,project_vertex:Oq,dithering_fragment:Uq,dithering_pars_fragment:zq,roughnessmap_fragment:Hq,roughnessmap_pars_fragment:Gq,shadowmap_pars_fragment:jq,shadowmap_pars_vertex:Wq,shadowmap_vertex:Vq,shadowmask_pars_fragment:qq,skinbase_vertex:Yq,skinning_pars_vertex:Jq,skinning_vertex:Xq,skinnormal_vertex:$q,specularmap_fragment:Kq,specularmap_pars_fragment:Qq,tonemapping_fragment:Zq,tonemapping_pars_fragment:eY,transmission_fragment:tY,transmission_pars_fragment:nY,uv_pars_fragment:rY,uv_pars_vertex:iY,uv_vertex:sY,uv2_pars_fragment:oY,uv2_pars_vertex:aY,uv2_vertex:lY,worldpos_vertex:uY,background_vert:cY,background_frag:fY,cube_vert:hY,cube_frag:dY,depth_vert:pY,depth_frag:mY,distanceRGBA_vert:gY,distanceRGBA_frag:vY,equirect_vert:yY,equirect_frag:xY,linedashed_vert:wY,linedashed_frag:_Y,meshbasic_vert:bY,meshbasic_frag:SY,meshlambert_vert:AY,meshlambert_frag:MY,meshmatcap_vert:EY,meshmatcap_frag:CY,meshnormal_vert:TY,meshnormal_frag:LY,meshphong_vert:RY,meshphong_frag:PY,meshphysical_vert:BY,meshphysical_frag:kY,meshtoon_vert:IY,meshtoon_frag:NY,points_vert:DY,points_frag:FY,shadow_vert:OY,shadow_frag:UY,sprite_vert:zY,sprite_frag:HY},Pt={common:{diffuse:{value:new Mt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ji},uv2Transform:{value:new ji},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new nt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ji}},sprite:{diffuse:{value:new Mt(16777215)},opacity:{value:1},center:{value:new nt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ji}}},Ll={basic:{uniforms:Vs([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.fog]),vertexShader:Cn.meshbasic_vert,fragmentShader:Cn.meshbasic_frag},lambert:{uniforms:Vs([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.fog,Pt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:Cn.meshlambert_vert,fragmentShader:Cn.meshlambert_frag},phong:{uniforms:Vs([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Mt(0)},specular:{value:new Mt(1118481)},shininess:{value:30}}]),vertexShader:Cn.meshphong_vert,fragmentShader:Cn.meshphong_frag},standard:{uniforms:Vs([Pt.common,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.roughnessmap,Pt.metalnessmap,Pt.fog,Pt.lights,{emissive:{value:new Mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag},toon:{uniforms:Vs([Pt.common,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.gradientmap,Pt.fog,Pt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:Cn.meshtoon_vert,fragmentShader:Cn.meshtoon_frag},matcap:{uniforms:Vs([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,{matcap:{value:null}}]),vertexShader:Cn.meshmatcap_vert,fragmentShader:Cn.meshmatcap_frag},points:{uniforms:Vs([Pt.points,Pt.fog]),vertexShader:Cn.points_vert,fragmentShader:Cn.points_frag},dashed:{uniforms:Vs([Pt.common,Pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Cn.linedashed_vert,fragmentShader:Cn.linedashed_frag},depth:{uniforms:Vs([Pt.common,Pt.displacementmap]),vertexShader:Cn.depth_vert,fragmentShader:Cn.depth_frag},normal:{uniforms:Vs([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,{opacity:{value:1}}]),vertexShader:Cn.meshnormal_vert,fragmentShader:Cn.meshnormal_frag},sprite:{uniforms:Vs([Pt.sprite,Pt.fog]),vertexShader:Cn.sprite_vert,fragmentShader:Cn.sprite_frag},background:{uniforms:{uvTransform:{value:new ji},t2D:{value:null}},vertexShader:Cn.background_vert,fragmentShader:Cn.background_frag},cube:{uniforms:Vs([Pt.envmap,{opacity:{value:1}}]),vertexShader:Cn.cube_vert,fragmentShader:Cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Cn.equirect_vert,fragmentShader:Cn.equirect_frag},distanceRGBA:{uniforms:Vs([Pt.common,Pt.displacementmap,{referencePosition:{value:new ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Cn.distanceRGBA_vert,fragmentShader:Cn.distanceRGBA_frag},shadow:{uniforms:Vs([Pt.lights,Pt.fog,{color:{value:new Mt(0)},opacity:{value:1}}]),vertexShader:Cn.shadow_vert,fragmentShader:Cn.shadow_frag}};Ll.physical={uniforms:Vs([Ll.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new nt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Mt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new nt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Mt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Mt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag};function GY(n,e,t,r,i,s){const o=new Mt(0);let a=i===!0?0:1,l,u,c=null,h=0,p=null;function m(g,x){let w=!1,_=x.isScene===!0?x.background:null;_&&_.isTexture&&(_=e.get(_));const A=n.xr,C=A.getSession&&A.getSession();C&&C.environmentBlendMode==="additive"&&(_=null),_===null?y(o,a):_&&_.isColor&&(y(_,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===cg)?(u===void 0&&(u=new si(new xu(1,1,1),new $a({name:"BackgroundCubeMaterial",uniforms:Dm(Ll.cube.uniforms),vertexShader:Ll.cube.vertexShader,fragmentShader:Ll.cube.fragmentShader,side:Oo,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,D,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,(c!==_||h!==_.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,c=_,h=_.version,p=n.toneMapping),g.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(l===void 0&&(l=new si(new Sd(2,2),new $a({name:"BackgroundMaterial",uniforms:Dm(Ll.background.uniforms),vertexShader:Ll.background.vertexShader,fragmentShader:Ll.background.fragmentShader,side:Yf,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=_,_.matrixAutoUpdate===!0&&_.updateMatrix(),l.material.uniforms.uvTransform.value.copy(_.matrix),(c!==_||h!==_.version||p!==n.toneMapping)&&(l.material.needsUpdate=!0,c=_,h=_.version,p=n.toneMapping),g.unshift(l,l.geometry,l.material,0,0,null))}function y(g,x){t.buffers.color.setClear(g.r,g.g,g.b,x,s)}return{getClearColor:function(){return o},setClearColor:function(g,x=1){o.set(g),a=x,y(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(g){a=g,y(o,a)},render:m}}function jY(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let u=l,c=!1;function h(z,ne,re,le,F){let X=!1;if(o){const ie=g(le,re,ne);u!==ie&&(u=ie,m(u.object)),X=w(le,F),X&&_(le,F)}else{const ie=ne.wireframe===!0;(u.geometry!==le.id||u.program!==re.id||u.wireframe!==ie)&&(u.geometry=le.id,u.program=re.id,u.wireframe=ie,X=!0)}z.isInstancedMesh===!0&&(X=!0),F!==null&&t.update(F,34963),(X||c)&&(c=!1,B(z,ne,re,le),F!==null&&n.bindBuffer(34963,t.get(F).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(z){return r.isWebGL2?n.bindVertexArray(z):s.bindVertexArrayOES(z)}function y(z){return r.isWebGL2?n.deleteVertexArray(z):s.deleteVertexArrayOES(z)}function g(z,ne,re){const le=re.wireframe===!0;let F=a[z.id];F===void 0&&(F={},a[z.id]=F);let X=F[ne.id];X===void 0&&(X={},F[ne.id]=X);let ie=X[le];return ie===void 0&&(ie=x(p()),X[le]=ie),ie}function x(z){const ne=[],re=[],le=[];for(let F=0;F<i;F++)ne[F]=0,re[F]=0,le[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ne,enabledAttributes:re,attributeDivisors:le,object:z,attributes:{},index:null}}function w(z,ne){const re=u.attributes,le=z.attributes;let F=0;for(const X in le){const ie=re[X],ve=le[X];if(ie===void 0||ie.attribute!==ve||ie.data!==ve.data)return!0;F++}return u.attributesNum!==F||u.index!==ne}function _(z,ne){const re={},le=z.attributes;let F=0;for(const X in le){const ie=le[X],ve={};ve.attribute=ie,ie.data&&(ve.data=ie.data),re[X]=ve,F++}u.attributes=re,u.attributesNum=F,u.index=ne}function A(){const z=u.newAttributes;for(let ne=0,re=z.length;ne<re;ne++)z[ne]=0}function C(z){T(z,0)}function T(z,ne){const re=u.newAttributes,le=u.enabledAttributes,F=u.attributeDivisors;re[z]=1,le[z]===0&&(n.enableVertexAttribArray(z),le[z]=1),F[z]!==ne&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,ne),F[z]=ne)}function D(){const z=u.newAttributes,ne=u.enabledAttributes;for(let re=0,le=ne.length;re<le;re++)ne[re]!==z[re]&&(n.disableVertexAttribArray(re),ne[re]=0)}function I(z,ne,re,le,F,X){r.isWebGL2===!0&&(re===5124||re===5125)?n.vertexAttribIPointer(z,ne,re,F,X):n.vertexAttribPointer(z,ne,re,le,F,X)}function B(z,ne,re,le){if(r.isWebGL2===!1&&(z.isInstancedMesh||le.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const F=le.attributes,X=re.getAttributes(),ie=ne.defaultAttributeValues;for(const ve in X){const N=X[ve];if(N.location>=0){let V=F[ve];if(V===void 0&&(ve==="instanceMatrix"&&z.instanceMatrix&&(V=z.instanceMatrix),ve==="instanceColor"&&z.instanceColor&&(V=z.instanceColor)),V!==void 0){const Q=V.normalized,ue=V.itemSize,j=t.get(V);if(j===void 0)continue;const we=j.buffer,me=j.type,Ae=j.bytesPerElement;if(V.isInterleavedBufferAttribute){const Te=V.data,De=Te.stride,xe=V.offset;if(Te.isInstancedInterleavedBuffer){for(let Me=0;Me<N.locationSize;Me++)T(N.location+Me,Te.meshPerAttribute);z.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=Te.meshPerAttribute*Te.count)}else for(let Me=0;Me<N.locationSize;Me++)C(N.location+Me);n.bindBuffer(34962,we);for(let Me=0;Me<N.locationSize;Me++)I(N.location+Me,ue/N.locationSize,me,Q,De*Ae,(xe+ue/N.locationSize*Me)*Ae)}else{if(V.isInstancedBufferAttribute){for(let Te=0;Te<N.locationSize;Te++)T(N.location+Te,V.meshPerAttribute);z.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let Te=0;Te<N.locationSize;Te++)C(N.location+Te);n.bindBuffer(34962,we);for(let Te=0;Te<N.locationSize;Te++)I(N.location+Te,ue/N.locationSize,me,Q,ue*Ae,ue/N.locationSize*Te*Ae)}}else if(ie!==void 0){const Q=ie[ve];if(Q!==void 0)switch(Q.length){case 2:n.vertexAttrib2fv(N.location,Q);break;case 3:n.vertexAttrib3fv(N.location,Q);break;case 4:n.vertexAttrib4fv(N.location,Q);break;default:n.vertexAttrib1fv(N.location,Q)}}}}D()}function W(){P();for(const z in a){const ne=a[z];for(const re in ne){const le=ne[re];for(const F in le)y(le[F].object),delete le[F];delete ne[re]}delete a[z]}}function G(z){if(a[z.id]===void 0)return;const ne=a[z.id];for(const re in ne){const le=ne[re];for(const F in le)y(le[F].object),delete le[F];delete ne[re]}delete a[z.id]}function L(z){for(const ne in a){const re=a[ne];if(re[z.id]===void 0)continue;const le=re[z.id];for(const F in le)y(le[F].object),delete le[F];delete re[z.id]}}function P(){q(),c=!0,u!==l&&(u=l,m(u.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:P,resetDefaultState:q,dispose:W,releaseStatesOfGeometry:G,releaseStatesOfProgram:L,initAttributes:A,enableAttribute:C,disableUnusedAttributes:D}}function WY(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){n.drawArrays(s,u,c),t.update(c,s,1)}function l(u,c,h){if(h===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,c,h),t.update(c,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function VY(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(I){if(I==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),g=n.getParameter(34921),x=n.getParameter(36347),w=n.getParameter(36348),_=n.getParameter(36349),A=p>0,C=o||e.has("OES_texture_float"),T=A&&C,D=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:_,vertexTextures:A,floatFragmentTextures:C,floatVertexTextures:T,maxSamples:D}}function qY(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new au,a=new ji,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p,m){const y=h.length!==0||p||r!==0||i;return i=p,t=c(h,m,0),r=h.length,y},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1,u()},this.setState=function(h,p,m){const y=h.clippingPlanes,g=h.clipIntersection,x=h.clipShadows,w=n.get(h);if(!i||y===null||y.length===0||s&&!x)s?c(null):u();else{const _=s?0:r,A=_*4;let C=w.clippingState||null;l.value=C,C=c(y,p,A,m);for(let T=0;T!==A;++T)C[T]=t[T];w.clippingState=C,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(h,p,m,y){const g=h!==null?h.length:0;let x=null;if(g!==0){if(x=l.value,y!==!0||x===null){const w=m+g*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<w)&&(x=new Float32Array(w));for(let A=0,C=m;A!==g;++A,C+=4)o.copy(h[A]).applyMatrix4(_,a),o.normal.toArray(x,C),x[C+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,x}}function YY(n){let e=new WeakMap;function t(o,a){return a===Pm?o.mapping=_c:a===x1&&(o.mapping=Xf),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Pm||a===x1)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new X1(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Ya extends hg{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}Ya.prototype.isOrthographicCamera=!0;const nm=4,UT=[.125,.215,.35,.446,.526,.582],Jh=20,gb=new Ya,zT=new Mt;let vb=null;const Wh=(1+Math.sqrt(5))/2,Mp=1/Wh,HT=[new ce(1,1,1),new ce(-1,1,1),new ce(1,1,-1),new ce(-1,1,-1),new ce(0,Wh,Mp),new ce(0,Wh,-Mp),new ce(Mp,0,Wh),new ce(-Mp,0,Wh),new ce(Wh,Mp,0),new ce(-Wh,Mp,0)];class tA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){vb=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=WT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=jT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(vb),e.scissorTest=!1,hy(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===_c||e.mapping===Xf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vb=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize-32,r={magFilter:_r,minFilter:_r,generateMipmaps:!1,type:Va,format:ia,encoding:ua,depthBuffer:!1},i=GT(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=GT(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=JY(s)),this._blurMaterial=XY(s,e,t)}return i}_compileMaterial(e){const t=new si(this._lodPlanes[0],e);this._renderer.compile(t,gb)}_sceneToCubeUV(e,t,r,i){const a=new mr(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,h=c.autoClear,p=c.toneMapping;c.getClearColor(zT),c.toneMapping=Il,c.autoClear=!1;const m=new Io({name:"PMREM.Background",side:Oo,depthWrite:!1,depthTest:!1}),y=new si(new xu,m);let g=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,g=!0):(m.color.copy(zT),g=!0);for(let w=0;w<6;w++){const _=w%3;_===0?(a.up.set(0,l[w],0),a.lookAt(u[w],0,0)):_===1?(a.up.set(0,0,l[w]),a.lookAt(0,u[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,u[w]));const A=this._cubeSize;hy(i,_*A,w>2?A:0,A,A),c.setRenderTarget(i),g&&c.render(y,a),c.render(e,a)}y.geometry.dispose(),y.material.dispose(),c.toneMapping=p,c.autoClear=h,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===_c||e.mapping===Xf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=WT()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=jT());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new si(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;hy(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,gb)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=HT[(i-1)%HT.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,h=new si(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Jh-1),g=s/y,x=isFinite(s)?1+Math.floor(c*g):Jh;x>Jh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Jh}`);const w=[];let _=0;for(let I=0;I<Jh;++I){const B=I/g,W=Math.exp(-B*B/2);w.push(W),I===0?_+=W:I<x&&(_+=2*W)}for(let I=0;I<w.length;I++)w[I]=w[I]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:A}=this;p.dTheta.value=y,p.mipInt.value=A-r;const C=this._sizeLods[i],T=3*C*(i>A-nm?i-A+nm:0),D=4*(this._cubeSize-C);hy(t,T,D,3*C,2*C),l.setRenderTarget(t),l.render(h,gb)}}function JY(n){const e=[],t=[],r=[];let i=n;const s=n-nm+1+UT.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-nm?l=UT[o-n+nm-1]:o===0&&(l=0),r.push(l);const u=1/(a-1),c=-u/2,h=1+u/2,p=[c,c,h,c,h,h,c,c,h,h,c,h],m=6,y=6,g=3,x=2,w=1,_=new Float32Array(g*y*m),A=new Float32Array(x*y*m),C=new Float32Array(w*y*m);for(let D=0;D<m;D++){const I=D%3*2/3-1,B=D>2?0:-1,W=[I,B,0,I+2/3,B,0,I+2/3,B+1,0,I,B,0,I+2/3,B+1,0,I,B+1,0];_.set(W,g*y*D),A.set(p,x*y*D);const G=[D,D,D,D,D,D];C.set(G,w*y*D)}const T=new nn;T.setAttribute("position",new Ln(_,g)),T.setAttribute("uv",new Ln(A,x)),T.setAttribute("faceIndex",new Ln(C,w)),e.push(T),i>nm&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function GT(n,e,t){const r=new mo(n,e,t);return r.texture.mapping=cg,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function hy(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function XY(n,e,t){const r=new Float32Array(Jh),i=new ce(0,1,0);return new $a({name:"SphericalGaussianBlur",defines:{n:Jh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:A3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:pc,depthTest:!1,depthWrite:!1})}function jT(){return new $a({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:A3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:pc,depthTest:!1,depthWrite:!1})}function WT(){return new $a({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:A3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:pc,depthTest:!1,depthWrite:!1})}function A3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $Y(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Pm||l===x1,c=l===_c||l===Xf;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new tA(n)),h=u?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||c&&h&&i(h)){t===null&&(t=new tA(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function KY(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function QY(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],34962);const m=h.morphAttributes;for(const y in m){const g=m[y];for(let x=0,w=g.length;x<w;x++)e.update(g[x],34962)}}function u(h){const p=[],m=h.index,y=h.attributes.position;let g=0;if(m!==null){const _=m.array;g=m.version;for(let A=0,C=_.length;A<C;A+=3){const T=_[A+0],D=_[A+1],I=_[A+2];p.push(T,D,D,I,I,T)}}else{const _=y.array;g=y.version;for(let A=0,C=_.length/3-1;A<C;A+=3){const T=A+0,D=A+1,I=A+2;p.push(T,D,D,I,I,T)}}const x=new(dN(p)?Lw:Tw)(p,1);x.version=g;const w=s.get(h);w&&e.remove(w),s.set(h,x)}function c(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:c}}function ZY(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function c(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,y){if(y===0)return;let g,x;if(i)g=n,x="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[x](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=h}function eJ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function tJ(n,e){return n[0]-e[0]}function nJ(n,e){return Math.abs(e[1])-Math.abs(n[1])}function yb(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function rJ(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new or,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,h,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=y!==void 0?y.length:0;let x=s.get(c);if(x===void 0||x.count!==g){let ne=function(){q.dispose(),s.delete(c),c.removeEventListener("dispose",ne)};x!==void 0&&x.texture.dispose();const A=c.morphAttributes.position!==void 0,C=c.morphAttributes.normal!==void 0,T=c.morphAttributes.color!==void 0,D=c.morphAttributes.position||[],I=c.morphAttributes.normal||[],B=c.morphAttributes.color||[];let W=0;A===!0&&(W=1),C===!0&&(W=2),T===!0&&(W=3);let G=c.attributes.position.count*W,L=1;G>e.maxTextureSize&&(L=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const P=new Float32Array(G*L*4*g),q=new fg(P,G,L,g);q.type=Wa,q.needsUpdate=!0;const z=W*4;for(let re=0;re<g;re++){const le=D[re],F=I[re],X=B[re],ie=G*L*4*re;for(let ve=0;ve<le.count;ve++){const N=ve*z;A===!0&&(o.fromBufferAttribute(le,ve),le.normalized===!0&&yb(o,le),P[ie+N+0]=o.x,P[ie+N+1]=o.y,P[ie+N+2]=o.z,P[ie+N+3]=0),C===!0&&(o.fromBufferAttribute(F,ve),F.normalized===!0&&yb(o,F),P[ie+N+4]=o.x,P[ie+N+5]=o.y,P[ie+N+6]=o.z,P[ie+N+7]=0),T===!0&&(o.fromBufferAttribute(X,ve),X.normalized===!0&&yb(o,X),P[ie+N+8]=o.x,P[ie+N+9]=o.y,P[ie+N+10]=o.z,P[ie+N+11]=X.itemSize===4?o.w:1)}}x={count:g,texture:q,size:new nt(G,L)},s.set(c,x),c.addEventListener("dispose",ne)}let w=0;for(let A=0;A<m.length;A++)w+=m[A];const _=c.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",_),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const y=m===void 0?0:m.length;let g=r[c.id];if(g===void 0||g.length!==y){g=[];for(let C=0;C<y;C++)g[C]=[C,0];r[c.id]=g}for(let C=0;C<y;C++){const T=g[C];T[0]=C,T[1]=m[C]}g.sort(nJ);for(let C=0;C<8;C++)C<y&&g[C][1]?(a[C][0]=g[C][0],a[C][1]=g[C][1]):(a[C][0]=Number.MAX_SAFE_INTEGER,a[C][1]=0);a.sort(tJ);const x=c.morphAttributes.position,w=c.morphAttributes.normal;let _=0;for(let C=0;C<8;C++){const T=a[C],D=T[0],I=T[1];D!==Number.MAX_SAFE_INTEGER&&I?(x&&c.getAttribute("morphTarget"+C)!==x[D]&&c.setAttribute("morphTarget"+C,x[D]),w&&c.getAttribute("morphNormal"+C)!==w[D]&&c.setAttribute("morphNormal"+C,w[D]),i[C]=I,_+=I):(x&&c.hasAttribute("morphTarget"+C)===!0&&c.deleteAttribute("morphTarget"+C),w&&c.hasAttribute("morphNormal"+C)===!0&&c.deleteAttribute("morphNormal"+C),i[C]=0)}const A=c.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",A),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function iJ(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,h=e.get(l,c);return i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const CN=new Qr,TN=new fg,LN=new J1,RN=new dg,VT=[],qT=[],YT=new Float32Array(16),JT=new Float32Array(9),XT=new Float32Array(4);function pg(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=VT[i];if(s===void 0&&(s=new Float32Array(i),VT[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function go(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function $s(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Pw(n,e){let t=qT[e];t===void 0&&(t=new Int32Array(e),qT[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function sJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function oJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(go(t,e))return;n.uniform2fv(this.addr,e),$s(t,e)}}function aJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(go(t,e))return;n.uniform3fv(this.addr,e),$s(t,e)}}function lJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(go(t,e))return;n.uniform4fv(this.addr,e),$s(t,e)}}function uJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(go(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),$s(t,e)}else{if(go(t,r))return;XT.set(r),n.uniformMatrix2fv(this.addr,!1,XT),$s(t,r)}}function cJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(go(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),$s(t,e)}else{if(go(t,r))return;JT.set(r),n.uniformMatrix3fv(this.addr,!1,JT),$s(t,r)}}function fJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(go(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),$s(t,e)}else{if(go(t,r))return;YT.set(r),n.uniformMatrix4fv(this.addr,!1,YT),$s(t,r)}}function hJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function dJ(n,e){const t=this.cache;go(t,e)||(n.uniform2iv(this.addr,e),$s(t,e))}function pJ(n,e){const t=this.cache;go(t,e)||(n.uniform3iv(this.addr,e),$s(t,e))}function mJ(n,e){const t=this.cache;go(t,e)||(n.uniform4iv(this.addr,e),$s(t,e))}function gJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function vJ(n,e){const t=this.cache;go(t,e)||(n.uniform2uiv(this.addr,e),$s(t,e))}function yJ(n,e){const t=this.cache;go(t,e)||(n.uniform3uiv(this.addr,e),$s(t,e))}function xJ(n,e){const t=this.cache;go(t,e)||(n.uniform4uiv(this.addr,e),$s(t,e))}function wJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||CN,i)}function _J(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||LN,i)}function bJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||RN,i)}function SJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||TN,i)}function AJ(n){switch(n){case 5126:return sJ;case 35664:return oJ;case 35665:return aJ;case 35666:return lJ;case 35674:return uJ;case 35675:return cJ;case 35676:return fJ;case 5124:case 35670:return hJ;case 35667:case 35671:return dJ;case 35668:case 35672:return pJ;case 35669:case 35673:return mJ;case 5125:return gJ;case 36294:return vJ;case 36295:return yJ;case 36296:return xJ;case 35678:case 36198:case 36298:case 36306:case 35682:return wJ;case 35679:case 36299:case 36307:return _J;case 35680:case 36300:case 36308:case 36293:return bJ;case 36289:case 36303:case 36311:case 36292:return SJ}}function MJ(n,e){n.uniform1fv(this.addr,e)}function EJ(n,e){const t=pg(e,this.size,2);n.uniform2fv(this.addr,t)}function CJ(n,e){const t=pg(e,this.size,3);n.uniform3fv(this.addr,t)}function TJ(n,e){const t=pg(e,this.size,4);n.uniform4fv(this.addr,t)}function LJ(n,e){const t=pg(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function RJ(n,e){const t=pg(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function PJ(n,e){const t=pg(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function BJ(n,e){n.uniform1iv(this.addr,e)}function kJ(n,e){n.uniform2iv(this.addr,e)}function IJ(n,e){n.uniform3iv(this.addr,e)}function NJ(n,e){n.uniform4iv(this.addr,e)}function DJ(n,e){n.uniform1uiv(this.addr,e)}function FJ(n,e){n.uniform2uiv(this.addr,e)}function OJ(n,e){n.uniform3uiv(this.addr,e)}function UJ(n,e){n.uniform4uiv(this.addr,e)}function zJ(n,e,t){const r=e.length,i=Pw(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2D(e[s]||CN,i[s])}function HJ(n,e,t){const r=e.length,i=Pw(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture3D(e[s]||LN,i[s])}function GJ(n,e,t){const r=e.length,i=Pw(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTextureCube(e[s]||RN,i[s])}function jJ(n,e,t){const r=e.length,i=Pw(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||TN,i[s])}function WJ(n){switch(n){case 5126:return MJ;case 35664:return EJ;case 35665:return CJ;case 35666:return TJ;case 35674:return LJ;case 35675:return RJ;case 35676:return PJ;case 5124:case 35670:return BJ;case 35667:case 35671:return kJ;case 35668:case 35672:return IJ;case 35669:case 35673:return NJ;case 5125:return DJ;case 36294:return FJ;case 36295:return OJ;case 36296:return UJ;case 35678:case 36198:case 36298:case 36306:case 35682:return zJ;case 35679:case 36299:case 36307:return HJ;case 35680:case 36300:case 36308:case 36293:return GJ;case 36289:case 36303:case 36311:case 36292:return jJ}}function VJ(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=AJ(e.type)}function PN(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=WJ(e.type)}PN.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),$s(e,n)};function BN(n){this.id=n,this.seq=[],this.map={}}BN.prototype.setValue=function(n,e,t){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const o=r[i];o.setValue(n,e[o.id],t)}};const xb=/(\w+)(\])?(\[|\.)?/g;function $T(n,e){n.seq.push(e),n.map[e.id]=e}function qJ(n,e,t){const r=n.name,i=r.length;for(xb.lastIndex=0;;){const s=xb.exec(r),o=xb.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){$T(t,u===void 0?new VJ(a,n,e):new PN(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new BN(a),$T(t,h)),t=h}}}function Wf(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){const i=n.getActiveUniform(e,r),s=n.getUniformLocation(e,i.name);qJ(i,s,this)}}Wf.prototype.setValue=function(n,e,t,r){const i=this.map[e];i!==void 0&&i.setValue(n,t,r)};Wf.prototype.setOptional=function(n,e,t){const r=e[t];r!==void 0&&this.setValue(n,t,r)};Wf.upload=function(n,e,t,r){for(let i=0,s=e.length;i!==s;++i){const o=e[i],a=t[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,r)}};Wf.seqWithValue=function(n,e){const t=[];for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.id in e&&t.push(s)}return t};function KT(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let YJ=0;function JJ(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++)r.push(o+1+": "+t[o]);return r.join(`
`)}function XJ(n){switch(n){case ua:return["Linear","( value )"];case sr:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function QT(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=parseInt(/ERROR: 0:(\d+)/.exec(i)[1]);return t.toUpperCase()+`

`+i+`

`+JJ(n.getShaderSource(e),s)}function $J(n,e){const t=XJ(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function KJ(n,e){let t;switch(e){case OI:t="Linear";break;case UI:t="Reinhard";break;case zI:t="OptimizedCineon";break;case w3:t="ACESFilmic";break;case HI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function QJ(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(R0).join(`
`)}function ZJ(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function eX(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function R0(n){return n!==""}function ZT(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function eL(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const tX=/^[ \t]*#include +<([\w\d./]+)>/gm;function nA(n){return n.replace(tX,nX)}function nX(n,e){const t=Cn[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return nA(t)}const rX=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,iX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tL(n){return n.replace(iX,kN).replace(rX,sX)}function sX(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),kN(n,e,t,r)}function kN(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function nL(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function oX(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===m3?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===g3?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===em&&(e="SHADOWMAP_TYPE_VSM"),e}function aX(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case _c:case Xf:e="ENVMAP_TYPE_CUBE";break;case cg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function lX(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Xf:e="ENVMAP_MODE_REFRACTION";break}return e}function uX(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Y1:e="ENVMAP_BLENDING_MULTIPLY";break;case DI:e="ENVMAP_BLENDING_MIX";break;case FI:e="ENVMAP_BLENDING_ADD";break}return e}function cX(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e/32+1)+3,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function fX(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=oX(t),u=aX(t),c=lX(t),h=uX(t),p=cX(t),m=t.isWebGL2?"":QJ(t),y=ZJ(s),g=i.createProgram();let x,w,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[y].filter(R0).join(`
`),x.length>0&&(x+=`
`),w=[m,y].filter(R0).join(`
`),w.length>0&&(w+=`
`)):(x=[nL(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(R0).join(`
`),w=[m,nL(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Il?"#define TONE_MAPPING":"",t.toneMapping!==Il?Cn.tonemapping_pars_fragment:"",t.toneMapping!==Il?KJ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Cn.encodings_pars_fragment,$J("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(R0).join(`
`)),o=nA(o),o=ZT(o,t),o=eL(o,t),a=nA(a),a=ZT(a,t),a=eL(a,t),o=tL(o),a=tL(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,w=["#define varying in",t.glslVersion===QS?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===QS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const A=_+x+o,C=_+w+a,T=KT(i,35633,A),D=KT(i,35632,C);if(i.attachShader(g,T),i.attachShader(g,D),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){const W=i.getProgramInfoLog(g).trim(),G=i.getShaderInfoLog(T).trim(),L=i.getShaderInfoLog(D).trim();let P=!0,q=!0;if(i.getProgramParameter(g,35714)===!1){P=!1;const z=QT(i,T,"vertex"),ne=QT(i,D,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+W+`
`+z+`
`+ne)}else W!==""?console.warn("THREE.WebGLProgram: Program Info Log:",W):(G===""||L==="")&&(q=!1);q&&(this.diagnostics={runnable:P,programLog:W,vertexShader:{log:G,prefix:x},fragmentShader:{log:L,prefix:w}})}i.deleteShader(T),i.deleteShader(D);let I;this.getUniforms=function(){return I===void 0&&(I=new Wf(i,g)),I};let B;return this.getAttributes=function(){return B===void 0&&(B=eX(i,g)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=YJ++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=T,this.fragmentShader=D,this}let hX=0;class dX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new pX(e);t.set(e,r)}return t.get(e)}}class pX{constructor(e){this.id=hX++,this.code=e,this.usedTimes=0}}function mX(n,e,t,r,i,s,o){const a=new dd,l=new dX,u=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.floatVertexTextures,m=i.maxVertexUniforms,y=i.vertexTextures;let g=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(L){const q=L.skeleton.bones;if(p)return 1024;{const ne=Math.floor((m-20)/4),re=Math.min(ne,q.length);return re<q.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+q.length+" bones. This GPU supports "+re+"."),0):re}}function _(L,P,q,z,ne){const re=z.fog,le=ne.geometry,F=L.isMeshStandardMaterial?z.environment:null,X=(L.isMeshStandardMaterial?t:e).get(L.envMap||F),ie=!!X&&X.mapping===cg?X.image.height:null,ve=x[L.type],N=ne.isSkinnedMesh?w(ne):0;L.precision!==null&&(g=i.getMaxPrecision(L.precision),g!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",g,"instead."));const V=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,Q=V!==void 0?V.length:0;let ue=0;le.morphAttributes.position!==void 0&&(ue=1),le.morphAttributes.normal!==void 0&&(ue=2),le.morphAttributes.color!==void 0&&(ue=3);let j,we,me,Ae;if(ve){const Ge=Ll[ve];j=Ge.vertexShader,we=Ge.fragmentShader}else j=L.vertexShader,we=L.fragmentShader,l.update(L),me=l.getVertexShaderID(L),Ae=l.getFragmentShaderID(L);const Te=n.getRenderTarget(),De=L.alphaTest>0,xe=L.clearcoat>0;return{isWebGL2:c,shaderID:ve,shaderName:L.type,vertexShader:j,fragmentShader:we,defines:L.defines,customVertexShaderID:me,customFragmentShaderID:Ae,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:g,instancing:ne.isInstancedMesh===!0,instancingColor:ne.isInstancedMesh===!0&&ne.instanceColor!==null,supportsVertexTextures:y,outputEncoding:Te===null?n.outputEncoding:Te.isXRRenderTarget===!0?Te.texture.encoding:ua,map:!!L.map,matcap:!!L.matcap,envMap:!!X,envMapMode:X&&X.mapping,envMapCubeUVHeight:ie,lightMap:!!L.lightMap,aoMap:!!L.aoMap,emissiveMap:!!L.emissiveMap,bumpMap:!!L.bumpMap,normalMap:!!L.normalMap,objectSpaceNormalMap:L.normalMapType===cN,tangentSpaceNormalMap:L.normalMapType===oh,decodeVideoTexture:!!L.map&&L.map.isVideoTexture===!0&&L.map.encoding===sr,clearcoat:xe,clearcoatMap:xe&&!!L.clearcoatMap,clearcoatRoughnessMap:xe&&!!L.clearcoatRoughnessMap,clearcoatNormalMap:xe&&!!L.clearcoatNormalMap,displacementMap:!!L.displacementMap,roughnessMap:!!L.roughnessMap,metalnessMap:!!L.metalnessMap,specularMap:!!L.specularMap,specularIntensityMap:!!L.specularIntensityMap,specularColorMap:!!L.specularColorMap,opaque:L.transparent===!1&&L.blending===ud,alphaMap:!!L.alphaMap,alphaTest:De,gradientMap:!!L.gradientMap,sheen:L.sheen>0,sheenColorMap:!!L.sheenColorMap,sheenRoughnessMap:!!L.sheenRoughnessMap,transmission:L.transmission>0,transmissionMap:!!L.transmissionMap,thicknessMap:!!L.thicknessMap,combine:L.combine,vertexTangents:!!L.normalMap&&!!le.attributes.tangent,vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,vertexUvs:!!L.map||!!L.bumpMap||!!L.normalMap||!!L.specularMap||!!L.alphaMap||!!L.emissiveMap||!!L.roughnessMap||!!L.metalnessMap||!!L.clearcoatMap||!!L.clearcoatRoughnessMap||!!L.clearcoatNormalMap||!!L.displacementMap||!!L.transmissionMap||!!L.thicknessMap||!!L.specularIntensityMap||!!L.specularColorMap||!!L.sheenColorMap||!!L.sheenRoughnessMap,uvsVertexOnly:!(!!L.map||!!L.bumpMap||!!L.normalMap||!!L.specularMap||!!L.alphaMap||!!L.emissiveMap||!!L.roughnessMap||!!L.metalnessMap||!!L.clearcoatNormalMap||L.transmission>0||!!L.transmissionMap||!!L.thicknessMap||!!L.specularIntensityMap||!!L.specularColorMap||L.sheen>0||!!L.sheenColorMap||!!L.sheenRoughnessMap)&&!!L.displacementMap,fog:!!re,useFog:L.fog,fogExp2:re&&re.isFogExp2,flatShading:!!L.flatShading,sizeAttenuation:L.sizeAttenuation,logarithmicDepthBuffer:h,skinning:ne.isSkinnedMesh===!0&&N>0,maxBones:N,useVertexTexture:p,morphTargets:le.morphAttributes.position!==void 0,morphNormals:le.morphAttributes.normal!==void 0,morphColors:le.morphAttributes.color!==void 0,morphTargetsCount:Q,morphTextureStride:ue,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&q.length>0,shadowMapType:n.shadowMap.type,toneMapping:L.toneMapped?n.toneMapping:Il,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===Jf,flipSided:L.side===Oo,depthPacking:L.depthPacking!==void 0?L.depthPacking:!1,index0AttributeName:L.index0AttributeName,extensionDerivatives:L.extensions&&L.extensions.derivatives,extensionFragDepth:L.extensions&&L.extensions.fragDepth,extensionDrawBuffers:L.extensions&&L.extensions.drawBuffers,extensionShaderTextureLOD:L.extensions&&L.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:L.customProgramCacheKey()}}function A(L){const P=[];if(L.shaderID?P.push(L.shaderID):(P.push(L.customVertexShaderID),P.push(L.customFragmentShaderID)),L.defines!==void 0)for(const q in L.defines)P.push(q),P.push(L.defines[q]);return L.isRawShaderMaterial===!1&&(C(P,L),T(P,L),P.push(n.outputEncoding)),P.push(L.customProgramCacheKey),P.join()}function C(L,P){L.push(P.precision),L.push(P.outputEncoding),L.push(P.envMapMode),L.push(P.envMapCubeUVHeight),L.push(P.combine),L.push(P.vertexUvs),L.push(P.fogExp2),L.push(P.sizeAttenuation),L.push(P.maxBones),L.push(P.morphTargetsCount),L.push(P.morphAttributeCount),L.push(P.numDirLights),L.push(P.numPointLights),L.push(P.numSpotLights),L.push(P.numHemiLights),L.push(P.numRectAreaLights),L.push(P.numDirLightShadows),L.push(P.numPointLightShadows),L.push(P.numSpotLightShadows),L.push(P.shadowMapType),L.push(P.toneMapping),L.push(P.numClippingPlanes),L.push(P.numClipIntersection)}function T(L,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.map&&a.enable(4),P.matcap&&a.enable(5),P.envMap&&a.enable(6),P.lightMap&&a.enable(7),P.aoMap&&a.enable(8),P.emissiveMap&&a.enable(9),P.bumpMap&&a.enable(10),P.normalMap&&a.enable(11),P.objectSpaceNormalMap&&a.enable(12),P.tangentSpaceNormalMap&&a.enable(13),P.clearcoat&&a.enable(14),P.clearcoatMap&&a.enable(15),P.clearcoatRoughnessMap&&a.enable(16),P.clearcoatNormalMap&&a.enable(17),P.displacementMap&&a.enable(18),P.specularMap&&a.enable(19),P.roughnessMap&&a.enable(20),P.metalnessMap&&a.enable(21),P.gradientMap&&a.enable(22),P.alphaMap&&a.enable(23),P.alphaTest&&a.enable(24),P.vertexColors&&a.enable(25),P.vertexAlphas&&a.enable(26),P.vertexUvs&&a.enable(27),P.vertexTangents&&a.enable(28),P.uvsVertexOnly&&a.enable(29),P.fog&&a.enable(30),L.push(a.mask),a.disableAll(),P.useFog&&a.enable(0),P.flatShading&&a.enable(1),P.logarithmicDepthBuffer&&a.enable(2),P.skinning&&a.enable(3),P.useVertexTexture&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.physicallyCorrectLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.depthPacking&&a.enable(13),P.dithering&&a.enable(14),P.specularIntensityMap&&a.enable(15),P.specularColorMap&&a.enable(16),P.transmission&&a.enable(17),P.transmissionMap&&a.enable(18),P.thicknessMap&&a.enable(19),P.sheen&&a.enable(20),P.sheenColorMap&&a.enable(21),P.sheenRoughnessMap&&a.enable(22),P.decodeVideoTexture&&a.enable(23),P.opaque&&a.enable(24),L.push(a.mask)}function D(L){const P=x[L.type];let q;if(P){const z=Ll[P];q=MN.clone(z.uniforms)}else q=L.uniforms;return q}function I(L,P){let q;for(let z=0,ne=u.length;z<ne;z++){const re=u[z];if(re.cacheKey===P){q=re,++q.usedTimes;break}}return q===void 0&&(q=new fX(n,P,L,s),u.push(q)),q}function B(L){if(--L.usedTimes===0){const P=u.indexOf(L);u[P]=u[u.length-1],u.pop(),L.destroy()}}function W(L){l.remove(L)}function G(){l.dispose()}return{getParameters:_,getProgramCacheKey:A,getUniforms:D,acquireProgram:I,releaseProgram:B,releaseShaderCache:W,programs:u,dispose:G}}function gX(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function vX(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function rL(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function iL(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,m,y,g,x){let w=n[e];return w===void 0?(w={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:g,group:x},n[e]=w):(w.id=h.id,w.object=h,w.geometry=p,w.material=m,w.groupOrder=y,w.renderOrder=h.renderOrder,w.z=g,w.group=x),e++,w}function a(h,p,m,y,g,x){const w=o(h,p,m,y,g,x);m.transmission>0?r.push(w):m.transparent===!0?i.push(w):t.push(w)}function l(h,p,m,y,g,x){const w=o(h,p,m,y,g,x);m.transmission>0?r.unshift(w):m.transparent===!0?i.unshift(w):t.unshift(w)}function u(h,p){t.length>1&&t.sort(h||vX),r.length>1&&r.sort(p||rL),i.length>1&&i.sort(p||rL)}function c(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function yX(){let n=new WeakMap;function e(r,i){let s;return n.has(r)===!1?(s=new iL,n.set(r,[s])):i>=n.get(r).length?(s=new iL,n.get(r).push(s)):s=n.get(r)[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function xX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ce,color:new Mt};break;case"SpotLight":t={position:new ce,direction:new ce,color:new Mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ce,color:new Mt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ce,skyColor:new Mt,groundColor:new Mt};break;case"RectAreaLight":t={color:new Mt,position:new ce,halfWidth:new ce,halfHeight:new ce};break}return n[e.id]=t,t}}}function wX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let _X=0;function bX(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function SX(n,e){const t=new xX,r=wX(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let c=0;c<9;c++)i.probe.push(new ce);const s=new ce,o=new Ot,a=new Ot;function l(c,h){let p=0,m=0,y=0;for(let W=0;W<9;W++)i.probe[W].set(0,0,0);let g=0,x=0,w=0,_=0,A=0,C=0,T=0,D=0;c.sort(bX);const I=h!==!0?Math.PI:1;for(let W=0,G=c.length;W<G;W++){const L=c[W],P=L.color,q=L.intensity,z=L.distance,ne=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)p+=P.r*q*I,m+=P.g*q*I,y+=P.b*q*I;else if(L.isLightProbe)for(let re=0;re<9;re++)i.probe[re].addScaledVector(L.sh.coefficients[re],q);else if(L.isDirectionalLight){const re=t.get(L);if(re.color.copy(L.color).multiplyScalar(L.intensity*I),L.castShadow){const le=L.shadow,F=r.get(L);F.shadowBias=le.bias,F.shadowNormalBias=le.normalBias,F.shadowRadius=le.radius,F.shadowMapSize=le.mapSize,i.directionalShadow[g]=F,i.directionalShadowMap[g]=ne,i.directionalShadowMatrix[g]=L.shadow.matrix,C++}i.directional[g]=re,g++}else if(L.isSpotLight){const re=t.get(L);if(re.position.setFromMatrixPosition(L.matrixWorld),re.color.copy(P).multiplyScalar(q*I),re.distance=z,re.coneCos=Math.cos(L.angle),re.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),re.decay=L.decay,L.castShadow){const le=L.shadow,F=r.get(L);F.shadowBias=le.bias,F.shadowNormalBias=le.normalBias,F.shadowRadius=le.radius,F.shadowMapSize=le.mapSize,i.spotShadow[w]=F,i.spotShadowMap[w]=ne,i.spotShadowMatrix[w]=L.shadow.matrix,D++}i.spot[w]=re,w++}else if(L.isRectAreaLight){const re=t.get(L);re.color.copy(P).multiplyScalar(q),re.halfWidth.set(L.width*.5,0,0),re.halfHeight.set(0,L.height*.5,0),i.rectArea[_]=re,_++}else if(L.isPointLight){const re=t.get(L);if(re.color.copy(L.color).multiplyScalar(L.intensity*I),re.distance=L.distance,re.decay=L.decay,L.castShadow){const le=L.shadow,F=r.get(L);F.shadowBias=le.bias,F.shadowNormalBias=le.normalBias,F.shadowRadius=le.radius,F.shadowMapSize=le.mapSize,F.shadowCameraNear=le.camera.near,F.shadowCameraFar=le.camera.far,i.pointShadow[x]=F,i.pointShadowMap[x]=ne,i.pointShadowMatrix[x]=L.shadow.matrix,T++}i.point[x]=re,x++}else if(L.isHemisphereLight){const re=t.get(L);re.skyColor.copy(L.color).multiplyScalar(q*I),re.groundColor.copy(L.groundColor).multiplyScalar(q*I),i.hemi[A]=re,A++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Pt.LTC_FLOAT_1,i.rectAreaLTC2=Pt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Pt.LTC_HALF_1,i.rectAreaLTC2=Pt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=y;const B=i.hash;(B.directionalLength!==g||B.pointLength!==x||B.spotLength!==w||B.rectAreaLength!==_||B.hemiLength!==A||B.numDirectionalShadows!==C||B.numPointShadows!==T||B.numSpotShadows!==D)&&(i.directional.length=g,i.spot.length=w,i.rectArea.length=_,i.point.length=x,i.hemi.length=A,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=D,i.spotShadowMap.length=D,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=T,i.spotShadowMatrix.length=D,B.directionalLength=g,B.pointLength=x,B.spotLength=w,B.rectAreaLength=_,B.hemiLength=A,B.numDirectionalShadows=C,B.numPointShadows=T,B.numSpotShadows=D,i.version=_X++)}function u(c,h){let p=0,m=0,y=0,g=0,x=0;const w=h.matrixWorldInverse;for(let _=0,A=c.length;_<A;_++){const C=c[_];if(C.isDirectionalLight){const T=i.directional[p];T.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(w),p++}else if(C.isSpotLight){const T=i.spot[y];T.position.setFromMatrixPosition(C.matrixWorld),T.position.applyMatrix4(w),T.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(w),y++}else if(C.isRectAreaLight){const T=i.rectArea[g];T.position.setFromMatrixPosition(C.matrixWorld),T.position.applyMatrix4(w),a.identity(),o.copy(C.matrixWorld),o.premultiply(w),a.extractRotation(o),T.halfWidth.set(C.width*.5,0,0),T.halfHeight.set(0,C.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),g++}else if(C.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(C.matrixWorld),T.position.applyMatrix4(w),m++}else if(C.isHemisphereLight){const T=i.hemi[x];T.direction.setFromMatrixPosition(C.matrixWorld),T.direction.transformDirection(w),T.direction.normalize(),x++}}}return{setup:l,setupView:u,state:i}}function sL(n,e){const t=new SX(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){t.setup(r,h)}function u(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function AX(n,e){let t=new WeakMap;function r(s,o=0){let a;return t.has(s)===!1?(a=new sL(n,e),t.set(s,[a])):o>=t.get(s).length?(a=new sL(n,e),t.get(s).push(a)):a=t.get(s)[o],a}function i(){t=new WeakMap}return{get:r,dispose:i}}class Bw extends Or{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=lN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Bw.prototype.isMeshDepthMaterial=!0;class kw extends Or{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new ce,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}kw.prototype.isMeshDistanceMaterial=!0;const MX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,EX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function IN(n,e,t){let r=new $1;const i=new nt,s=new nt,o=new or,a=new Bw({depthPacking:uN}),l=new kw,u={},c=t.maxTextureSize,h={0:Oo,1:Yf,2:Jf},p=new $a({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new nt},radius:{value:4}},vertexShader:MX,fragmentShader:EX}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new nn;y.setAttribute("position",new Ln(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new si(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=m3,this.render=function(C,T,D){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||C.length===0)return;const I=n.getRenderTarget(),B=n.getActiveCubeFace(),W=n.getActiveMipmapLevel(),G=n.state;G.setBlending(pc),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);for(let L=0,P=C.length;L<P;L++){const q=C[L],z=q.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;i.copy(z.mapSize);const ne=z.getFrameExtents();if(i.multiply(ne),s.copy(z.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/ne.x),i.x=s.x*ne.x,z.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/ne.y),i.y=s.y*ne.y,z.mapSize.y=s.y)),z.map===null&&!z.isPointLightShadow&&this.type===em&&(z.map=new mo(i.x,i.y),z.map.texture.name=q.name+".shadowMap",z.mapPass=new mo(i.x,i.y),z.camera.updateProjectionMatrix()),z.map===null){const le={minFilter:hi,magFilter:hi,format:ia};z.map=new mo(i.x,i.y,le),z.map.texture.name=q.name+".shadowMap",z.camera.updateProjectionMatrix()}n.setRenderTarget(z.map),n.clear();const re=z.getViewportCount();for(let le=0;le<re;le++){const F=z.getViewport(le);o.set(s.x*F.x,s.y*F.y,s.x*F.z,s.y*F.w),G.viewport(o),z.updateMatrices(q,le),r=z.getFrustum(),A(T,D,z.camera,q,this.type)}!z.isPointLightShadow&&this.type===em&&w(z,D),z.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(I,B,W)};function w(C,T){const D=e.update(g);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(T,null,D,p,g,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(T,null,D,m,g,null)}function _(C,T,D,I,B,W){let G=null;const L=D.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(L!==void 0?G=L:G=D.isPointLight===!0?l:a,n.localClippingEnabled&&T.clipShadows===!0&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0){const P=G.uuid,q=T.uuid;let z=u[P];z===void 0&&(z={},u[P]=z);let ne=z[q];ne===void 0&&(ne=G.clone(),z[q]=ne),G=ne}return G.visible=T.visible,G.wireframe=T.wireframe,W===em?G.side=T.shadowSide!==null?T.shadowSide:T.side:G.side=T.shadowSide!==null?T.shadowSide:h[T.side],G.alphaMap=T.alphaMap,G.alphaTest=T.alphaTest,G.clipShadows=T.clipShadows,G.clippingPlanes=T.clippingPlanes,G.clipIntersection=T.clipIntersection,G.displacementMap=T.displacementMap,G.displacementScale=T.displacementScale,G.displacementBias=T.displacementBias,G.wireframeLinewidth=T.wireframeLinewidth,G.linewidth=T.linewidth,D.isPointLight===!0&&G.isMeshDistanceMaterial===!0&&(G.referencePosition.setFromMatrixPosition(D.matrixWorld),G.nearDistance=I,G.farDistance=B),G}function A(C,T,D,I,B){if(C.visible===!1)return;if(C.layers.test(T.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&B===em)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,C.matrixWorld);const L=e.update(C),P=C.material;if(Array.isArray(P)){const q=L.groups;for(let z=0,ne=q.length;z<ne;z++){const re=q[z],le=P[re.materialIndex];if(le&&le.visible){const F=_(C,le,I,D.near,D.far,B);n.renderBufferDirect(D,null,L,F,C,re)}}}else if(P.visible){const q=_(C,P,I,D.near,D.far,B);n.renderBufferDirect(D,null,L,q,C,null)}}const G=C.children;for(let L=0,P=G.length;L<P;L++)A(G[L],T,D,I,B)}}function CX(n,e,t){const r=t.isWebGL2;function i(){let fe=!1;const Qe=new or;let Je=null;const yt=new or(0,0,0,0);return{setMask:function(_t){Je!==_t&&!fe&&(n.colorMask(_t,_t,_t,_t),Je=_t)},setLocked:function(_t){fe=_t},setClear:function(_t,St,xt,Lt,At){At===!0&&(_t*=Lt,St*=Lt,xt*=Lt),Qe.set(_t,St,xt,Lt),yt.equals(Qe)===!1&&(n.clearColor(_t,St,xt,Lt),yt.copy(Qe))},reset:function(){fe=!1,Je=null,yt.set(-1,0,0,0)}}}function s(){let fe=!1,Qe=null,Je=null,yt=null;return{setTest:function(_t){_t?ue(2929):j(2929)},setMask:function(_t){Qe!==_t&&!fe&&(n.depthMask(_t),Qe=_t)},setFunc:function(_t){if(Je!==_t){if(_t)switch(_t){case LI:n.depthFunc(512);break;case RI:n.depthFunc(519);break;case PI:n.depthFunc(513);break;case l2:n.depthFunc(515);break;case BI:n.depthFunc(514);break;case kI:n.depthFunc(518);break;case II:n.depthFunc(516);break;case NI:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Je=_t}},setLocked:function(_t){fe=_t},setClear:function(_t){yt!==_t&&(n.clearDepth(_t),yt=_t)},reset:function(){fe=!1,Qe=null,Je=null,yt=null}}}function o(){let fe=!1,Qe=null,Je=null,yt=null,_t=null,St=null,xt=null,Lt=null,At=null;return{setTest:function(pt){fe||(pt?ue(2960):j(2960))},setMask:function(pt){Qe!==pt&&!fe&&(n.stencilMask(pt),Qe=pt)},setFunc:function(pt,Ft,Dt){(Je!==pt||yt!==Ft||_t!==Dt)&&(n.stencilFunc(pt,Ft,Dt),Je=pt,yt=Ft,_t=Dt)},setOp:function(pt,Ft,Dt){(St!==pt||xt!==Ft||Lt!==Dt)&&(n.stencilOp(pt,Ft,Dt),St=pt,xt=Ft,Lt=Dt)},setLocked:function(pt){fe=pt},setClear:function(pt){At!==pt&&(n.clearStencil(pt),At=pt)},reset:function(){fe=!1,Qe=null,Je=null,yt=null,_t=null,St=null,xt=null,Lt=null,At=null}}}const a=new i,l=new s,u=new o;let c={},h={},p=new WeakMap,m=[],y=null,g=!1,x=null,w=null,_=null,A=null,C=null,T=null,D=null,I=!1,B=null,W=null,G=null,L=null,P=null;const q=n.getParameter(35661);let z=!1,ne=0;const re=n.getParameter(7938);re.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(re)[1]),z=ne>=1):re.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(re)[1]),z=ne>=2);let le=null,F={};const X=n.getParameter(3088),ie=n.getParameter(2978),ve=new or().fromArray(X),N=new or().fromArray(ie);function V(fe,Qe,Je){const yt=new Uint8Array(4),_t=n.createTexture();n.bindTexture(fe,_t),n.texParameteri(fe,10241,9728),n.texParameteri(fe,10240,9728);for(let St=0;St<Je;St++)n.texImage2D(Qe+St,0,6408,1,1,0,6408,5121,yt);return _t}const Q={};Q[3553]=V(3553,3553,1),Q[34067]=V(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ue(2929),l.setFunc(l2),Ge(!1),be(MS),ue(2884),xe(pc);function ue(fe){c[fe]!==!0&&(n.enable(fe),c[fe]=!0)}function j(fe){c[fe]!==!1&&(n.disable(fe),c[fe]=!1)}function we(fe,Qe){return h[fe]!==Qe?(n.bindFramebuffer(fe,Qe),h[fe]=Qe,r&&(fe===36009&&(h[36160]=Qe),fe===36160&&(h[36009]=Qe)),!0):!1}function me(fe,Qe){let Je=m,yt=!1;if(fe)if(Je=p.get(Qe),Je===void 0&&(Je=[],p.set(Qe,Je)),fe.isWebGLMultipleRenderTargets){const _t=fe.texture;if(Je.length!==_t.length||Je[0]!==36064){for(let St=0,xt=_t.length;St<xt;St++)Je[St]=36064+St;Je.length=_t.length,yt=!0}}else Je[0]!==36064&&(Je[0]=36064,yt=!0);else Je[0]!==1029&&(Je[0]=1029,yt=!0);yt&&(t.isWebGL2?n.drawBuffers(Je):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Je))}function Ae(fe){return y!==fe?(n.useProgram(fe),y=fe,!0):!1}const Te={[Yh]:32774,[yI]:32778,[xI]:32779};if(r)Te[LS]=32775,Te[RS]=32776;else{const fe=e.get("EXT_blend_minmax");fe!==null&&(Te[LS]=fe.MIN_EXT,Te[RS]=fe.MAX_EXT)}const De={[wI]:0,[_I]:1,[bI]:768,[y3]:770,[TI]:776,[EI]:774,[AI]:772,[SI]:769,[x3]:771,[CI]:775,[MI]:773};function xe(fe,Qe,Je,yt,_t,St,xt,Lt){if(fe===pc){g===!0&&(j(3042),g=!1);return}if(g===!1&&(ue(3042),g=!0),fe!==vI){if(fe!==x||Lt!==I){if((w!==Yh||C!==Yh)&&(n.blendEquation(32774),w=Yh,C=Yh),Lt)switch(fe){case ud:n.blendFuncSeparate(1,771,1,771);break;case ES:n.blendFunc(1,1);break;case CS:n.blendFuncSeparate(0,769,0,1);break;case TS:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}else switch(fe){case ud:n.blendFuncSeparate(770,771,1,771);break;case ES:n.blendFunc(770,1);break;case CS:n.blendFuncSeparate(0,769,0,1);break;case TS:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}_=null,A=null,T=null,D=null,x=fe,I=Lt}return}_t=_t||Qe,St=St||Je,xt=xt||yt,(Qe!==w||_t!==C)&&(n.blendEquationSeparate(Te[Qe],Te[_t]),w=Qe,C=_t),(Je!==_||yt!==A||St!==T||xt!==D)&&(n.blendFuncSeparate(De[Je],De[yt],De[St],De[xt]),_=Je,A=yt,T=St,D=xt),x=fe,I=null}function Me(fe,Qe){fe.side===Jf?j(2884):ue(2884);let Je=fe.side===Oo;Qe&&(Je=!Je),Ge(Je),fe.blending===ud&&fe.transparent===!1?xe(pc):xe(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.premultipliedAlpha),l.setFunc(fe.depthFunc),l.setTest(fe.depthTest),l.setMask(fe.depthWrite),a.setMask(fe.colorWrite);const yt=fe.stencilWrite;u.setTest(yt),yt&&(u.setMask(fe.stencilWriteMask),u.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),u.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),$e(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?ue(32926):j(32926)}function Ge(fe){B!==fe&&(fe?n.frontFace(2304):n.frontFace(2305),B=fe)}function be(fe){fe!==mI?(ue(2884),fe!==W&&(fe===MS?n.cullFace(1029):fe===gI?n.cullFace(1028):n.cullFace(1032))):j(2884),W=fe}function oe(fe){fe!==G&&(z&&n.lineWidth(fe),G=fe)}function $e(fe,Qe,Je){fe?(ue(32823),(L!==Qe||P!==Je)&&(n.polygonOffset(Qe,Je),L=Qe,P=Je)):j(32823)}function Ke(fe){fe?ue(3089):j(3089)}function je(fe){fe===void 0&&(fe=33984+q-1),le!==fe&&(n.activeTexture(fe),le=fe)}function et(fe,Qe){le===null&&je();let Je=F[le];Je===void 0&&(Je={type:void 0,texture:void 0},F[le]=Je),(Je.type!==fe||Je.texture!==Qe)&&(n.bindTexture(fe,Qe||Q[fe]),Je.type=fe,Je.texture=Qe)}function ct(){const fe=F[le];fe!==void 0&&fe.type!==void 0&&(n.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function ae(){try{n.compressedTexImage2D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function ee(){try{n.texSubImage2D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Se(){try{n.texSubImage3D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function He(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function rt(){try{n.texStorage2D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function ft(){try{n.texStorage3D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function gt(){try{n.texImage2D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Pe(){try{n.texImage3D.apply(n,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Et(fe){ve.equals(fe)===!1&&(n.scissor(fe.x,fe.y,fe.z,fe.w),ve.copy(fe))}function it(fe){N.equals(fe)===!1&&(n.viewport(fe.x,fe.y,fe.z,fe.w),N.copy(fe))}function _e(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},le=null,F={},h={},p=new WeakMap,m=[],y=null,g=!1,x=null,w=null,_=null,A=null,C=null,T=null,D=null,I=!1,B=null,W=null,G=null,L=null,P=null,ve.set(0,0,n.canvas.width,n.canvas.height),N.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:ue,disable:j,bindFramebuffer:we,drawBuffers:me,useProgram:Ae,setBlending:xe,setMaterial:Me,setFlipSided:Ge,setCullFace:be,setLineWidth:oe,setPolygonOffset:$e,setScissorTest:Ke,activeTexture:je,bindTexture:et,unbindTexture:ct,compressedTexImage2D:ae,texImage2D:gt,texImage3D:Pe,texStorage2D:rt,texStorage3D:ft,texSubImage2D:ee,texSubImage3D:Se,compressedTexSubImage2D:He,scissor:Et,viewport:it,reset:_e}}function TX(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let g;const x=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(ae,ee){return w?new OffscreenCanvas(ae,ee):A1("canvas")}function A(ae,ee,Se,He){let rt=1;if((ae.width>He||ae.height>He)&&(rt=He/Math.max(ae.width,ae.height)),rt<1||ee===!0)if(typeof HTMLImageElement!="undefined"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&ae instanceof ImageBitmap){const ft=ee?c2:Math.floor,gt=ft(rt*ae.width),Pe=ft(rt*ae.height);g===void 0&&(g=_(gt,Pe));const Et=Se?_(gt,Pe):g;return Et.width=gt,Et.height=Pe,Et.getContext("2d").drawImage(ae,0,0,gt,Pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ae.width+"x"+ae.height+") to ("+gt+"x"+Pe+")."),Et}else return"data"in ae&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ae.width+"x"+ae.height+")."),ae;return ae}function C(ae){return ZS(ae.width)&&ZS(ae.height)}function T(ae){return a?!1:ae.wrapS!==Ys||ae.wrapT!==Ys||ae.minFilter!==hi&&ae.minFilter!==_r}function D(ae,ee){return ae.generateMipmaps&&ee&&ae.minFilter!==hi&&ae.minFilter!==_r}function I(ae){n.generateMipmap(ae)}function B(ae,ee,Se,He,rt=!1){if(a===!1)return ee;if(ae!==null){if(n[ae]!==void 0)return n[ae];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let ft=ee;return ee===6403&&(Se===5126&&(ft=33326),Se===5131&&(ft=33325),Se===5121&&(ft=33321)),ee===33319&&(Se===5126&&(ft=33328),Se===5131&&(ft=33327),Se===5121&&(ft=33323)),ee===6408&&(Se===5126&&(ft=34836),Se===5131&&(ft=34842),Se===5121&&(ft=He===sr&&rt===!1?35907:32856),Se===32819&&(ft=32854),Se===32820&&(ft=32855)),(ft===33325||ft===33326||ft===33327||ft===33328||ft===34842||ft===34836)&&e.get("EXT_color_buffer_float"),ft}function W(ae,ee,Se){return D(ae,Se)===!0||ae.isFramebufferTexture&&ae.minFilter!==hi&&ae.minFilter!==_r?Math.log2(Math.max(ee.width,ee.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?ee.mipmaps.length:1}function G(ae){return ae===hi||ae===w1||ae===_1?9728:9729}function L(ae){const ee=ae.target;ee.removeEventListener("dispose",L),q(ee),ee.isVideoTexture&&y.delete(ee)}function P(ae){const ee=ae.target;ee.removeEventListener("dispose",P),ne(ee)}function q(ae){const ee=r.get(ae);if(ee.__webglInit===void 0)return;const Se=ae.source,He=x.get(Se);if(He){const rt=He[ee.__cacheKey];rt.usedTimes--,rt.usedTimes===0&&z(ae),Object.keys(He).length===0&&x.delete(Se)}r.remove(ae)}function z(ae){const ee=r.get(ae);n.deleteTexture(ee.__webglTexture);const Se=ae.source,He=x.get(Se);delete He[ee.__cacheKey],o.memory.textures--}function ne(ae){const ee=ae.texture,Se=r.get(ae),He=r.get(ee);if(He.__webglTexture!==void 0&&(n.deleteTexture(He.__webglTexture),o.memory.textures--),ae.depthTexture&&ae.depthTexture.dispose(),ae.isWebGLCubeRenderTarget)for(let rt=0;rt<6;rt++)n.deleteFramebuffer(Se.__webglFramebuffer[rt]),Se.__webglDepthbuffer&&n.deleteRenderbuffer(Se.__webglDepthbuffer[rt]);else n.deleteFramebuffer(Se.__webglFramebuffer),Se.__webglDepthbuffer&&n.deleteRenderbuffer(Se.__webglDepthbuffer),Se.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Se.__webglMultisampledFramebuffer),Se.__webglColorRenderbuffer&&n.deleteRenderbuffer(Se.__webglColorRenderbuffer),Se.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Se.__webglDepthRenderbuffer);if(ae.isWebGLMultipleRenderTargets)for(let rt=0,ft=ee.length;rt<ft;rt++){const gt=r.get(ee[rt]);gt.__webglTexture&&(n.deleteTexture(gt.__webglTexture),o.memory.textures--),r.remove(ee[rt])}r.remove(ee),r.remove(ae)}let re=0;function le(){re=0}function F(){const ae=re;return ae>=l&&console.warn("THREE.WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+l),re+=1,ae}function X(ae){const ee=[];return ee.push(ae.wrapS),ee.push(ae.wrapT),ee.push(ae.magFilter),ee.push(ae.minFilter),ee.push(ae.anisotropy),ee.push(ae.internalFormat),ee.push(ae.format),ee.push(ae.type),ee.push(ae.generateMipmaps),ee.push(ae.premultiplyAlpha),ee.push(ae.flipY),ee.push(ae.unpackAlignment),ee.push(ae.encoding),ee.join()}function ie(ae,ee){const Se=r.get(ae);if(ae.isVideoTexture&&et(ae),ae.isRenderTargetTexture===!1&&ae.version>0&&Se.__version!==ae.version){const He=ae.image;if(He===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(He.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{me(Se,ae,ee);return}}t.activeTexture(33984+ee),t.bindTexture(3553,Se.__webglTexture)}function ve(ae,ee){const Se=r.get(ae);if(ae.version>0&&Se.__version!==ae.version){me(Se,ae,ee);return}t.activeTexture(33984+ee),t.bindTexture(35866,Se.__webglTexture)}function N(ae,ee){const Se=r.get(ae);if(ae.version>0&&Se.__version!==ae.version){me(Se,ae,ee);return}t.activeTexture(33984+ee),t.bindTexture(32879,Se.__webglTexture)}function V(ae,ee){const Se=r.get(ae);if(ae.version>0&&Se.__version!==ae.version){Ae(Se,ae,ee);return}t.activeTexture(33984+ee),t.bindTexture(34067,Se.__webglTexture)}const Q={[ja]:10497,[Ys]:33071,[Bm]:33648},ue={[hi]:9728,[w1]:9984,[_1]:9986,[_r]:9729,[Ew]:9985,[Cc]:9987};function j(ae,ee,Se){if(Se?(n.texParameteri(ae,10242,Q[ee.wrapS]),n.texParameteri(ae,10243,Q[ee.wrapT]),(ae===32879||ae===35866)&&n.texParameteri(ae,32882,Q[ee.wrapR]),n.texParameteri(ae,10240,ue[ee.magFilter]),n.texParameteri(ae,10241,ue[ee.minFilter])):(n.texParameteri(ae,10242,33071),n.texParameteri(ae,10243,33071),(ae===32879||ae===35866)&&n.texParameteri(ae,32882,33071),(ee.wrapS!==Ys||ee.wrapT!==Ys)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(ae,10240,G(ee.magFilter)),n.texParameteri(ae,10241,G(ee.minFilter)),ee.minFilter!==hi&&ee.minFilter!==_r&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const He=e.get("EXT_texture_filter_anisotropic");if(ee.type===Wa&&e.has("OES_texture_float_linear")===!1||a===!1&&ee.type===Va&&e.has("OES_texture_half_float_linear")===!1)return;(ee.anisotropy>1||r.get(ee).__currentAnisotropy)&&(n.texParameterf(ae,He.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ee.anisotropy,i.getMaxAnisotropy())),r.get(ee).__currentAnisotropy=ee.anisotropy)}}function we(ae,ee){let Se=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,ee.addEventListener("dispose",L));const He=ee.source;let rt=x.get(He);rt===void 0&&(rt={},x.set(He,rt));const ft=X(ee);if(ft!==ae.__cacheKey){rt[ft]===void 0&&(rt[ft]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Se=!0),rt[ft].usedTimes++;const gt=rt[ae.__cacheKey];gt!==void 0&&(rt[ae.__cacheKey].usedTimes--,gt.usedTimes===0&&z(ee)),ae.__cacheKey=ft,ae.__webglTexture=rt[ft].texture}return Se}function me(ae,ee,Se){let He=3553;ee.isDataArrayTexture&&(He=35866),ee.isData3DTexture&&(He=32879);const rt=we(ae,ee),ft=ee.source;if(t.activeTexture(33984+Se),t.bindTexture(He,ae.__webglTexture),ft.version!==ft.__currentVersion||rt===!0){n.pixelStorei(37440,ee.flipY),n.pixelStorei(37441,ee.premultiplyAlpha),n.pixelStorei(3317,ee.unpackAlignment),n.pixelStorei(37443,0);const gt=T(ee)&&C(ee.image)===!1;let Pe=A(ee.image,gt,!1,c);Pe=ct(ee,Pe);const Et=C(Pe)||a,it=s.convert(ee.format,ee.encoding);let _e=s.convert(ee.type),fe=B(ee.internalFormat,it,_e,ee.encoding,ee.isVideoTexture);j(He,ee,Et);let Qe;const Je=ee.mipmaps,yt=a&&ee.isVideoTexture!==!0,_t=ae.__version===void 0,St=W(ee,Pe,Et);if(ee.isDepthTexture)fe=6402,a?ee.type===Wa?fe=36012:ee.type===W0?fe=33190:ee.type===cd?fe=35056:fe=33189:ee.type===Wa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ee.format===jf&&fe===6402&&ee.type!==km&&ee.type!==W0&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ee.type=km,_e=s.convert(ee.type)),ee.format===_d&&fe===6402&&(fe=34041,ee.type!==cd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ee.type=cd,_e=s.convert(ee.type))),yt&&_t?t.texStorage2D(3553,1,fe,Pe.width,Pe.height):t.texImage2D(3553,0,fe,Pe.width,Pe.height,0,it,_e,null);else if(ee.isDataTexture)if(Je.length>0&&Et){yt&&_t&&t.texStorage2D(3553,St,fe,Je[0].width,Je[0].height);for(let xt=0,Lt=Je.length;xt<Lt;xt++)Qe=Je[xt],yt?t.texSubImage2D(3553,xt,0,0,Qe.width,Qe.height,it,_e,Qe.data):t.texImage2D(3553,xt,fe,Qe.width,Qe.height,0,it,_e,Qe.data);ee.generateMipmaps=!1}else yt?(_t&&t.texStorage2D(3553,St,fe,Pe.width,Pe.height),t.texSubImage2D(3553,0,0,0,Pe.width,Pe.height,it,_e,Pe.data)):t.texImage2D(3553,0,fe,Pe.width,Pe.height,0,it,_e,Pe.data);else if(ee.isCompressedTexture){yt&&_t&&t.texStorage2D(3553,St,fe,Je[0].width,Je[0].height);for(let xt=0,Lt=Je.length;xt<Lt;xt++)Qe=Je[xt],ee.format!==ia?it!==null?yt?t.compressedTexSubImage2D(3553,xt,0,0,Qe.width,Qe.height,it,Qe.data):t.compressedTexImage2D(3553,xt,fe,Qe.width,Qe.height,0,Qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yt?t.texSubImage2D(3553,xt,0,0,Qe.width,Qe.height,it,_e,Qe.data):t.texImage2D(3553,xt,fe,Qe.width,Qe.height,0,it,_e,Qe.data)}else if(ee.isDataArrayTexture)yt?(_t&&t.texStorage3D(35866,St,fe,Pe.width,Pe.height,Pe.depth),t.texSubImage3D(35866,0,0,0,0,Pe.width,Pe.height,Pe.depth,it,_e,Pe.data)):t.texImage3D(35866,0,fe,Pe.width,Pe.height,Pe.depth,0,it,_e,Pe.data);else if(ee.isData3DTexture)yt?(_t&&t.texStorage3D(32879,St,fe,Pe.width,Pe.height,Pe.depth),t.texSubImage3D(32879,0,0,0,0,Pe.width,Pe.height,Pe.depth,it,_e,Pe.data)):t.texImage3D(32879,0,fe,Pe.width,Pe.height,Pe.depth,0,it,_e,Pe.data);else if(ee.isFramebufferTexture)yt&&_t?t.texStorage2D(3553,St,fe,Pe.width,Pe.height):t.texImage2D(3553,0,fe,Pe.width,Pe.height,0,it,_e,null);else if(Je.length>0&&Et){yt&&_t&&t.texStorage2D(3553,St,fe,Je[0].width,Je[0].height);for(let xt=0,Lt=Je.length;xt<Lt;xt++)Qe=Je[xt],yt?t.texSubImage2D(3553,xt,0,0,it,_e,Qe):t.texImage2D(3553,xt,fe,it,_e,Qe);ee.generateMipmaps=!1}else yt?(_t&&t.texStorage2D(3553,St,fe,Pe.width,Pe.height),t.texSubImage2D(3553,0,0,0,it,_e,Pe)):t.texImage2D(3553,0,fe,it,_e,Pe);D(ee,Et)&&I(He),ft.__currentVersion=ft.version,ee.onUpdate&&ee.onUpdate(ee)}ae.__version=ee.version}function Ae(ae,ee,Se){if(ee.image.length!==6)return;const He=we(ae,ee),rt=ee.source;if(t.activeTexture(33984+Se),t.bindTexture(34067,ae.__webglTexture),rt.version!==rt.__currentVersion||He===!0){n.pixelStorei(37440,ee.flipY),n.pixelStorei(37441,ee.premultiplyAlpha),n.pixelStorei(3317,ee.unpackAlignment),n.pixelStorei(37443,0);const ft=ee.isCompressedTexture||ee.image[0].isCompressedTexture,gt=ee.image[0]&&ee.image[0].isDataTexture,Pe=[];for(let xt=0;xt<6;xt++)!ft&&!gt?Pe[xt]=A(ee.image[xt],!1,!0,u):Pe[xt]=gt?ee.image[xt].image:ee.image[xt],Pe[xt]=ct(ee,Pe[xt]);const Et=Pe[0],it=C(Et)||a,_e=s.convert(ee.format,ee.encoding),fe=s.convert(ee.type),Qe=B(ee.internalFormat,_e,fe,ee.encoding),Je=a&&ee.isVideoTexture!==!0,yt=ae.__version===void 0;let _t=W(ee,Et,it);j(34067,ee,it);let St;if(ft){Je&&yt&&t.texStorage2D(34067,_t,Qe,Et.width,Et.height);for(let xt=0;xt<6;xt++){St=Pe[xt].mipmaps;for(let Lt=0;Lt<St.length;Lt++){const At=St[Lt];ee.format!==ia?_e!==null?Je?t.compressedTexSubImage2D(34069+xt,Lt,0,0,At.width,At.height,_e,At.data):t.compressedTexImage2D(34069+xt,Lt,Qe,At.width,At.height,0,At.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Je?t.texSubImage2D(34069+xt,Lt,0,0,At.width,At.height,_e,fe,At.data):t.texImage2D(34069+xt,Lt,Qe,At.width,At.height,0,_e,fe,At.data)}}}else{St=ee.mipmaps,Je&&yt&&(St.length>0&&_t++,t.texStorage2D(34067,_t,Qe,Pe[0].width,Pe[0].height));for(let xt=0;xt<6;xt++)if(gt){Je?t.texSubImage2D(34069+xt,0,0,0,Pe[xt].width,Pe[xt].height,_e,fe,Pe[xt].data):t.texImage2D(34069+xt,0,Qe,Pe[xt].width,Pe[xt].height,0,_e,fe,Pe[xt].data);for(let Lt=0;Lt<St.length;Lt++){const pt=St[Lt].image[xt].image;Je?t.texSubImage2D(34069+xt,Lt+1,0,0,pt.width,pt.height,_e,fe,pt.data):t.texImage2D(34069+xt,Lt+1,Qe,pt.width,pt.height,0,_e,fe,pt.data)}}else{Je?t.texSubImage2D(34069+xt,0,0,0,_e,fe,Pe[xt]):t.texImage2D(34069+xt,0,Qe,_e,fe,Pe[xt]);for(let Lt=0;Lt<St.length;Lt++){const At=St[Lt];Je?t.texSubImage2D(34069+xt,Lt+1,0,0,_e,fe,At.image[xt]):t.texImage2D(34069+xt,Lt+1,Qe,_e,fe,At.image[xt])}}}D(ee,it)&&I(34067),rt.__currentVersion=rt.version,ee.onUpdate&&ee.onUpdate(ee)}ae.__version=ee.version}function Te(ae,ee,Se,He,rt){const ft=s.convert(Se.format,Se.encoding),gt=s.convert(Se.type),Pe=B(Se.internalFormat,ft,gt,Se.encoding);r.get(ee).__hasExternalTextures||(rt===32879||rt===35866?t.texImage3D(rt,0,Pe,ee.width,ee.height,ee.depth,0,ft,gt,null):t.texImage2D(rt,0,Pe,ee.width,ee.height,0,ft,gt,null)),t.bindFramebuffer(36160,ae),je(ee)?p.framebufferTexture2DMultisampleEXT(36160,He,rt,r.get(Se).__webglTexture,0,Ke(ee)):n.framebufferTexture2D(36160,He,rt,r.get(Se).__webglTexture,0),t.bindFramebuffer(36160,null)}function De(ae,ee,Se){if(n.bindRenderbuffer(36161,ae),ee.depthBuffer&&!ee.stencilBuffer){let He=33189;if(Se||je(ee)){const rt=ee.depthTexture;rt&&rt.isDepthTexture&&(rt.type===Wa?He=36012:rt.type===W0&&(He=33190));const ft=Ke(ee);je(ee)?p.renderbufferStorageMultisampleEXT(36161,ft,He,ee.width,ee.height):n.renderbufferStorageMultisample(36161,ft,He,ee.width,ee.height)}else n.renderbufferStorage(36161,He,ee.width,ee.height);n.framebufferRenderbuffer(36160,36096,36161,ae)}else if(ee.depthBuffer&&ee.stencilBuffer){const He=Ke(ee);Se&&je(ee)===!1?n.renderbufferStorageMultisample(36161,He,35056,ee.width,ee.height):je(ee)?p.renderbufferStorageMultisampleEXT(36161,He,35056,ee.width,ee.height):n.renderbufferStorage(36161,34041,ee.width,ee.height),n.framebufferRenderbuffer(36160,33306,36161,ae)}else{const He=ee.isWebGLMultipleRenderTargets===!0?ee.texture[0]:ee.texture,rt=s.convert(He.format,He.encoding),ft=s.convert(He.type),gt=B(He.internalFormat,rt,ft,He.encoding),Pe=Ke(ee);Se&&je(ee)===!1?n.renderbufferStorageMultisample(36161,Pe,gt,ee.width,ee.height):je(ee)?p.renderbufferStorageMultisampleEXT(36161,Pe,gt,ee.width,ee.height):n.renderbufferStorage(36161,gt,ee.width,ee.height)}n.bindRenderbuffer(36161,null)}function xe(ae,ee){if(ee&&ee.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,ae),!(ee.depthTexture&&ee.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(ee.depthTexture).__webglTexture||ee.depthTexture.image.width!==ee.width||ee.depthTexture.image.height!==ee.height)&&(ee.depthTexture.image.width=ee.width,ee.depthTexture.image.height=ee.height,ee.depthTexture.needsUpdate=!0),ie(ee.depthTexture,0);const He=r.get(ee.depthTexture).__webglTexture,rt=Ke(ee);if(ee.depthTexture.format===jf)je(ee)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,He,0,rt):n.framebufferTexture2D(36160,36096,3553,He,0);else if(ee.depthTexture.format===_d)je(ee)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,He,0,rt):n.framebufferTexture2D(36160,33306,3553,He,0);else throw new Error("Unknown depthTexture format")}function Me(ae){const ee=r.get(ae),Se=ae.isWebGLCubeRenderTarget===!0;if(ae.depthTexture&&!ee.__autoAllocateDepthBuffer){if(Se)throw new Error("target.depthTexture not supported in Cube render targets");xe(ee.__webglFramebuffer,ae)}else if(Se){ee.__webglDepthbuffer=[];for(let He=0;He<6;He++)t.bindFramebuffer(36160,ee.__webglFramebuffer[He]),ee.__webglDepthbuffer[He]=n.createRenderbuffer(),De(ee.__webglDepthbuffer[He],ae,!1)}else t.bindFramebuffer(36160,ee.__webglFramebuffer),ee.__webglDepthbuffer=n.createRenderbuffer(),De(ee.__webglDepthbuffer,ae,!1);t.bindFramebuffer(36160,null)}function Ge(ae,ee,Se){const He=r.get(ae);ee!==void 0&&Te(He.__webglFramebuffer,ae,ae.texture,36064,3553),Se!==void 0&&Me(ae)}function be(ae){const ee=ae.texture,Se=r.get(ae),He=r.get(ee);ae.addEventListener("dispose",P),ae.isWebGLMultipleRenderTargets!==!0&&(He.__webglTexture===void 0&&(He.__webglTexture=n.createTexture()),He.__version=ee.version,o.memory.textures++);const rt=ae.isWebGLCubeRenderTarget===!0,ft=ae.isWebGLMultipleRenderTargets===!0,gt=C(ae)||a;if(rt){Se.__webglFramebuffer=[];for(let Pe=0;Pe<6;Pe++)Se.__webglFramebuffer[Pe]=n.createFramebuffer()}else if(Se.__webglFramebuffer=n.createFramebuffer(),ft)if(i.drawBuffers){const Pe=ae.texture;for(let Et=0,it=Pe.length;Et<it;Et++){const _e=r.get(Pe[Et]);_e.__webglTexture===void 0&&(_e.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&ae.samples>0&&je(ae)===!1){Se.__webglMultisampledFramebuffer=n.createFramebuffer(),Se.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,Se.__webglColorRenderbuffer);const Pe=s.convert(ee.format,ee.encoding),Et=s.convert(ee.type),it=B(ee.internalFormat,Pe,Et,ee.encoding),_e=Ke(ae);n.renderbufferStorageMultisample(36161,_e,it,ae.width,ae.height),t.bindFramebuffer(36160,Se.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,Se.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),ae.depthBuffer&&(Se.__webglDepthRenderbuffer=n.createRenderbuffer(),De(Se.__webglDepthRenderbuffer,ae,!0)),t.bindFramebuffer(36160,null)}if(rt){t.bindTexture(34067,He.__webglTexture),j(34067,ee,gt);for(let Pe=0;Pe<6;Pe++)Te(Se.__webglFramebuffer[Pe],ae,ee,36064,34069+Pe);D(ee,gt)&&I(34067),t.unbindTexture()}else if(ft){const Pe=ae.texture;for(let Et=0,it=Pe.length;Et<it;Et++){const _e=Pe[Et],fe=r.get(_e);t.bindTexture(3553,fe.__webglTexture),j(3553,_e,gt),Te(Se.__webglFramebuffer,ae,_e,36064+Et,3553),D(_e,gt)&&I(3553)}t.unbindTexture()}else{let Pe=3553;(ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(a?Pe=ae.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Pe,He.__webglTexture),j(Pe,ee,gt),Te(Se.__webglFramebuffer,ae,ee,36064,Pe),D(ee,gt)&&I(Pe),t.unbindTexture()}ae.depthBuffer&&Me(ae)}function oe(ae){const ee=C(ae)||a,Se=ae.isWebGLMultipleRenderTargets===!0?ae.texture:[ae.texture];for(let He=0,rt=Se.length;He<rt;He++){const ft=Se[He];if(D(ft,ee)){const gt=ae.isWebGLCubeRenderTarget?34067:3553,Pe=r.get(ft).__webglTexture;t.bindTexture(gt,Pe),I(gt),t.unbindTexture()}}}function $e(ae){if(a&&ae.samples>0&&je(ae)===!1){const ee=ae.width,Se=ae.height;let He=16384;const rt=[36064],ft=ae.stencilBuffer?33306:36096;ae.depthBuffer&&rt.push(ft);const gt=r.get(ae),Pe=gt.__ignoreDepthValues!==void 0?gt.__ignoreDepthValues:!1;Pe===!1&&(ae.depthBuffer&&(He|=256),ae.stencilBuffer&&(He|=1024)),t.bindFramebuffer(36008,gt.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,gt.__webglFramebuffer),Pe===!0&&(n.invalidateFramebuffer(36008,[ft]),n.invalidateFramebuffer(36009,[ft])),n.blitFramebuffer(0,0,ee,Se,0,0,ee,Se,He,9728),m&&n.invalidateFramebuffer(36008,rt),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,gt.__webglMultisampledFramebuffer)}}function Ke(ae){return Math.min(h,ae.samples)}function je(ae){const ee=r.get(ae);return a&&ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ee.__useRenderToTexture!==!1}function et(ae){const ee=o.render.frame;y.get(ae)!==ee&&(y.set(ae,ee),ae.update())}function ct(ae,ee){const Se=ae.encoding,He=ae.format,rt=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||ae.format===u2||Se!==ua&&(Se===sr?a===!1?e.has("EXT_sRGB")===!0&&He===ia?(ae.format=u2,ae.minFilter=_r,ae.generateMipmaps=!1):ee=ah.sRGBToLinear(ee):(He!==ia||rt!==$f)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Se)),ee}this.allocateTextureUnit=F,this.resetTextureUnits=le,this.setTexture2D=ie,this.setTexture2DArray=ve,this.setTexture3D=N,this.setTextureCube=V,this.rebindTextures=Ge,this.setupRenderTarget=be,this.updateRenderTargetMipmap=oe,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=Me,this.setupFrameBufferTexture=Te,this.useMultisampledRTT=je}function NN(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===$f)return 5121;if(s===VI)return 32819;if(s===qI)return 32820;if(s===GI)return 5120;if(s===jI)return 5122;if(s===km)return 5123;if(s===WI)return 5124;if(s===W0)return 5125;if(s===Wa)return 5126;if(s===Va)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===YI)return 6406;if(s===ia)return 6408;if(s===XI)return 6409;if(s===$I)return 6410;if(s===jf)return 6402;if(s===_d)return 34041;if(s===KI)return 6403;if(s===JI)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===u2)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===QI)return 36244;if(s===ZI)return 33319;if(s===eN)return 33320;if(s===tN)return 36249;if(s===px||s===mx||s===gx||s===vx)if(o===sr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===px)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===mx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===gx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===vx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===px)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===mx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===gx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===vx)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===PS||s===BS||s===kS||s===IS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===PS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===BS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===kS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===IS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===nN)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===NS||s===DS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===NS)return o===sr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===DS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===FS||s===OS||s===US||s===zS||s===HS||s===GS||s===jS||s===WS||s===VS||s===qS||s===YS||s===JS||s===XS||s===$S)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===FS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===OS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===US)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===zS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===HS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===GS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===jS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===WS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===VS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===qS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===YS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===JS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===XS)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===$S)return o===sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===KS)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===KS)return o===sr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===cd)return r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}class M3 extends mr{constructor(e=[]){super(),this.cameras=e}}M3.prototype.isArrayCamera=!0;class Pl extends Mn{constructor(){super(),this.type="Group"}}Pl.prototype.isGroup=!0;const LX={type:"move"};class wb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Pl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Pl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Pl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(LX))),u&&e.hand){o=!0;for(const g of e.hand.values()){const x=t.getJointPose(g,r);if(u.joints[g.jointName]===void 0){const _=new Pl;_.matrixAutoUpdate=!1,_.visible=!1,u.joints[g.jointName]=_,u.add(_)}const w=u.joints[g.jointName];x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=x.radius),w.visible=x!==null}const c=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=c.position.distanceTo(h.position),m=.02,y=.005;u.inputState.pinching&&p>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}}class E3 extends Qr{constructor(e,t,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:jf,c!==jf&&c!==_d)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===jf&&(r=km),r===void 0&&c===_d&&(r=cd),super(null,i,s,o,a,l,c,r,u),this.image={width:e,height:t},this.magFilter=a!==void 0?a:hi,this.minFilter=l!==void 0?l:hi,this.flipY=!1,this.generateMipmaps=!1}}E3.prototype.isDepthTexture=!0;class RX extends Tc{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,c=null,h=null,p=null;const m=t.getContextAttributes();let y=null,g=null;const x=[],w=new Map,_=new mr;_.layers.enable(1),_.viewport=new or;const A=new mr;A.layers.enable(2),A.viewport=new or;const C=[_,A],T=new M3;T.layers.enable(1),T.layers.enable(2);let D=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let X=x[F];return X===void 0&&(X=new wb,x[F]=X),X.getTargetRaySpace()},this.getControllerGrip=function(F){let X=x[F];return X===void 0&&(X=new wb,x[F]=X),X.getGripSpace()},this.getHand=function(F){let X=x[F];return X===void 0&&(X=new wb,x[F]=X),X.getHandSpace()};function B(F){const X=w.get(F.inputSource);X&&X.dispatchEvent({type:F.type,data:F.inputSource})}function W(){w.forEach(function(F,X){F.disconnect(X)}),w.clear(),D=null,I=null,e.setRenderTarget(y),h=null,c=null,u=null,i=null,g=null,le.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){s=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){a=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return c!==null?c:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(F){if(i=F,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",W),i.addEventListener("inputsourceschange",G),m.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const X={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,t,X),i.updateRenderState({baseLayer:h}),g=new mo(h.framebufferWidth,h.framebufferHeight,{format:ia,type:$f,encoding:e.outputEncoding})}else{let X=null,ie=null,ve=null;m.depth&&(ve=m.stencil?35056:33190,X=m.stencil?_d:jf,ie=m.stencil?cd:km);const N={colorFormat:e.outputEncoding===sr?35907:32856,depthFormat:ve,scaleFactor:s};u=new XRWebGLBinding(i,t),c=u.createProjectionLayer(N),i.updateRenderState({layers:[c]}),g=new mo(c.textureWidth,c.textureHeight,{format:ia,type:$f,depthTexture:new E3(c.textureWidth,c.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,X),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});const V=e.properties.get(g);V.__ignoreDepthValues=c.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),o=await i.requestReferenceSpace(a),le.setContext(i),le.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function G(F){const X=i.inputSources;for(let ie=0;ie<x.length;ie++)w.set(X[ie],x[ie]);for(let ie=0;ie<F.removed.length;ie++){const ve=F.removed[ie],N=w.get(ve);N&&(N.dispatchEvent({type:"disconnected",data:ve}),w.delete(ve))}for(let ie=0;ie<F.added.length;ie++){const ve=F.added[ie],N=w.get(ve);N&&N.dispatchEvent({type:"connected",data:ve})}}const L=new ce,P=new ce;function q(F,X,ie){L.setFromMatrixPosition(X.matrixWorld),P.setFromMatrixPosition(ie.matrixWorld);const ve=L.distanceTo(P),N=X.projectionMatrix.elements,V=ie.projectionMatrix.elements,Q=N[14]/(N[10]-1),ue=N[14]/(N[10]+1),j=(N[9]+1)/N[5],we=(N[9]-1)/N[5],me=(N[8]-1)/N[0],Ae=(V[8]+1)/V[0],Te=Q*me,De=Q*Ae,xe=ve/(-me+Ae),Me=xe*-me;X.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(Me),F.translateZ(xe),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();const Ge=Q+xe,be=ue+xe,oe=Te-Me,$e=De+(ve-Me),Ke=j*ue/be*Ge,je=we*ue/be*Ge;F.projectionMatrix.makePerspective(oe,$e,Ke,je,Ge,be)}function z(F,X){X===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(X.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(i===null)return;T.near=A.near=_.near=F.near,T.far=A.far=_.far=F.far,(D!==T.near||I!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),D=T.near,I=T.far);const X=F.parent,ie=T.cameras;z(T,X);for(let N=0;N<ie.length;N++)z(ie[N],X);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),F.position.copy(T.position),F.quaternion.copy(T.quaternion),F.scale.copy(T.scale),F.matrix.copy(T.matrix),F.matrixWorld.copy(T.matrixWorld);const ve=F.children;for(let N=0,V=ve.length;N<V;N++)ve[N].updateMatrixWorld(!0);ie.length===2?q(T,_,A):T.projectionMatrix.copy(_.projectionMatrix)},this.getCamera=function(){return T},this.getFoveation=function(){if(c!==null)return c.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(F){c!==null&&(c.fixedFoveation=F),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=F)};let ne=null;function re(F,X){if(l=X.getViewerPose(o),p=X,l!==null){const ve=l.views;h!==null&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let N=!1;ve.length!==T.cameras.length&&(T.cameras.length=0,N=!0);for(let V=0;V<ve.length;V++){const Q=ve[V];let ue=null;if(h!==null)ue=h.getViewport(Q);else{const we=u.getViewSubImage(c,Q);ue=we.viewport,V===0&&(e.setRenderTargetTextures(g,we.colorTexture,c.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(g))}const j=C[V];j.matrix.fromArray(Q.transform.matrix),j.projectionMatrix.fromArray(Q.projectionMatrix),j.viewport.set(ue.x,ue.y,ue.width,ue.height),V===0&&T.matrix.copy(j.matrix),N===!0&&T.cameras.push(j)}}const ie=i.inputSources;for(let ve=0;ve<x.length;ve++){const N=x[ve],V=ie[ve];N.update(V,X,o)}ne&&ne(F,X),p=null}const le=new EN;le.setAnimationLoop(re),this.setAnimationLoop=function(F){ne=F},this.dispose=function(){}}}function PX(n,e){function t(g,x){g.fogColor.value.copy(x.color),x.isFog?(g.fogNear.value=x.near,g.fogFar.value=x.far):x.isFogExp2&&(g.fogDensity.value=x.density)}function r(g,x,w,_,A){x.isMeshBasicMaterial||x.isMeshLambertMaterial?i(g,x):x.isMeshToonMaterial?(i(g,x),c(g,x)):x.isMeshPhongMaterial?(i(g,x),u(g,x)):x.isMeshStandardMaterial?(i(g,x),h(g,x),x.isMeshPhysicalMaterial&&p(g,x,A)):x.isMeshMatcapMaterial?(i(g,x),m(g,x)):x.isMeshDepthMaterial?i(g,x):x.isMeshDistanceMaterial?(i(g,x),y(g,x)):x.isMeshNormalMaterial?i(g,x):x.isLineBasicMaterial?(s(g,x),x.isLineDashedMaterial&&o(g,x)):x.isPointsMaterial?a(g,x,w,_):x.isSpriteMaterial?l(g,x):x.isShadowMaterial?(g.color.value.copy(x.color),g.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(g,x){g.opacity.value=x.opacity,x.color&&g.diffuse.value.copy(x.color),x.emissive&&g.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Oo&&(g.bumpScale.value*=-1)),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Oo&&g.normalScale.value.negate()),x.specularMap&&(g.specularMap.value=x.specularMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);const w=e.get(x).envMap;if(w&&(g.envMap.value=w,g.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=x.reflectivity,g.ior.value=x.ior,g.refractionRatio.value=x.refractionRatio),x.lightMap){g.lightMap.value=x.lightMap;const C=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=x.lightMapIntensity*C}x.aoMap&&(g.aoMap.value=x.aoMap,g.aoMapIntensity.value=x.aoMapIntensity);let _;x.map?_=x.map:x.specularMap?_=x.specularMap:x.displacementMap?_=x.displacementMap:x.normalMap?_=x.normalMap:x.bumpMap?_=x.bumpMap:x.roughnessMap?_=x.roughnessMap:x.metalnessMap?_=x.metalnessMap:x.alphaMap?_=x.alphaMap:x.emissiveMap?_=x.emissiveMap:x.clearcoatMap?_=x.clearcoatMap:x.clearcoatNormalMap?_=x.clearcoatNormalMap:x.clearcoatRoughnessMap?_=x.clearcoatRoughnessMap:x.specularIntensityMap?_=x.specularIntensityMap:x.specularColorMap?_=x.specularColorMap:x.transmissionMap?_=x.transmissionMap:x.thicknessMap?_=x.thicknessMap:x.sheenColorMap?_=x.sheenColorMap:x.sheenRoughnessMap&&(_=x.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix));let A;x.aoMap?A=x.aoMap:x.lightMap&&(A=x.lightMap),A!==void 0&&(A.isWebGLRenderTarget&&(A=A.texture),A.matrixAutoUpdate===!0&&A.updateMatrix(),g.uv2Transform.value.copy(A.matrix))}function s(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity}function o(g,x){g.dashSize.value=x.dashSize,g.totalSize.value=x.dashSize+x.gapSize,g.scale.value=x.scale}function a(g,x,w,_){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.size.value=x.size*w,g.scale.value=_*.5,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let A;x.map?A=x.map:x.alphaMap&&(A=x.alphaMap),A!==void 0&&(A.matrixAutoUpdate===!0&&A.updateMatrix(),g.uvTransform.value.copy(A.matrix))}function l(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.rotation.value=x.rotation,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let w;x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix))}function u(g,x){g.specular.value.copy(x.specular),g.shininess.value=Math.max(x.shininess,1e-4)}function c(g,x){x.gradientMap&&(g.gradientMap.value=x.gradientMap)}function h(g,x){g.roughness.value=x.roughness,g.metalness.value=x.metalness,x.roughnessMap&&(g.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(g.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(g.envMapIntensity.value=x.envMapIntensity)}function p(g,x,w){g.ior.value=x.ior,x.sheen>0&&(g.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),g.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(g.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(g.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(g.clearcoat.value=x.clearcoat,g.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(g.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),g.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Oo&&g.clearcoatNormalScale.value.negate())),x.transmission>0&&(g.transmission.value=x.transmission,g.transmissionSamplerMap.value=w.texture,g.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(g.transmissionMap.value=x.transmissionMap),g.thickness.value=x.thickness,x.thicknessMap&&(g.thicknessMap.value=x.thicknessMap),g.attenuationDistance.value=x.attenuationDistance,g.attenuationColor.value.copy(x.attenuationColor)),g.specularIntensity.value=x.specularIntensity,g.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(g.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(g.specularColorMap.value=x.specularColorMap)}function m(g,x){x.matcap&&(g.matcap.value=x.matcap)}function y(g,x){g.referencePosition.value.copy(x.referencePosition),g.nearDistance.value=x.nearDistance,g.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function BX(){const n=A1("canvas");return n.style.display="block",n}function ar(n={}){const e=n.canvas!==void 0?n.canvas:BX(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let c;n.context!==void 0?c=t.getContextAttributes().alpha:c=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ua,this.physicallyCorrectLights=!1,this.toneMapping=Il,this.toneMappingExposure=1;const g=this;let x=!1,w=0,_=0,A=null,C=-1,T=null;const D=new or,I=new or;let B=null,W=e.width,G=e.height,L=1,P=null,q=null;const z=new or(0,0,W,G),ne=new or(0,0,W,G);let re=!1;const le=new $1;let F=!1,X=!1,ie=null;const ve=new Ot,N=new nt,V=new ce,Q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ue(){return A===null?L:1}let j=t;function we(de,Oe){for(let qe=0;qe<de.length;qe++){const We=de[qe],ot=e.getContext(We,Oe);if(ot!==null)return ot}return null}try{const de={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Aw}`),e.addEventListener("webglcontextlost",fe,!1),e.addEventListener("webglcontextrestored",Qe,!1),j===null){const Oe=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&Oe.shift(),j=we(Oe,de),j===null)throw we(Oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}j.getShaderPrecisionFormat===void 0&&(j.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(de){throw console.error("THREE.WebGLRenderer: "+de.message),de}let me,Ae,Te,De,xe,Me,Ge,be,oe,$e,Ke,je,et,ct,ae,ee,Se,He,rt,ft,gt,Pe,Et;function it(){me=new KY(j),Ae=new VY(j,me,n),me.init(Ae),Pe=new NN(j,me,Ae),Te=new CX(j,me,Ae),De=new eJ,xe=new gX,Me=new TX(j,me,Te,xe,Ae,Pe,De),Ge=new YY(g),be=new $Y(g),oe=new pV(j,Ae),Et=new jY(j,me,oe,Ae),$e=new QY(j,oe,De,Et),Ke=new iJ(j,$e,oe,De),rt=new rJ(j,Ae,Me),ee=new qY(xe),je=new mX(g,Ge,be,me,Ae,Et,ee),et=new PX(g,xe),ct=new yX,ae=new AX(me,Ae),He=new GY(g,Ge,Te,Ke,c,o),Se=new IN(g,Ke,Ae),ft=new WY(j,me,De,Ae),gt=new ZY(j,me,De,Ae),De.programs=je.programs,g.capabilities=Ae,g.extensions=me,g.properties=xe,g.renderLists=ct,g.shadowMap=Se,g.state=Te,g.info=De}it();const _e=new RX(g,j);this.xr=_e,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const de=me.get("WEBGL_lose_context");de&&de.loseContext()},this.forceContextRestore=function(){const de=me.get("WEBGL_lose_context");de&&de.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(de){de!==void 0&&(L=de,this.setSize(W,G,!1))},this.getSize=function(de){return de.set(W,G)},this.setSize=function(de,Oe,qe){if(_e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=de,G=Oe,e.width=Math.floor(de*L),e.height=Math.floor(Oe*L),qe!==!1&&(e.style.width=de+"px",e.style.height=Oe+"px"),this.setViewport(0,0,de,Oe)},this.getDrawingBufferSize=function(de){return de.set(W*L,G*L).floor()},this.setDrawingBufferSize=function(de,Oe,qe){W=de,G=Oe,L=qe,e.width=Math.floor(de*qe),e.height=Math.floor(Oe*qe),this.setViewport(0,0,de,Oe)},this.getCurrentViewport=function(de){return de.copy(D)},this.getViewport=function(de){return de.copy(z)},this.setViewport=function(de,Oe,qe,We){de.isVector4?z.set(de.x,de.y,de.z,de.w):z.set(de,Oe,qe,We),Te.viewport(D.copy(z).multiplyScalar(L).floor())},this.getScissor=function(de){return de.copy(ne)},this.setScissor=function(de,Oe,qe,We){de.isVector4?ne.set(de.x,de.y,de.z,de.w):ne.set(de,Oe,qe,We),Te.scissor(I.copy(ne).multiplyScalar(L).floor())},this.getScissorTest=function(){return re},this.setScissorTest=function(de){Te.setScissorTest(re=de)},this.setOpaqueSort=function(de){P=de},this.setTransparentSort=function(de){q=de},this.getClearColor=function(de){return de.copy(He.getClearColor())},this.setClearColor=function(){He.setClearColor.apply(He,arguments)},this.getClearAlpha=function(){return He.getClearAlpha()},this.setClearAlpha=function(){He.setClearAlpha.apply(He,arguments)},this.clear=function(de=!0,Oe=!0,qe=!0){let We=0;de&&(We|=16384),Oe&&(We|=256),qe&&(We|=1024),j.clear(We)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",fe,!1),e.removeEventListener("webglcontextrestored",Qe,!1),ct.dispose(),ae.dispose(),xe.dispose(),Ge.dispose(),be.dispose(),Ke.dispose(),Et.dispose(),je.dispose(),_e.dispose(),_e.removeEventListener("sessionstart",Lt),_e.removeEventListener("sessionend",At),ie&&(ie.dispose(),ie=null),pt.stop()};function fe(de){de.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Qe(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const de=De.autoReset,Oe=Se.enabled,qe=Se.autoUpdate,We=Se.needsUpdate,ot=Se.type;it(),De.autoReset=de,Se.enabled=Oe,Se.autoUpdate=qe,Se.needsUpdate=We,Se.type=ot}function Je(de){const Oe=de.target;Oe.removeEventListener("dispose",Je),yt(Oe)}function yt(de){_t(de),xe.remove(de)}function _t(de){const Oe=xe.get(de).programs;Oe!==void 0&&(Oe.forEach(function(qe){je.releaseProgram(qe)}),de.isShaderMaterial&&je.releaseShaderCache(de))}this.renderBufferDirect=function(de,Oe,qe,We,ot,qt){Oe===null&&(Oe=Q);const Jt=ot.isMesh&&ot.matrixWorld.determinant()<0,en=Kt(de,Oe,qe,We,ot);Te.setMaterial(We,Jt);let Qt=qe.index;const _n=qe.attributes.position;if(Qt===null){if(_n===void 0||_n.count===0)return}else if(Qt.count===0)return;let an=1;We.wireframe===!0&&(Qt=$e.getWireframeAttribute(qe),an=2),Et.setup(ot,We,en,qe,Qt);let cn,Vn=ft;Qt!==null&&(cn=oe.get(Qt),Vn=gt,Vn.setIndex(cn));const Rs=Qt!==null?Qt.count:_n.count,to=qe.drawRange.start*an,no=qe.drawRange.count*an,Ci=qt!==null?qt.start*an:0,Rn=qt!==null?qt.count*an:1/0,_o=Math.max(to,Ci),tr=Math.min(Rs,to+no,Ci+Rn)-1,oi=Math.max(0,tr-_o+1);if(oi!==0){if(ot.isMesh)We.wireframe===!0?(Te.setLineWidth(We.wireframeLinewidth*ue()),Vn.setMode(1)):Vn.setMode(4);else if(ot.isLine){let ps=We.linewidth;ps===void 0&&(ps=1),Te.setLineWidth(ps*ue()),ot.isLineSegments?Vn.setMode(1):ot.isLineLoop?Vn.setMode(2):Vn.setMode(3)}else ot.isPoints?Vn.setMode(0):ot.isSprite&&Vn.setMode(4);if(ot.isInstancedMesh)Vn.renderInstances(_o,oi,ot.count);else if(qe.isInstancedBufferGeometry){const ps=Math.min(qe.instanceCount,qe._maxInstanceCount);Vn.renderInstances(_o,oi,ps)}else Vn.render(_o,oi)}},this.compile=function(de,Oe){p=ae.get(de),p.init(),y.push(p),de.traverseVisible(function(qe){qe.isLight&&qe.layers.test(Oe.layers)&&(p.pushLight(qe),qe.castShadow&&p.pushShadow(qe))}),p.setupLights(g.physicallyCorrectLights),de.traverse(function(qe){const We=qe.material;if(We)if(Array.isArray(We))for(let ot=0;ot<We.length;ot++){const qt=We[ot];ds(qt,de,qe)}else ds(We,de,qe)}),y.pop(),p=null};let St=null;function xt(de){St&&St(de)}function Lt(){pt.stop()}function At(){pt.start()}const pt=new EN;pt.setAnimationLoop(xt),typeof self!="undefined"&&pt.setContext(self),this.setAnimationLoop=function(de){St=de,_e.setAnimationLoop(de),de===null?pt.stop():pt.start()},_e.addEventListener("sessionstart",Lt),_e.addEventListener("sessionend",At),this.render=function(de,Oe){if(Oe!==void 0&&Oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;de.autoUpdate===!0&&de.updateMatrixWorld(),Oe.parent===null&&Oe.updateMatrixWorld(),_e.enabled===!0&&_e.isPresenting===!0&&(_e.cameraAutoUpdate===!0&&_e.updateCamera(Oe),Oe=_e.getCamera()),de.isScene===!0&&de.onBeforeRender(g,de,Oe,A),p=ae.get(de,y.length),p.init(),y.push(p),ve.multiplyMatrices(Oe.projectionMatrix,Oe.matrixWorldInverse),le.setFromProjectionMatrix(ve),X=this.localClippingEnabled,F=ee.init(this.clippingPlanes,X,Oe),h=ct.get(de,m.length),h.init(),m.push(h),Ft(de,Oe,0,g.sortObjects),h.finish(),g.sortObjects===!0&&h.sort(P,q),F===!0&&ee.beginShadows();const qe=p.state.shadowsArray;if(Se.render(qe,de,Oe),F===!0&&ee.endShadows(),this.info.autoReset===!0&&this.info.reset(),He.render(h,de),p.setupLights(g.physicallyCorrectLights),Oe.isArrayCamera){const We=Oe.cameras;for(let ot=0,qt=We.length;ot<qt;ot++){const Jt=We[ot];Dt(h,de,Jt,Jt.viewport)}}else Dt(h,de,Oe);A!==null&&(Me.updateMultisampleRenderTarget(A),Me.updateRenderTargetMipmap(A)),de.isScene===!0&&de.onAfterRender(g,de,Oe),Et.resetDefaultState(),C=-1,T=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function Ft(de,Oe,qe,We){if(de.visible===!1)return;if(de.layers.test(Oe.layers)){if(de.isGroup)qe=de.renderOrder;else if(de.isLOD)de.autoUpdate===!0&&de.update(Oe);else if(de.isLight)p.pushLight(de),de.castShadow&&p.pushShadow(de);else if(de.isSprite){if(!de.frustumCulled||le.intersectsSprite(de)){We&&V.setFromMatrixPosition(de.matrixWorld).applyMatrix4(ve);const Jt=Ke.update(de),en=de.material;en.visible&&h.push(de,Jt,en,qe,V.z,null)}}else if((de.isMesh||de.isLine||de.isPoints)&&(de.isSkinnedMesh&&de.skeleton.frame!==De.render.frame&&(de.skeleton.update(),de.skeleton.frame=De.render.frame),!de.frustumCulled||le.intersectsObject(de))){We&&V.setFromMatrixPosition(de.matrixWorld).applyMatrix4(ve);const Jt=Ke.update(de),en=de.material;if(Array.isArray(en)){const Qt=Jt.groups;for(let _n=0,an=Qt.length;_n<an;_n++){const cn=Qt[_n],Vn=en[cn.materialIndex];Vn&&Vn.visible&&h.push(de,Jt,Vn,qe,V.z,cn)}}else en.visible&&h.push(de,Jt,en,qe,V.z,null)}}const qt=de.children;for(let Jt=0,en=qt.length;Jt<en;Jt++)Ft(qt[Jt],Oe,qe,We)}function Dt(de,Oe,qe,We){const ot=de.opaque,qt=de.transmissive,Jt=de.transparent;p.setupLightsView(qe),qt.length>0&&mn(ot,Oe,qe),We&&Te.viewport(D.copy(We)),ot.length>0&&Ts(ot,Oe,qe),qt.length>0&&Ts(qt,Oe,qe),Jt.length>0&&Ts(Jt,Oe,qe),Te.buffers.depth.setTest(!0),Te.buffers.depth.setMask(!0),Te.buffers.color.setMask(!0),Te.setPolygonOffset(!1)}function mn(de,Oe,qe){const We=Ae.isWebGL2;ie===null&&(ie=new mo(1,1,{generateMipmaps:!0,type:Pe.convert(Va)!==null?Va:$f,minFilter:Cc,samples:We&&s===!0?4:0})),g.getDrawingBufferSize(N),We?ie.setSize(N.x,N.y):ie.setSize(c2(N.x),c2(N.y));const ot=g.getRenderTarget();g.setRenderTarget(ie),g.clear();const qt=g.toneMapping;g.toneMapping=Il,Ts(de,Oe,qe),g.toneMapping=qt,Me.updateMultisampleRenderTarget(ie),Me.updateRenderTargetMipmap(ie),g.setRenderTarget(ot)}function Ts(de,Oe,qe){const We=Oe.isScene===!0?Oe.overrideMaterial:null;for(let ot=0,qt=de.length;ot<qt;ot++){const Jt=de[ot],en=Jt.object,Qt=Jt.geometry,_n=We===null?Jt.material:We,an=Jt.group;en.layers.test(qe.layers)&&On(en,Oe,qe,Qt,_n,an)}}function On(de,Oe,qe,We,ot,qt){de.onBeforeRender(g,Oe,qe,We,ot,qt),de.modelViewMatrix.multiplyMatrices(qe.matrixWorldInverse,de.matrixWorld),de.normalMatrix.getNormalMatrix(de.modelViewMatrix),ot.onBeforeRender(g,Oe,qe,We,de,qt),ot.transparent===!0&&ot.side===Jf?(ot.side=Oo,ot.needsUpdate=!0,g.renderBufferDirect(qe,Oe,We,ot,de,qt),ot.side=Yf,ot.needsUpdate=!0,g.renderBufferDirect(qe,Oe,We,ot,de,qt),ot.side=Jf):g.renderBufferDirect(qe,Oe,We,ot,de,qt),de.onAfterRender(g,Oe,qe,We,ot,qt)}function ds(de,Oe,qe){Oe.isScene!==!0&&(Oe=Q);const We=xe.get(de),ot=p.state.lights,qt=p.state.shadowsArray,Jt=ot.state.version,en=je.getParameters(de,ot.state,qt,Oe,qe),Qt=je.getProgramCacheKey(en);let _n=We.programs;We.environment=de.isMeshStandardMaterial?Oe.environment:null,We.fog=Oe.fog,We.envMap=(de.isMeshStandardMaterial?be:Ge).get(de.envMap||We.environment),_n===void 0&&(de.addEventListener("dispose",Je),_n=new Map,We.programs=_n);let an=_n.get(Qt);if(an!==void 0){if(We.currentProgram===an&&We.lightsStateVersion===Jt)return Ls(de,en),an}else en.uniforms=je.getUniforms(de),de.onBuild(qe,en,g),de.onBeforeCompile(en,g),an=je.acquireProgram(en,Qt),_n.set(Qt,an),We.uniforms=en.uniforms;const cn=We.uniforms;(!de.isShaderMaterial&&!de.isRawShaderMaterial||de.clipping===!0)&&(cn.clippingPlanes=ee.uniform),Ls(de,en),We.needsLights=wo(de),We.lightsStateVersion=Jt,We.needsLights&&(cn.ambientLightColor.value=ot.state.ambient,cn.lightProbe.value=ot.state.probe,cn.directionalLights.value=ot.state.directional,cn.directionalLightShadows.value=ot.state.directionalShadow,cn.spotLights.value=ot.state.spot,cn.spotLightShadows.value=ot.state.spotShadow,cn.rectAreaLights.value=ot.state.rectArea,cn.ltc_1.value=ot.state.rectAreaLTC1,cn.ltc_2.value=ot.state.rectAreaLTC2,cn.pointLights.value=ot.state.point,cn.pointLightShadows.value=ot.state.pointShadow,cn.hemisphereLights.value=ot.state.hemi,cn.directionalShadowMap.value=ot.state.directionalShadowMap,cn.directionalShadowMatrix.value=ot.state.directionalShadowMatrix,cn.spotShadowMap.value=ot.state.spotShadowMap,cn.spotShadowMatrix.value=ot.state.spotShadowMatrix,cn.pointShadowMap.value=ot.state.pointShadowMap,cn.pointShadowMatrix.value=ot.state.pointShadowMatrix);const Vn=an.getUniforms(),Rs=Wf.seqWithValue(Vn.seq,cn);return We.currentProgram=an,We.uniformsList=Rs,an}function Ls(de,Oe){const qe=xe.get(de);qe.outputEncoding=Oe.outputEncoding,qe.instancing=Oe.instancing,qe.skinning=Oe.skinning,qe.morphTargets=Oe.morphTargets,qe.morphNormals=Oe.morphNormals,qe.morphColors=Oe.morphColors,qe.morphTargetsCount=Oe.morphTargetsCount,qe.numClippingPlanes=Oe.numClippingPlanes,qe.numIntersection=Oe.numClipIntersection,qe.vertexAlphas=Oe.vertexAlphas,qe.vertexTangents=Oe.vertexTangents,qe.toneMapping=Oe.toneMapping}function Kt(de,Oe,qe,We,ot){Oe.isScene!==!0&&(Oe=Q),Me.resetTextureUnits();const qt=Oe.fog,Jt=We.isMeshStandardMaterial?Oe.environment:null,en=A===null?g.outputEncoding:A.isXRRenderTarget===!0?A.texture.encoding:ua,Qt=(We.isMeshStandardMaterial?be:Ge).get(We.envMap||Jt),_n=We.vertexColors===!0&&!!qe.attributes.color&&qe.attributes.color.itemSize===4,an=!!We.normalMap&&!!qe.attributes.tangent,cn=!!qe.morphAttributes.position,Vn=!!qe.morphAttributes.normal,Rs=!!qe.morphAttributes.color,to=We.toneMapped?g.toneMapping:Il,no=qe.morphAttributes.position||qe.morphAttributes.normal||qe.morphAttributes.color,Ci=no!==void 0?no.length:0,Rn=xe.get(We),_o=p.state.lights;if(F===!0&&(X===!0||de!==T)){const fn=de===T&&We.id===C;ee.setState(We,de,fn)}let tr=!1;We.version===Rn.__version?(Rn.needsLights&&Rn.lightsStateVersion!==_o.state.version||Rn.outputEncoding!==en||ot.isInstancedMesh&&Rn.instancing===!1||!ot.isInstancedMesh&&Rn.instancing===!0||ot.isSkinnedMesh&&Rn.skinning===!1||!ot.isSkinnedMesh&&Rn.skinning===!0||Rn.envMap!==Qt||We.fog&&Rn.fog!==qt||Rn.numClippingPlanes!==void 0&&(Rn.numClippingPlanes!==ee.numPlanes||Rn.numIntersection!==ee.numIntersection)||Rn.vertexAlphas!==_n||Rn.vertexTangents!==an||Rn.morphTargets!==cn||Rn.morphNormals!==Vn||Rn.morphColors!==Rs||Rn.toneMapping!==to||Ae.isWebGL2===!0&&Rn.morphTargetsCount!==Ci)&&(tr=!0):(tr=!0,Rn.__version=We.version);let oi=Rn.currentProgram;tr===!0&&(oi=ds(We,Oe,ot));let ps=!1,tl=!1,Go=!1;const vr=oi.getUniforms(),Ti=Rn.uniforms;if(Te.useProgram(oi.program)&&(ps=!0,tl=!0,Go=!0),We.id!==C&&(C=We.id,tl=!0),ps||T!==de){if(vr.setValue(j,"projectionMatrix",de.projectionMatrix),Ae.logarithmicDepthBuffer&&vr.setValue(j,"logDepthBufFC",2/(Math.log(de.far+1)/Math.LN2)),T!==de&&(T=de,tl=!0,Go=!0),We.isShaderMaterial||We.isMeshPhongMaterial||We.isMeshToonMaterial||We.isMeshStandardMaterial||We.envMap){const fn=vr.map.cameraPosition;fn!==void 0&&fn.setValue(j,V.setFromMatrixPosition(de.matrixWorld))}(We.isMeshPhongMaterial||We.isMeshToonMaterial||We.isMeshLambertMaterial||We.isMeshBasicMaterial||We.isMeshStandardMaterial||We.isShaderMaterial)&&vr.setValue(j,"isOrthographic",de.isOrthographicCamera===!0),(We.isMeshPhongMaterial||We.isMeshToonMaterial||We.isMeshLambertMaterial||We.isMeshBasicMaterial||We.isMeshStandardMaterial||We.isShaderMaterial||We.isShadowMaterial||ot.isSkinnedMesh)&&vr.setValue(j,"viewMatrix",de.matrixWorldInverse)}if(ot.isSkinnedMesh){vr.setOptional(j,ot,"bindMatrix"),vr.setOptional(j,ot,"bindMatrixInverse");const fn=ot.skeleton;fn&&(Ae.floatVertexTextures?(fn.boneTexture===null&&fn.computeBoneTexture(),vr.setValue(j,"boneTexture",fn.boneTexture,Me),vr.setValue(j,"boneTextureSize",fn.boneTextureSize)):vr.setOptional(j,fn,"boneMatrices"))}const jn=qe.morphAttributes;return(jn.position!==void 0||jn.normal!==void 0||jn.color!==void 0&&Ae.isWebGL2===!0)&&rt.update(ot,qe,We,oi),(tl||Rn.receiveShadow!==ot.receiveShadow)&&(Rn.receiveShadow=ot.receiveShadow,vr.setValue(j,"receiveShadow",ot.receiveShadow)),tl&&(vr.setValue(j,"toneMappingExposure",g.toneMappingExposure),Rn.needsLights&&eo(Ti,Go),qt&&We.fog&&et.refreshFogUniforms(Ti,qt),et.refreshMaterialUniforms(Ti,We,L,G,ie),Wf.upload(j,Rn.uniformsList,Ti,Me)),We.isShaderMaterial&&We.uniformsNeedUpdate===!0&&(Wf.upload(j,Rn.uniformsList,Ti,Me),We.uniformsNeedUpdate=!1),We.isSpriteMaterial&&vr.setValue(j,"center",ot.center),vr.setValue(j,"modelViewMatrix",ot.modelViewMatrix),vr.setValue(j,"normalMatrix",ot.normalMatrix),vr.setValue(j,"modelMatrix",ot.matrixWorld),oi}function eo(de,Oe){de.ambientLightColor.needsUpdate=Oe,de.lightProbe.needsUpdate=Oe,de.directionalLights.needsUpdate=Oe,de.directionalLightShadows.needsUpdate=Oe,de.pointLights.needsUpdate=Oe,de.pointLightShadows.needsUpdate=Oe,de.spotLights.needsUpdate=Oe,de.spotLightShadows.needsUpdate=Oe,de.rectAreaLights.needsUpdate=Oe,de.hemisphereLights.needsUpdate=Oe}function wo(de){return de.isMeshLambertMaterial||de.isMeshToonMaterial||de.isMeshPhongMaterial||de.isMeshStandardMaterial||de.isShadowMaterial||de.isShaderMaterial&&de.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(de,Oe,qe){xe.get(de.texture).__webglTexture=Oe,xe.get(de.depthTexture).__webglTexture=qe;const We=xe.get(de);We.__hasExternalTextures=!0,We.__hasExternalTextures&&(We.__autoAllocateDepthBuffer=qe===void 0,We.__autoAllocateDepthBuffer||me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),We.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(de,Oe){const qe=xe.get(de);qe.__webglFramebuffer=Oe,qe.__useDefaultFramebuffer=Oe===void 0},this.setRenderTarget=function(de,Oe=0,qe=0){A=de,w=Oe,_=qe;let We=!0;if(de){const Qt=xe.get(de);Qt.__useDefaultFramebuffer!==void 0?(Te.bindFramebuffer(36160,null),We=!1):Qt.__webglFramebuffer===void 0?Me.setupRenderTarget(de):Qt.__hasExternalTextures&&Me.rebindTextures(de,xe.get(de.texture).__webglTexture,xe.get(de.depthTexture).__webglTexture)}let ot=null,qt=!1,Jt=!1;if(de){const Qt=de.texture;(Qt.isData3DTexture||Qt.isDataArrayTexture)&&(Jt=!0);const _n=xe.get(de).__webglFramebuffer;de.isWebGLCubeRenderTarget?(ot=_n[Oe],qt=!0):Ae.isWebGL2&&de.samples>0&&Me.useMultisampledRTT(de)===!1?ot=xe.get(de).__webglMultisampledFramebuffer:ot=_n,D.copy(de.viewport),I.copy(de.scissor),B=de.scissorTest}else D.copy(z).multiplyScalar(L).floor(),I.copy(ne).multiplyScalar(L).floor(),B=re;if(Te.bindFramebuffer(36160,ot)&&Ae.drawBuffers&&We&&Te.drawBuffers(de,ot),Te.viewport(D),Te.scissor(I),Te.setScissorTest(B),qt){const Qt=xe.get(de.texture);j.framebufferTexture2D(36160,36064,34069+Oe,Qt.__webglTexture,qe)}else if(Jt){const Qt=xe.get(de.texture),_n=Oe||0;j.framebufferTextureLayer(36160,36064,Qt.__webglTexture,qe||0,_n)}C=-1},this.readRenderTargetPixels=function(de,Oe,qe,We,ot,qt,Jt){if(!(de&&de.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let en=xe.get(de).__webglFramebuffer;if(de.isWebGLCubeRenderTarget&&Jt!==void 0&&(en=en[Jt]),en){Te.bindFramebuffer(36160,en);try{const Qt=de.texture,_n=Qt.format,an=Qt.type;if(_n!==ia&&Pe.convert(_n)!==j.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const cn=an===Va&&(me.has("EXT_color_buffer_half_float")||Ae.isWebGL2&&me.has("EXT_color_buffer_float"));if(an!==$f&&Pe.convert(an)!==j.getParameter(35738)&&!(an===Wa&&(Ae.isWebGL2||me.has("OES_texture_float")||me.has("WEBGL_color_buffer_float")))&&!cn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Oe>=0&&Oe<=de.width-We&&qe>=0&&qe<=de.height-ot&&j.readPixels(Oe,qe,We,ot,Pe.convert(_n),Pe.convert(an),qt)}finally{const Qt=A!==null?xe.get(A).__webglFramebuffer:null;Te.bindFramebuffer(36160,Qt)}}},this.copyFramebufferToTexture=function(de,Oe,qe=0){if(Oe.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const We=Math.pow(2,-qe),ot=Math.floor(Oe.image.width*We),qt=Math.floor(Oe.image.height*We);Me.setTexture2D(Oe,0),j.copyTexSubImage2D(3553,qe,0,0,de.x,de.y,ot,qt),Te.unbindTexture()},this.copyTextureToTexture=function(de,Oe,qe,We=0){const ot=Oe.image.width,qt=Oe.image.height,Jt=Pe.convert(qe.format),en=Pe.convert(qe.type);Me.setTexture2D(qe,0),j.pixelStorei(37440,qe.flipY),j.pixelStorei(37441,qe.premultiplyAlpha),j.pixelStorei(3317,qe.unpackAlignment),Oe.isDataTexture?j.texSubImage2D(3553,We,de.x,de.y,ot,qt,Jt,en,Oe.image.data):Oe.isCompressedTexture?j.compressedTexSubImage2D(3553,We,de.x,de.y,Oe.mipmaps[0].width,Oe.mipmaps[0].height,Jt,Oe.mipmaps[0].data):j.texSubImage2D(3553,We,de.x,de.y,Jt,en,Oe.image),We===0&&qe.generateMipmaps&&j.generateMipmap(3553),Te.unbindTexture()},this.copyTextureToTexture3D=function(de,Oe,qe,We,ot=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const qt=de.max.x-de.min.x+1,Jt=de.max.y-de.min.y+1,en=de.max.z-de.min.z+1,Qt=Pe.convert(We.format),_n=Pe.convert(We.type);let an;if(We.isData3DTexture)Me.setTexture3D(We,0),an=32879;else if(We.isDataArrayTexture)Me.setTexture2DArray(We,0),an=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}j.pixelStorei(37440,We.flipY),j.pixelStorei(37441,We.premultiplyAlpha),j.pixelStorei(3317,We.unpackAlignment);const cn=j.getParameter(3314),Vn=j.getParameter(32878),Rs=j.getParameter(3316),to=j.getParameter(3315),no=j.getParameter(32877),Ci=qe.isCompressedTexture?qe.mipmaps[0]:qe.image;j.pixelStorei(3314,Ci.width),j.pixelStorei(32878,Ci.height),j.pixelStorei(3316,de.min.x),j.pixelStorei(3315,de.min.y),j.pixelStorei(32877,de.min.z),qe.isDataTexture||qe.isData3DTexture?j.texSubImage3D(an,ot,Oe.x,Oe.y,Oe.z,qt,Jt,en,Qt,_n,Ci.data):qe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),j.compressedTexSubImage3D(an,ot,Oe.x,Oe.y,Oe.z,qt,Jt,en,Qt,Ci.data)):j.texSubImage3D(an,ot,Oe.x,Oe.y,Oe.z,qt,Jt,en,Qt,_n,Ci),j.pixelStorei(3314,cn),j.pixelStorei(32878,Vn),j.pixelStorei(3316,Rs),j.pixelStorei(3315,to),j.pixelStorei(32877,no),ot===0&&We.generateMipmaps&&j.generateMipmap(an),Te.unbindTexture()},this.initTexture=function(de){Me.setTexture2D(de,0),Te.unbindTexture()},this.resetState=function(){w=0,_=0,A=null,Te.reset(),Et.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}ar.prototype.isWebGLRenderer=!0;class DN extends ar{}DN.prototype.isWebGL1Renderer=!0;class K1{constructor(e,t=25e-5){this.name="",this.color=new Mt(e),this.density=t}clone(){return new K1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}K1.prototype.isFogExp2=!0;class Q1{constructor(e,t=1,r=1e3){this.name="",this.color=new Mt(e),this.near=t,this.far=r}clone(){return new Q1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Q1.prototype.isFog=!0;class mg extends Mn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}mg.prototype.isScene=!0;class uh{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Nm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=oa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=oa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=oa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}uh.prototype.isInterleavedBuffer=!0;const lo=new ce;class bc{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)lo.fromBufferAttribute(this,t),lo.applyMatrix4(e),this.setXYZ(t,lo.x,lo.y,lo.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)lo.fromBufferAttribute(this,t),lo.applyNormalMatrix(e),this.setXYZ(t,lo.x,lo.y,lo.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)lo.fromBufferAttribute(this,t),lo.transformDirection(e),this.setXYZ(t,lo.x,lo.y,lo.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Ln(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new bc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}bc.prototype.isInterleavedBufferAttribute=!0;class Iw extends Or{constructor(e){super(),this.type="SpriteMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}Iw.prototype.isSpriteMaterial=!0;let Ep;const h0=new ce,Cp=new ce,Tp=new ce,Lp=new nt,d0=new nt,FN=new Ot,dy=new ce,p0=new ce,py=new ce,oL=new nt,_b=new nt,aL=new nt;class Nw extends Mn{constructor(e){if(super(),this.type="Sprite",Ep===void 0){Ep=new nn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new uh(t,5);Ep.setIndex([0,1,2,0,2,3]),Ep.setAttribute("position",new bc(r,3,0,!1)),Ep.setAttribute("uv",new bc(r,2,3,!1))}this.geometry=Ep,this.material=e!==void 0?e:new Iw,this.center=new nt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Cp.setFromMatrixScale(this.matrixWorld),FN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Tp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Cp.multiplyScalar(-Tp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;my(dy.set(-.5,-.5,0),Tp,o,Cp,i,s),my(p0.set(.5,-.5,0),Tp,o,Cp,i,s),my(py.set(.5,.5,0),Tp,o,Cp,i,s),oL.set(0,0),_b.set(1,0),aL.set(1,1);let a=e.ray.intersectTriangle(dy,p0,py,!1,h0);if(a===null&&(my(p0.set(-.5,.5,0),Tp,o,Cp,i,s),_b.set(0,1),a=e.ray.intersectTriangle(dy,py,p0,!1,h0),a===null))return;const l=e.ray.origin.distanceTo(h0);l<e.near||l>e.far||t.push({distance:l,point:h0.clone(),uv:vi.getUV(h0,dy,p0,py,oL,_b,aL,new nt),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}Nw.prototype.isSprite=!0;function my(n,e,t,r,i,s){Lp.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(d0.x=s*Lp.x-i*Lp.y,d0.y=i*Lp.x+s*Lp.y):d0.copy(Lp),n.copy(e),n.x+=d0.x,n.y+=d0.y,n.applyMatrix4(FN)}const gy=new ce,lL=new ce;class ON extends Mn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){gy.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(gy);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){gy.setFromMatrixPosition(e.matrixWorld),lL.setFromMatrixPosition(this.matrixWorld);const r=gy.distanceTo(lL)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const uL=new ce,cL=new or,fL=new or,kX=new ce,hL=new Ot;class Z1 extends si{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ot,this.bindMatrixInverse=new Ot}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new or,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;cL.fromBufferAttribute(i.attributes.skinIndex,e),fL.fromBufferAttribute(i.attributes.skinWeight,e),uL.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=fL.getComponent(s);if(o!==0){const a=cL.getComponent(s);hL.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(kX.copy(uL).applyMatrix4(hL),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}Z1.prototype.isSkinnedMesh=!0;class ev extends Mn{constructor(){super(),this.type="Bone"}}ev.prototype.isBone=!0;class pd extends Qr{constructor(e=null,t=1,r=1,i,s,o,a,l,u=hi,c=hi,h,p){super(null,o,a,l,u,c,i,s,h,p),this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}pd.prototype.isDataTexture=!0;const dL=new Ot,IX=new Ot;class tv{constructor(e=[],t=[]){this.uuid=oa(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ot)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Ot;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:IX;dL.multiplyMatrices(a,t[s]),dL.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new tv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=hN(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new pd(t,e,e,ia,Wa);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new ev),this.bones.push(o),this.boneInverses.push(new Ot().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Ad extends Ln{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Ad.prototype.isInstancedBufferAttribute=!0;const pL=new Ot,mL=new Ot,vy=[],m0=new si;class Fm extends si{constructor(e,t,r){super(e,t),this.instanceMatrix=new Ad(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(m0.geometry=this.geometry,m0.material=this.material,m0.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,pL),mL.multiplyMatrices(r,pL),m0.matrixWorld=mL,m0.raycast(e,vy);for(let o=0,a=vy.length;o<a;o++){const l=vy[o];l.instanceId=s,l.object=this,t.push(l)}vy.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ad(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Fm.prototype.isInstancedMesh=!0;class Wi extends Or{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Mt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Wi.prototype.isLineBasicMaterial=!0;const gL=new ce,vL=new ce,yL=new Ot,bb=new lh,yy=new Lc;class wu extends Mn{constructor(e=new nn,t=new Wi){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)gL.fromBufferAttribute(t,i-1),vL.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=gL.distanceTo(vL);e.setAttribute("lineDistance",new jt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),yy.copy(r.boundingSphere),yy.applyMatrix4(i),yy.radius+=s,e.ray.intersectsSphere(yy)===!1)return;yL.copy(i).invert(),bb.copy(e.ray).applyMatrix4(yL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new ce,c=new ce,h=new ce,p=new ce,m=this.isLineSegments?2:1;if(r.isBufferGeometry){const y=r.index,x=r.attributes.position;if(y!==null){const w=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let A=w,C=_-1;A<C;A+=m){const T=y.getX(A),D=y.getX(A+1);if(u.fromBufferAttribute(x,T),c.fromBufferAttribute(x,D),bb.distanceSqToSegment(u,c,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(p);B<e.near||B>e.far||t.push({distance:B,point:h.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let A=w,C=_-1;A<C;A+=m){if(u.fromBufferAttribute(x,A),c.fromBufferAttribute(x,A+1),bb.distanceSqToSegment(u,c,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(p);D<e.near||D>e.far||t.push({distance:D,point:h.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}wu.prototype.isLine=!0;const xL=new ce,wL=new ce;class vo extends wu{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)xL.fromBufferAttribute(t,i),wL.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+xL.distanceTo(wL);e.setAttribute("lineDistance",new jt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}vo.prototype.isLineSegments=!0;class Dw extends wu{constructor(e,t){super(e,t),this.type="LineLoop"}}Dw.prototype.isLineLoop=!0;class ch extends Or{constructor(e){super(),this.type="PointsMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}ch.prototype.isPointsMaterial=!0;const _L=new Ot,rA=new lh,xy=new Lc,wy=new ce;class gg extends Mn{constructor(e=new nn,t=new ch){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),xy.copy(r.boundingSphere),xy.applyMatrix4(i),xy.radius+=s,e.ray.intersectsSphere(xy)===!1)return;_L.copy(i).invert(),rA.copy(e.ray).applyMatrix4(_L);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){const u=r.index,h=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let y=p,g=m;y<g;y++){const x=u.getX(y);wy.fromBufferAttribute(h,x),bL(wy,x,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,g=m;y<g;y++)wy.fromBufferAttribute(h,y),bL(wy,y,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}gg.prototype.isPoints=!0;function bL(n,e,t,r,i,s,o){const a=rA.distanceSqToPoint(n);if(a<t){const l=new ce;rA.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class UN extends Qr{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.minFilter=o!==void 0?o:_r,this.magFilter=s!==void 0?s:_r,this.generateMipmaps=!1;const c=this;function h(){c.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}UN.prototype.isVideoTexture=!0;class zN extends Qr{constructor(e,t,r){super({width:e,height:t}),this.format=r,this.magFilter=hi,this.minFilter=hi,this.generateMipmaps=!1,this.needsUpdate=!0}}zN.prototype.isFramebufferTexture=!0;class C3 extends Qr{constructor(e,t,r,i,s,o,a,l,u,c,h,p){super(null,o,a,l,u,c,i,s,h,p),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}C3.prototype.isCompressedTexture=!0;class HN extends Qr{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.needsUpdate=!0}}HN.prototype.isCanvasTexture=!0;class ca{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],p=r[i+1]-c,m=(o-c)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new nt:new ce);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new ce,i=[],s=[],o=[],a=new ce,l=new Ot;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new ce)}s[0]=new ce,o[0]=new ce;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(di(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(di(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class nv extends ca{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new nt,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*c-m*h+this.aX,u=p*h+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}nv.prototype.isEllipseCurve=!0;class T3 extends nv{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.type="ArcCurve"}}T3.prototype.isArcCurve=!0;function L3(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,h){let p=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+h)+(l-a)/h;p*=c,m*=c,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const _y=new ce,Sb=new L3,Ab=new L3,Mb=new L3;class R3 extends ca{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new ce){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(_y.subVectors(i[0],i[1]).add(i[0]),u=_y);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(_y.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=_y),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(h),m),g=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(c),m);g<1e-4&&(g=1),y<1e-4&&(y=g),x<1e-4&&(x=g),Sb.initNonuniformCatmullRom(u.x,h.x,p.x,c.x,y,g,x),Ab.initNonuniformCatmullRom(u.y,h.y,p.y,c.y,y,g,x),Mb.initNonuniformCatmullRom(u.z,h.z,p.z,c.z,y,g,x)}else this.curveType==="catmullrom"&&(Sb.initCatmullRom(u.x,h.x,p.x,c.x,this.tension),Ab.initCatmullRom(u.y,h.y,p.y,c.y,this.tension),Mb.initCatmullRom(u.z,h.z,p.z,c.z,this.tension));return r.set(Sb.calc(l),Ab.calc(l),Mb.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ce().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}R3.prototype.isCatmullRomCurve3=!0;function SL(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function NX(n,e){const t=1-n;return t*t*e}function DX(n,e){return 2*(1-n)*n*e}function FX(n,e){return n*n*e}function q0(n,e,t,r){return NX(n,e)+DX(n,t)+FX(n,r)}function OX(n,e){const t=1-n;return t*t*t*e}function UX(n,e){const t=1-n;return 3*t*t*n*e}function zX(n,e){return 3*(1-n)*n*n*e}function HX(n,e){return n*n*n*e}function Y0(n,e,t,r,i){return OX(n,e)+UX(n,t)+zX(n,r)+HX(n,i)}class Fw extends ca{constructor(e=new nt,t=new nt,r=new nt,i=new nt){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new nt){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Y0(e,i.x,s.x,o.x,a.x),Y0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Fw.prototype.isCubicBezierCurve=!0;class P3 extends ca{constructor(e=new ce,t=new ce,r=new ce,i=new ce){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ce){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Y0(e,i.x,s.x,o.x,a.x),Y0(e,i.y,s.y,o.y,a.y),Y0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}P3.prototype.isCubicBezierCurve3=!0;class rv extends ca{constructor(e=new nt,t=new nt){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new nt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new nt;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}rv.prototype.isLineCurve=!0;class GN extends ca{constructor(e=new ce,t=new ce){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new ce){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ow extends ca{constructor(e=new nt,t=new nt,r=new nt){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new nt){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(q0(e,i.x,s.x,o.x),q0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Ow.prototype.isQuadraticBezierCurve=!0;class Uw extends ca{constructor(e=new ce,t=new ce,r=new ce){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ce){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(q0(e,i.x,s.x,o.x),q0(e,i.y,s.y,o.y),q0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Uw.prototype.isQuadraticBezierCurve3=!0;class zw extends ca{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new nt){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(SL(a,l.x,u.x,c.x,h.x),SL(a,l.y,u.y,c.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new nt().fromArray(i))}return this}}zw.prototype.isSplineCurve=!0;var B3=Object.freeze({__proto__:null,ArcCurve:T3,CatmullRomCurve3:R3,CubicBezierCurve:Fw,CubicBezierCurve3:P3,EllipseCurve:nv,LineCurve:rv,LineCurve3:GN,QuadraticBezierCurve:Ow,QuadraticBezierCurve3:Uw,SplineCurve:zw});class jN extends ca{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new rv(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new B3[i.type]().fromJSON(i))}return this}}class Om extends jN{constructor(e){super(),this.type="Path",this.currentPoint=new nt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new rv(this.currentPoint.clone(),new nt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new Ow(this.currentPoint.clone(),new nt(e,t),new nt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new Fw(this.currentPoint.clone(),new nt(e,t),new nt(r,i),new nt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new zw(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new nv(e,t,r,i,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Md extends nn{constructor(e=[new nt(0,.5),new nt(.5,0),new nt(0,-.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=di(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/t,h=new ce,p=new nt,m=new ce,y=new ce,g=new ce;let x=0,w=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,w=e[_+1].y-e[_].y,m.x=w*1,m.y=-x,m.z=w*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:x=e[_+1].x-e[_].x,w=e[_+1].y-e[_].y,m.x=w*1,m.y=-x,m.z=w*0,y.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(y)}for(let _=0;_<=t;_++){const A=r+_*c*i,C=Math.sin(A),T=Math.cos(A);for(let D=0;D<=e.length-1;D++){h.x=e[D].x*C,h.y=e[D].y,h.z=e[D].x*T,o.push(h.x,h.y,h.z),p.x=_/t,p.y=D/(e.length-1),a.push(p.x,p.y);const I=l[3*D+0]*C,B=l[3*D+1],W=l[3*D+0]*T;u.push(I,B,W)}}for(let _=0;_<t;_++)for(let A=0;A<e.length-1;A++){const C=A+_*e.length,T=C,D=C+e.length,I=C+e.length+1,B=C+1;s.push(T,D,B),s.push(I,B,D)}this.setIndex(s),this.setAttribute("position",new jt(o,3)),this.setAttribute("uv",new jt(a,2)),this.setAttribute("normal",new jt(u,3))}static fromJSON(e){return new Md(e.points,e.segments,e.phiStart,e.phiLength)}}class Um extends Md{constructor(e=1,t=1,r=4,i=8){const s=new Om;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Um(e.radius,e.length,e.capSegments,e.radialSegments)}}class zm extends nn{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new ce,c=new nt;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=r+h/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[p]/e+1)/2,c.y=(o[p+1]/e+1)/2,l.push(c.x,c.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new jt(o,3)),this.setAttribute("normal",new jt(a,3)),this.setAttribute("uv",new jt(l,2))}static fromJSON(e){return new zm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Qf extends nn{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],h=[],p=[],m=[];let y=0;const g=[],x=r/2;let w=0;_(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(c),this.setAttribute("position",new jt(h,3)),this.setAttribute("normal",new jt(p,3)),this.setAttribute("uv",new jt(m,2));function _(){const C=new ce,T=new ce;let D=0;const I=(t-e)/r;for(let B=0;B<=s;B++){const W=[],G=B/s,L=G*(t-e)+e;for(let P=0;P<=i;P++){const q=P/i,z=q*l+a,ne=Math.sin(z),re=Math.cos(z);T.x=L*ne,T.y=-G*r+x,T.z=L*re,h.push(T.x,T.y,T.z),C.set(ne,I,re).normalize(),p.push(C.x,C.y,C.z),m.push(q,1-G),W.push(y++)}g.push(W)}for(let B=0;B<i;B++)for(let W=0;W<s;W++){const G=g[W][B],L=g[W+1][B],P=g[W+1][B+1],q=g[W][B+1];c.push(G,L,q),c.push(L,P,q),D+=6}u.addGroup(w,D,0),w+=D}function A(C){const T=y,D=new nt,I=new ce;let B=0;const W=C===!0?e:t,G=C===!0?1:-1;for(let P=1;P<=i;P++)h.push(0,x*G,0),p.push(0,G,0),m.push(.5,.5),y++;const L=y;for(let P=0;P<=i;P++){const z=P/i*l+a,ne=Math.cos(z),re=Math.sin(z);I.x=W*re,I.y=x*G,I.z=W*ne,h.push(I.x,I.y,I.z),p.push(0,G,0),D.x=ne*.5+.5,D.y=re*.5*G+.5,m.push(D.x,D.y),y++}for(let P=0;P<i;P++){const q=T+P,z=L+P;C===!0?c.push(z,z+1,q):c.push(z+1,z,q),B+=3}u.addGroup(w,B,C===!0?1:2),w+=B}}static fromJSON(e){return new Qf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hm extends Qf{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Hm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _u extends nn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new jt(s,3)),this.setAttribute("normal",new jt(s.slice(),3)),this.setAttribute("uv",new jt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const A=new ce,C=new ce,T=new ce;for(let D=0;D<t.length;D+=3)m(t[D+0],A),m(t[D+1],C),m(t[D+2],T),l(A,C,T,_)}function l(_,A,C,T){const D=T+1,I=[];for(let B=0;B<=D;B++){I[B]=[];const W=_.clone().lerp(C,B/D),G=A.clone().lerp(C,B/D),L=D-B;for(let P=0;P<=L;P++)P===0&&B===D?I[B][P]=W:I[B][P]=W.clone().lerp(G,P/L)}for(let B=0;B<D;B++)for(let W=0;W<2*(D-B)-1;W++){const G=Math.floor(W/2);W%2===0?(p(I[B][G+1]),p(I[B+1][G]),p(I[B][G])):(p(I[B][G+1]),p(I[B+1][G+1]),p(I[B+1][G]))}}function u(_){const A=new ce;for(let C=0;C<s.length;C+=3)A.x=s[C+0],A.y=s[C+1],A.z=s[C+2],A.normalize().multiplyScalar(_),s[C+0]=A.x,s[C+1]=A.y,s[C+2]=A.z}function c(){const _=new ce;for(let A=0;A<s.length;A+=3){_.x=s[A+0],_.y=s[A+1],_.z=s[A+2];const C=x(_)/2/Math.PI+.5,T=w(_)/Math.PI+.5;o.push(C,1-T)}y(),h()}function h(){for(let _=0;_<o.length;_+=6){const A=o[_+0],C=o[_+2],T=o[_+4],D=Math.max(A,C,T),I=Math.min(A,C,T);D>.9&&I<.1&&(A<.2&&(o[_+0]+=1),C<.2&&(o[_+2]+=1),T<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,A){const C=_*3;A.x=e[C+0],A.y=e[C+1],A.z=e[C+2]}function y(){const _=new ce,A=new ce,C=new ce,T=new ce,D=new nt,I=new nt,B=new nt;for(let W=0,G=0;W<s.length;W+=9,G+=6){_.set(s[W+0],s[W+1],s[W+2]),A.set(s[W+3],s[W+4],s[W+5]),C.set(s[W+6],s[W+7],s[W+8]),D.set(o[G+0],o[G+1]),I.set(o[G+2],o[G+3]),B.set(o[G+4],o[G+5]),T.copy(_).add(A).add(C).divideScalar(3);const L=x(T);g(D,G+0,_,L),g(I,G+2,A,L),g(B,G+4,C,L)}}function g(_,A,C,T){T<0&&_.x===1&&(o[A]=_.x-1),C.x===0&&C.z===0&&(o[A]=T/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function w(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new _u(e.vertices,e.indices,e.radius,e.details)}}class Gm extends _u{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gm(e.radius,e.detail)}}const by=new ce,Sy=new ce,Eb=new ce,Ay=new vi;class k3 extends nn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(fd*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:g,b:x,c:w}=Ay;if(g.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),w.fromBufferAttribute(a,u[2]),Ay.getNormal(Eb),h[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,h[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let _=0;_<3;_++){const A=(_+1)%3,C=h[_],T=h[A],D=Ay[c[_]],I=Ay[c[A]],B=`${C}_${T}`,W=`${T}_${C}`;W in p&&p[W]?(Eb.dot(p[W].normal)<=s&&(m.push(D.x,D.y,D.z),m.push(I.x,I.y,I.z)),p[W]=null):B in p||(p[B]={index0:u[_],index1:u[A],normal:Eb.clone()})}}for(const y in p)if(p[y]){const{index0:g,index1:x}=p[y];by.fromBufferAttribute(a,g),Sy.fromBufferAttribute(a,x),m.push(by.x,by.y,by.z),m.push(Sy.x,Sy.y,Sy.z)}this.setAttribute("position",new jt(m,3))}}}class pu extends Om{constructor(e){super(e),this.uuid=oa(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Om().fromJSON(i))}return this}}const GX={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=WN(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,h,p,m;if(r&&(s=YX(n,e,s,t)),n.length>80*t){a=u=n[0],l=c=n[1];for(let y=t;y<i;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>c&&(c=p);m=Math.max(u-a,c-l),m=m!==0?1/m:0}return M1(s,o,t,a,l,m),o}};function WN(n,e,t,r,i){let s,o;if(i===i$(n,e,t,r)>0)for(s=e;s<t;s+=r)o=AL(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=AL(s,n[s],n[s+1],o);return o&&Hw(o,o.next)&&(C1(o),o=o.next),o}function Zf(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Hw(t,t.next)||Xr(t.prev,t,t.next)===0)){if(C1(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function M1(n,e,t,r,i,s,o){if(!n)return;!o&&s&&QX(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?WX(n,r,i,s):jX(n)){e.push(l.i/t),e.push(n.i/t),e.push(u.i/t),C1(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=VX(Zf(n),e,t),M1(n,e,t,r,i,s,2)):o===2&&qX(n,e,t,r,i,s):M1(Zf(n),e,t,r,i,s,1);break}}}function jX(n){const e=n.prev,t=n,r=n.next;if(Xr(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(rm(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&Xr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function WX(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Xr(i,s,o)>=0)return!1;const a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,c=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,h=iA(a,l,e,t,r),p=iA(u,c,e,t,r);let m=n.prevZ,y=n.nextZ;for(;m&&m.z>=h&&y&&y.z<=p;){if(m!==n.prev&&m!==n.next&&rm(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Xr(m.prev,m,m.next)>=0||(m=m.prevZ,y!==n.prev&&y!==n.next&&rm(i.x,i.y,s.x,s.y,o.x,o.y,y.x,y.y)&&Xr(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;m&&m.z>=h;){if(m!==n.prev&&m!==n.next&&rm(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Xr(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;y&&y.z<=p;){if(y!==n.prev&&y!==n.next&&rm(i.x,i.y,s.x,s.y,o.x,o.y,y.x,y.y)&&Xr(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function VX(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Hw(i,s)&&VN(i,r,r.next,s)&&E1(i,s)&&E1(s,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(s.i/t),C1(r),C1(r.next),r=n=s),r=r.next}while(r!==n);return Zf(r)}function qX(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&t$(o,a)){let l=qN(o,a);o=Zf(o,o.next),l=Zf(l,l.next),M1(o,e,t,r,i,s),M1(l,e,t,r,i,s);return}a=a.next}o=o.next}while(o!==n)}function YX(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=WN(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(e$(u));for(i.sort(JX),s=0;s<i.length;s++)XX(i[s],t),t=Zf(t,t.next);return t}function JX(n,e){return n.x-e.x}function XX(n,e){if(e=$X(n,e),e){const t=qN(e,n);Zf(e,e.next),Zf(t,t.next)}}function $X(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const p=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=r&&p>s){if(s=p,p===r){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(r===s)return o;const a=o,l=o.x,u=o.y;let c=1/0,h;t=o;do r>=t.x&&t.x>=l&&r!==t.x&&rm(i<u?r:s,i,l,u,i<u?s:r,i,t.x,t.y)&&(h=Math.abs(i-t.y)/(r-t.x),E1(t,n)&&(h<c||h===c&&(t.x>o.x||t.x===o.x&&KX(o,t)))&&(o=t,c=h)),t=t.next;while(t!==a);return o}function KX(n,e){return Xr(n.prev,n,e.prev)<0&&Xr(e.next,n,n.next)<0}function QX(n,e,t,r){let i=n;do i.z===null&&(i.z=iA(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,ZX(i)}function ZX(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function iA(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function e$(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function rm(n,e,t,r,i,s,o,a){return(i-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(r-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(i-o)*(r-a)>=0}function t$(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!n$(n,e)&&(E1(n,e)&&E1(e,n)&&r$(n,e)&&(Xr(n.prev,n,e.prev)||Xr(n,e.prev,e))||Hw(n,e)&&Xr(n.prev,n,n.next)>0&&Xr(e.prev,e,e.next)>0)}function Xr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Hw(n,e){return n.x===e.x&&n.y===e.y}function VN(n,e,t,r){const i=Ey(Xr(n,e,t)),s=Ey(Xr(n,e,r)),o=Ey(Xr(t,r,n)),a=Ey(Xr(t,r,e));return!!(i!==s&&o!==a||i===0&&My(n,t,e)||s===0&&My(n,r,e)||o===0&&My(t,n,r)||a===0&&My(t,e,r))}function My(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ey(n){return n>0?1:n<0?-1:0}function n$(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&VN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function E1(n,e){return Xr(n.prev,n,n.next)<0?Xr(n,e,n.next)>=0&&Xr(n,n.prev,e)>=0:Xr(n,e,n.prev)<0||Xr(n,n.next,e)<0}function r$(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function qN(n,e){const t=new sA(n.i,n.x,n.y),r=new sA(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function AL(n,e,t,r){const i=new sA(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function C1(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function sA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function i$(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class mu{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return mu.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];ML(e),EL(r,e);let o=e.length;t.forEach(ML);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,EL(r,t[l]);const a=GX.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function ML(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function EL(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class bu extends nn{constructor(e=new pu([new nt(.5,.5),new nt(-.5,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new jt(i,3)),this.setAttribute("uv",new jt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1;let h=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:s$;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=t.amount);let A,C=!1,T,D,I,B;w&&(A=w.getSpacedPoints(c),C=!0,p=!1,T=w.computeFrenetFrames(c,!1),D=new ce,I=new ce,B=new ce),p||(x=0,m=0,y=0,g=0);const W=a.extractPoints(u);let G=W.shape;const L=W.holes;if(!mu.isClockWise(G)){G=G.reverse();for(let xe=0,Me=L.length;xe<Me;xe++){const Ge=L[xe];mu.isClockWise(Ge)&&(L[xe]=Ge.reverse())}}const q=mu.triangulateShape(G,L),z=G;for(let xe=0,Me=L.length;xe<Me;xe++){const Ge=L[xe];G=G.concat(Ge)}function ne(xe,Me,Ge){return Me||console.error("THREE.ExtrudeGeometry: vec does not exist"),Me.clone().multiplyScalar(Ge).add(xe)}const re=G.length,le=q.length;function F(xe,Me,Ge){let be,oe,$e;const Ke=xe.x-Me.x,je=xe.y-Me.y,et=Ge.x-xe.x,ct=Ge.y-xe.y,ae=Ke*Ke+je*je,ee=Ke*ct-je*et;if(Math.abs(ee)>Number.EPSILON){const Se=Math.sqrt(ae),He=Math.sqrt(et*et+ct*ct),rt=Me.x-je/Se,ft=Me.y+Ke/Se,gt=Ge.x-ct/He,Pe=Ge.y+et/He,Et=((gt-rt)*ct-(Pe-ft)*et)/(Ke*ct-je*et);be=rt+Ke*Et-xe.x,oe=ft+je*Et-xe.y;const it=be*be+oe*oe;if(it<=2)return new nt(be,oe);$e=Math.sqrt(it/2)}else{let Se=!1;Ke>Number.EPSILON?et>Number.EPSILON&&(Se=!0):Ke<-Number.EPSILON?et<-Number.EPSILON&&(Se=!0):Math.sign(je)===Math.sign(ct)&&(Se=!0),Se?(be=-je,oe=Ke,$e=Math.sqrt(ae)):(be=Ke,oe=je,$e=Math.sqrt(ae/2))}return new nt(be/$e,oe/$e)}const X=[];for(let xe=0,Me=z.length,Ge=Me-1,be=xe+1;xe<Me;xe++,Ge++,be++)Ge===Me&&(Ge=0),be===Me&&(be=0),X[xe]=F(z[xe],z[Ge],z[be]);const ie=[];let ve,N=X.concat();for(let xe=0,Me=L.length;xe<Me;xe++){const Ge=L[xe];ve=[];for(let be=0,oe=Ge.length,$e=oe-1,Ke=be+1;be<oe;be++,$e++,Ke++)$e===oe&&($e=0),Ke===oe&&(Ke=0),ve[be]=F(Ge[be],Ge[$e],Ge[Ke]);ie.push(ve),N=N.concat(ve)}for(let xe=0;xe<x;xe++){const Me=xe/x,Ge=m*Math.cos(Me*Math.PI/2),be=y*Math.sin(Me*Math.PI/2)+g;for(let oe=0,$e=z.length;oe<$e;oe++){const Ke=ne(z[oe],X[oe],be);we(Ke.x,Ke.y,-Ge)}for(let oe=0,$e=L.length;oe<$e;oe++){const Ke=L[oe];ve=ie[oe];for(let je=0,et=Ke.length;je<et;je++){const ct=ne(Ke[je],ve[je],be);we(ct.x,ct.y,-Ge)}}}const V=y+g;for(let xe=0;xe<re;xe++){const Me=p?ne(G[xe],N[xe],V):G[xe];C?(I.copy(T.normals[0]).multiplyScalar(Me.x),D.copy(T.binormals[0]).multiplyScalar(Me.y),B.copy(A[0]).add(I).add(D),we(B.x,B.y,B.z)):we(Me.x,Me.y,0)}for(let xe=1;xe<=c;xe++)for(let Me=0;Me<re;Me++){const Ge=p?ne(G[Me],N[Me],V):G[Me];C?(I.copy(T.normals[xe]).multiplyScalar(Ge.x),D.copy(T.binormals[xe]).multiplyScalar(Ge.y),B.copy(A[xe]).add(I).add(D),we(B.x,B.y,B.z)):we(Ge.x,Ge.y,h/c*xe)}for(let xe=x-1;xe>=0;xe--){const Me=xe/x,Ge=m*Math.cos(Me*Math.PI/2),be=y*Math.sin(Me*Math.PI/2)+g;for(let oe=0,$e=z.length;oe<$e;oe++){const Ke=ne(z[oe],X[oe],be);we(Ke.x,Ke.y,h+Ge)}for(let oe=0,$e=L.length;oe<$e;oe++){const Ke=L[oe];ve=ie[oe];for(let je=0,et=Ke.length;je<et;je++){const ct=ne(Ke[je],ve[je],be);C?we(ct.x,ct.y+A[c-1].y,A[c-1].x+Ge):we(ct.x,ct.y,h+Ge)}}}Q(),ue();function Q(){const xe=i.length/3;if(p){let Me=0,Ge=re*Me;for(let be=0;be<le;be++){const oe=q[be];me(oe[2]+Ge,oe[1]+Ge,oe[0]+Ge)}Me=c+x*2,Ge=re*Me;for(let be=0;be<le;be++){const oe=q[be];me(oe[0]+Ge,oe[1]+Ge,oe[2]+Ge)}}else{for(let Me=0;Me<le;Me++){const Ge=q[Me];me(Ge[2],Ge[1],Ge[0])}for(let Me=0;Me<le;Me++){const Ge=q[Me];me(Ge[0]+re*c,Ge[1]+re*c,Ge[2]+re*c)}}r.addGroup(xe,i.length/3-xe,0)}function ue(){const xe=i.length/3;let Me=0;j(z,Me),Me+=z.length;for(let Ge=0,be=L.length;Ge<be;Ge++){const oe=L[Ge];j(oe,Me),Me+=oe.length}r.addGroup(xe,i.length/3-xe,1)}function j(xe,Me){let Ge=xe.length;for(;--Ge>=0;){const be=Ge;let oe=Ge-1;oe<0&&(oe=xe.length-1);for(let $e=0,Ke=c+x*2;$e<Ke;$e++){const je=re*$e,et=re*($e+1),ct=Me+be+je,ae=Me+oe+je,ee=Me+oe+et,Se=Me+be+et;Ae(ct,ae,ee,Se)}}}function we(xe,Me,Ge){l.push(xe),l.push(Me),l.push(Ge)}function me(xe,Me,Ge){Te(xe),Te(Me),Te(Ge);const be=i.length/3,oe=_.generateTopUV(r,i,be-3,be-2,be-1);De(oe[0]),De(oe[1]),De(oe[2])}function Ae(xe,Me,Ge,be){Te(xe),Te(Me),Te(be),Te(Me),Te(Ge),Te(be);const oe=i.length/3,$e=_.generateSideWallUV(r,i,oe-6,oe-3,oe-2,oe-1);De($e[0]),De($e[1]),De($e[3]),De($e[1]),De($e[2]),De($e[3])}function Te(xe){i.push(l[xe*3+0]),i.push(l[xe*3+1]),i.push(l[xe*3+2])}function De(xe){s.push(xe.x),s.push(xe.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return o$(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new B3[i.type]().fromJSON(i)),new bu(r,e.options)}}const s$={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new nt(s,o),new nt(a,l),new nt(u,c)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],g=e[s*3],x=e[s*3+1],w=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new nt(o,1-l),new nt(u,1-h),new nt(p,1-y),new nt(g,1-w)]:[new nt(a,1-l),new nt(c,1-h),new nt(m,1-y),new nt(x,1-w)]}};function o$(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class jm extends _u{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jm(e.radius,e.detail)}}class Ed extends _u{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ed(e.radius,e.detail)}}class Wm extends nn{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let h=e;const p=(t-e)/i,m=new ce,y=new nt;for(let g=0;g<=i;g++){for(let x=0;x<=r;x++){const w=s+x/r*o;m.x=h*Math.cos(w),m.y=h*Math.sin(w),l.push(m.x,m.y,m.z),u.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,c.push(y.x,y.y)}h+=p}for(let g=0;g<i;g++){const x=g*(r+1);for(let w=0;w<r;w++){const _=w+x,A=_,C=_+r+1,T=_+r+2,D=_+1;a.push(A,C,D),a.push(C,T,D)}}this.setIndex(a),this.setAttribute("position",new jt(l,3)),this.setAttribute("normal",new jt(u,3)),this.setAttribute("uv",new jt(c,2))}static fromJSON(e){return new Wm(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Cd extends nn{constructor(e=new pu([new nt(0,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new jt(i,3)),this.setAttribute("normal",new jt(s,3)),this.setAttribute("uv",new jt(o,2));function u(c){const h=i.length/3,p=c.extractPoints(t);let m=p.shape;const y=p.holes;mu.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,w=y.length;x<w;x++){const _=y[x];mu.isClockWise(_)===!0&&(y[x]=_.reverse())}const g=mu.triangulateShape(m,y);for(let x=0,w=y.length;x<w;x++){const _=y[x];m=m.concat(_)}for(let x=0,w=m.length;x<w;x++){const _=m[x];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,w=g.length;x<w;x++){const _=g[x],A=_[0]+h,C=_[1]+h,T=_[2]+h;r.push(A,C,T),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return a$(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Cd(r,e.curveSegments)}}function a$(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Td extends nn{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],h=new ce,p=new ce,m=[],y=[],g=[],x=[];for(let w=0;w<=r;w++){const _=[],A=w/r;let C=0;w==0&&o==0?C=.5/t:w==r&&l==Math.PI&&(C=-.5/t);for(let T=0;T<=t;T++){const D=T/t;h.x=-e*Math.cos(i+D*s)*Math.sin(o+A*a),h.y=e*Math.cos(o+A*a),h.z=e*Math.sin(i+D*s)*Math.sin(o+A*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),x.push(D+C,1-A),_.push(u++)}c.push(_)}for(let w=0;w<r;w++)for(let _=0;_<t;_++){const A=c[w][_+1],C=c[w][_],T=c[w+1][_],D=c[w+1][_+1];(w!==0||o>0)&&m.push(A,C,D),(w!==r-1||l<Math.PI)&&m.push(C,T,D)}this.setIndex(m),this.setAttribute("position",new jt(y,3)),this.setAttribute("normal",new jt(g,3)),this.setAttribute("uv",new jt(x,2))}static fromJSON(e){return new Td(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Vm extends _u{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vm(e.radius,e.detail)}}class qm extends nn{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new ce,h=new ce,p=new ce;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const g=y/i*s,x=m/r*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(g),h.y=(e+t*Math.cos(x))*Math.sin(g),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),c.x=e*Math.cos(g),c.y=e*Math.sin(g),p.subVectors(h,c).normalize(),l.push(p.x,p.y,p.z),u.push(y/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const g=(i+1)*m+y-1,x=(i+1)*(m-1)+y-1,w=(i+1)*(m-1)+y,_=(i+1)*m+y;o.push(g,x,_),o.push(x,w,_)}this.setIndex(o),this.setAttribute("position",new jt(a,3)),this.setAttribute("normal",new jt(l,3)),this.setAttribute("uv",new jt(u,2))}static fromJSON(e){return new qm(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ym extends nn{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],h=new ce,p=new ce,m=new ce,y=new ce,g=new ce,x=new ce,w=new ce;for(let A=0;A<=r;++A){const C=A/r*s*Math.PI*2;_(C,s,o,e,m),_(C+.01,s,o,e,y),x.subVectors(y,m),w.addVectors(y,m),g.crossVectors(x,w),w.crossVectors(g,x),g.normalize(),w.normalize();for(let T=0;T<=i;++T){const D=T/i*Math.PI*2,I=-t*Math.cos(D),B=t*Math.sin(D);h.x=m.x+(I*w.x+B*g.x),h.y=m.y+(I*w.y+B*g.y),h.z=m.z+(I*w.z+B*g.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),u.push(p.x,p.y,p.z),c.push(A/r),c.push(T/i)}}for(let A=1;A<=r;A++)for(let C=1;C<=i;C++){const T=(i+1)*(A-1)+(C-1),D=(i+1)*A+(C-1),I=(i+1)*A+C,B=(i+1)*(A-1)+C;a.push(T,D,B),a.push(D,I,B)}this.setIndex(a),this.setAttribute("position",new jt(l,3)),this.setAttribute("normal",new jt(u,3)),this.setAttribute("uv",new jt(c,2));function _(A,C,T,D,I){const B=Math.cos(A),W=Math.sin(A),G=T/C*A,L=Math.cos(G);I.x=D*(2+L)*.5*B,I.y=D*(2+L)*W*.5,I.z=D*Math.sin(G)*.5}}static fromJSON(e){return new Ym(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Jm extends nn{constructor(e=new Uw(new ce(-1,-1,0),new ce(-1,1,0),new ce(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ce,l=new ce,u=new nt;let c=new ce;const h=[],p=[],m=[],y=[];g(),this.setIndex(y),this.setAttribute("position",new jt(h,3)),this.setAttribute("normal",new jt(p,3)),this.setAttribute("uv",new jt(m,2));function g(){for(let A=0;A<t;A++)x(A);x(s===!1?t:0),_(),w()}function x(A){c=e.getPointAt(A/t,c);const C=o.normals[A],T=o.binormals[A];for(let D=0;D<=i;D++){const I=D/i*Math.PI*2,B=Math.sin(I),W=-Math.cos(I);l.x=W*C.x+B*T.x,l.y=W*C.y+B*T.y,l.z=W*C.z+B*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,h.push(a.x,a.y,a.z)}}function w(){for(let A=1;A<=t;A++)for(let C=1;C<=i;C++){const T=(i+1)*(A-1)+(C-1),D=(i+1)*A+(C-1),I=(i+1)*A+C,B=(i+1)*(A-1)+C;y.push(T,D,B),y.push(D,I,B)}}function _(){for(let A=0;A<=t;A++)for(let C=0;C<=i;C++)u.x=A/t,u.y=C/i,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Jm(new B3[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class I3 extends nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new ce,s=new ce;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const h=l[u],p=h.start,m=h.count;for(let y=p,g=p+m;y<g;y+=3)for(let x=0;x<3;x++){const w=a.getX(y+x),_=a.getX(y+(x+1)%3);i.fromBufferAttribute(o,w),s.fromBufferAttribute(o,_),CL(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,h=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,h),CL(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new jt(t,3))}}}function CL(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var TL=Object.freeze({__proto__:null,BoxGeometry:xu,BoxBufferGeometry:xu,CapsuleGeometry:Um,CapsuleBufferGeometry:Um,CircleGeometry:zm,CircleBufferGeometry:zm,ConeGeometry:Hm,ConeBufferGeometry:Hm,CylinderGeometry:Qf,CylinderBufferGeometry:Qf,DodecahedronGeometry:Gm,DodecahedronBufferGeometry:Gm,EdgesGeometry:k3,ExtrudeGeometry:bu,ExtrudeBufferGeometry:bu,IcosahedronGeometry:jm,IcosahedronBufferGeometry:jm,LatheGeometry:Md,LatheBufferGeometry:Md,OctahedronGeometry:Ed,OctahedronBufferGeometry:Ed,PlaneGeometry:Sd,PlaneBufferGeometry:Sd,PolyhedronGeometry:_u,PolyhedronBufferGeometry:_u,RingGeometry:Wm,RingBufferGeometry:Wm,ShapeGeometry:Cd,ShapeBufferGeometry:Cd,SphereGeometry:Td,SphereBufferGeometry:Td,TetrahedronGeometry:Vm,TetrahedronBufferGeometry:Vm,TorusGeometry:qm,TorusBufferGeometry:qm,TorusKnotGeometry:Ym,TorusKnotBufferGeometry:Ym,TubeGeometry:Jm,TubeBufferGeometry:Jm,WireframeGeometry:I3});class N3 extends Or{constructor(e){super(),this.type="ShadowMaterial",this.color=new Mt(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}N3.prototype.isShadowMaterial=!0;class D3 extends $a{constructor(e){super(e),this.type="RawShaderMaterial"}}D3.prototype.isRawShaderMaterial=!0;class Su extends Or{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Su.prototype.isMeshStandardMaterial=!0;class Pc extends Su{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new nt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return di(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Mt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Mt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Mt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}Pc.prototype.isMeshPhysicalMaterial=!0;class F3 extends Or{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Mt(16777215),this.specular=new Mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Y1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}F3.prototype.isMeshPhongMaterial=!0;class O3 extends Or{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}O3.prototype.isMeshToonMaterial=!0;class U3 extends Or{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}U3.prototype.isMeshNormalMaterial=!0;class z3 extends Or{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Y1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}z3.prototype.isMeshLambertMaterial=!0;class H3 extends Or{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}H3.prototype.isMeshMatcapMaterial=!0;class G3 extends Wi{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}G3.prototype.isLineDashedMaterial=!0;const l$={ShadowMaterial:N3,SpriteMaterial:Iw,RawShaderMaterial:D3,ShaderMaterial:$a,PointsMaterial:ch,MeshPhysicalMaterial:Pc,MeshStandardMaterial:Su,MeshPhongMaterial:F3,MeshToonMaterial:O3,MeshNormalMaterial:U3,MeshLambertMaterial:z3,MeshDepthMaterial:Bw,MeshDistanceMaterial:kw,MeshBasicMaterial:Io,MeshMatcapMaterial:H3,LineDashedMaterial:G3,LineBasicMaterial:Wi,Material:Or};Or.fromType=function(n){return new l$[n]};const Er={arraySlice:function(n,e,t){return Er.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i},flattenJSON:function(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)},subclip:function(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),h=[],p=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*i;if(!(y<t||y>=r)){h.push(u.times[m]);for(let g=0;g<c;++g)p.push(u.values[m*c+g])}}h.length!==0&&(u.times=Er.convertArray(h,u.times.constructor),u.values=Er.convertArray(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(u===void 0)continue;let c=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=h/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let g;if(s<=a.times[0]){const w=c,_=h-c;g=Er.arraySlice(a.values,w,_)}else if(s>=a.times[y]){const w=y*h+c,_=w+h-c;g=Er.arraySlice(a.values,w,_)}else{const w=a.createInterpolant(),_=c,A=h-c;w.evaluate(s),g=Er.arraySlice(w.resultBuffer,_,A)}l==="quaternion"&&new yi().fromArray(g).normalize().conjugate().toArray(g);const x=u.times.length;for(let w=0;w<x;++w){const _=w*m+p;if(l==="quaternion")yi.multiplyQuaternionsFlat(u.values,_,g,0,u.values,_);else{const A=m-p*2;for(let C=0;C<A;++C)u.values[_+C]-=g[C]}}}return n.blendMode=_3,n}};class Au{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break i;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,s)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,s,e)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Au.prototype.beforeStart_=Au.prototype.copySampleValue_;Au.prototype.afterEnd_=Au.prototype.copySampleValue_;class YN extends Au{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:td,endingEnd:td}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case nd:s=e,a=2*t-r;break;case b1:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case nd:o=e,l=2*r-t;break;case b1:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(r-t)/(i-t),g=y*y,x=g*y,w=-p*x+2*p*g-p*y,_=(1+p)*x+(-1.5-2*p)*g+(-.5+p)*y+1,A=(-1-m)*x+(1.5+m)*g+.5*y,C=m*x-m*g;for(let T=0;T!==a;++T)s[T]=w*o[c+T]+_*o[u+T]+A*o[l+T]+C*o[h+T];return s}}class j3 extends Au{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-t)/(i-t),h=1-c;for(let p=0;p!==a;++p)s[p]=o[u+p]*h+o[l+p]*c;return s}}class JN extends Au{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Hl{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Er.convertArray(t,this.TimeBufferType),this.values=Er.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Er.convertArray(e.times,Array),values:Er.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new JN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new j3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new YN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Im:t=this.InterpolantFactoryMethodDiscrete;break;case bd:t=this.InterpolantFactoryMethodLinear;break;case yx:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Im;case this.InterpolantFactoryMethodLinear:return bd;case this.InterpolantFactoryMethodSmooth:return yx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Er.arraySlice(r,s,o),this.values=Er.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Er.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Er.arraySlice(this.times),t=Er.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===yx,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let y=0;y!==r;++y){const g=t[h+y];if(g!==t[p+y]||g!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=Er.arraySlice(e,0,o),this.values=Er.arraySlice(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Er.arraySlice(this.times,0),t=Er.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Hl.prototype.TimeBufferType=Float32Array;Hl.prototype.ValueBufferType=Float32Array;Hl.prototype.DefaultInterpolation=bd;class Id extends Hl{}Id.prototype.ValueTypeName="bool";Id.prototype.ValueBufferType=Array;Id.prototype.DefaultInterpolation=Im;Id.prototype.InterpolantFactoryMethodLinear=void 0;Id.prototype.InterpolantFactoryMethodSmooth=void 0;class W3 extends Hl{}W3.prototype.ValueTypeName="color";class Xm extends Hl{}Xm.prototype.ValueTypeName="number";class XN extends Au{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let c=u+a;u!==c;u+=4)yi.slerpFlat(s,0,o,u-a,o,u,l);return s}}class eh extends Hl{InterpolantFactoryMethodLinear(e){return new XN(this.times,this.values,this.getValueSize(),e)}}eh.prototype.ValueTypeName="quaternion";eh.prototype.DefaultInterpolation=bd;eh.prototype.InterpolantFactoryMethodSmooth=void 0;class Nd extends Hl{}Nd.prototype.ValueTypeName="string";Nd.prototype.ValueBufferType=Array;Nd.prototype.DefaultInterpolation=Im;Nd.prototype.InterpolantFactoryMethodLinear=void 0;Nd.prototype.InterpolantFactoryMethodSmooth=void 0;class $m extends Hl{}$m.prototype.ValueTypeName="vector";class Km{constructor(e,t=-1,r,i=Cw){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=oa(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(c$(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Hl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=Er.getKeyframeOrder(l);l=Er.sortedArray(l,1,c),u=Er.sortedArray(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Xm(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const h=c[1];let p=i[h];p||(i[h]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,y,g){if(m.length!==0){const x=[],w=[];Er.flattenJSON(m,x,w,y),x.length!==0&&g.push(new h(p,x,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let g=0;g<p[y].morphTargets.length;g++)m[p[y].morphTargets[g]]=-1;for(const g in m){const x=[],w=[];for(let _=0;_!==p[y].morphTargets.length;++_){const A=p[y];x.push(A.time),w.push(A.morphTarget===g?1:0)}i.push(new Xm(".morphTargetInfluence["+g+"]",x,w))}l=m.length*o}else{const m=".bones["+t[h].name+"]";r($m,m+".position",p,"pos",i),r(eh,m+".quaternion",p,"rot",i),r($m,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function u$(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xm;case"vector":case"vector2":case"vector3":case"vector4":return $m;case"color":return W3;case"quaternion":return eh;case"bool":case"boolean":return Id;case"string":return Nd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function c$(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=u$(n.type);if(n.times===void 0){const t=[],r=[];Er.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ld={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class V3{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,h){return u.push(c,h),this},this.removeHandler=function(c){const h=u.indexOf(c);return h!==-1&&u.splice(h,2),this},this.getHandler=function(c){for(let h=0,p=u.length;h<p;h+=2){const m=u[h],y=u[h+1];if(m.global&&(m.lastIndex=0),m.test(c))return y}return null}}}const $N=new V3;class Es{constructor(e){this.manager=e!==void 0?e:$N,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ku={};class Uo extends Es{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ld.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ku[e]!==void 0){Ku[e].push({onLoad:t,onProgress:r,onError:i});return}Ku[e]=[],Ku[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||u.body===void 0||u.body.getReader===void 0)return u;const c=Ku[e],h=u.body.getReader(),p=u.headers.get("Content-Length"),m=p?parseInt(p):0,y=m!==0;let g=0;const x=new ReadableStream({start(w){_();function _(){h.read().then(({done:A,value:C})=>{if(A)w.close();else{g+=C.byteLength;const T=new ProgressEvent("progress",{lengthComputable:y,loaded:g,total:m});for(let D=0,I=c.length;D<I;D++){const B=c[D];B.onProgress&&B.onProgress(T)}w.enqueue(C),_()}})}}});return new Response(x)}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{Ld.add(e,u);const c=Ku[e];delete Ku[e];for(let h=0,p=c.length;h<p;h++){const m=c[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=Ku[e];if(c===void 0)throw this.manager.itemError(e),u;delete Ku[e];for(let h=0,p=c.length;h<p;h++){const m=c[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class f$ extends Es{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Uo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Km.parse(e[r]);t.push(i)}return t}}class h$ extends Es{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new C3,l=new Uo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=_r),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)c(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let g=0;g<p.mipmapCount;g++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+g]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=_r),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class T1 extends Es{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ld.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=A1("img");function l(){c(),Ld.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(h){c(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class q3 extends Es{constructor(e){super(e)}load(e,t,r,i){const s=new dg,o=new T1(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class Y3 extends Es{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new pd,a=new Uo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);!u||(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ys,o.wrapT=u.wrapT!==void 0?u.wrapT:Ys,o.magFilter=u.magFilter!==void 0?u.magFilter:_r,o.minFilter=u.minFilter!==void 0?u.minFilter:_r,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Cc),u.mipmapCount===1&&(o.minFilter=_r),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class vg extends Es{constructor(e){super(e)}load(e,t,r,i){const s=new Qr,o=new T1(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Ul extends Mn{constructor(e,t=1){super(),this.type="Light",this.color=new Mt(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}Ul.prototype.isLight=!0;class J3 extends Ul{constructor(e,t,r){super(e,r),this.type="HemisphereLight",this.position.copy(Mn.DefaultUp),this.updateMatrix(),this.groundColor=new Mt(t)}copy(e){return Ul.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}J3.prototype.isHemisphereLight=!0;const LL=new Ot,RL=new ce,PL=new ce;class X3{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nt(512,512),this.map=null,this.mapPass=null,this.matrix=new Ot,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $1,this._frameExtents=new nt(1,1),this._viewportCount=1,this._viewports=[new or(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;RL.setFromMatrixPosition(e.matrixWorld),t.position.copy(RL),PL.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(PL),t.updateMatrixWorld(),LL.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LL),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class KN extends X3{constructor(){super(new mr(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,r=S1*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}KN.prototype.isSpotLightShadow=!0;class Gw extends Ul{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.type="SpotLight",this.position.copy(Mn.DefaultUp),this.updateMatrix(),this.target=new Mn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.shadow=new KN}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Gw.prototype.isSpotLight=!0;const BL=new Ot,g0=new ce,Cb=new ce;class QN extends X3{constructor(){super(new mr(90,1,.5,500)),this._frameExtents=new nt(4,2),this._viewportCount=6,this._viewports=[new or(2,1,1,1),new or(0,1,1,1),new or(3,1,1,1),new or(1,1,1,1),new or(3,0,1,1),new or(1,0,1,1)],this._cubeDirections=[new ce(1,0,0),new ce(-1,0,0),new ce(0,0,1),new ce(0,0,-1),new ce(0,1,0),new ce(0,-1,0)],this._cubeUps=[new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,0,1),new ce(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),g0.setFromMatrixPosition(e.matrixWorld),r.position.copy(g0),Cb.copy(r.position),Cb.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(Cb),r.updateMatrixWorld(),i.makeTranslation(-g0.x,-g0.y,-g0.z),BL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BL)}}QN.prototype.isPointLightShadow=!0;class jw extends Ul{constructor(e,t,r=0,i=1){super(e,t),this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new QN}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}jw.prototype.isPointLight=!0;class ZN extends X3{constructor(){super(new Ya(-5,5,5,-5,.5,500))}}ZN.prototype.isDirectionalLightShadow=!0;class Ww extends Ul{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(Mn.DefaultUp),this.updateMatrix(),this.target=new Mn,this.shadow=new ZN}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Ww.prototype.isDirectionalLight=!0;class $3 extends Ul{constructor(e,t){super(e,t),this.type="AmbientLight"}}$3.prototype.isAmbientLight=!0;class K3 extends Ul{constructor(e,t,r=10,i=10){super(e,t),this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}K3.prototype.isRectAreaLight=!0;class Q3{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ce)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}Q3.prototype.isSphericalHarmonics3=!0;class iv extends Ul{constructor(e=new Q3,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}iv.prototype.isLightProbe=!0;class eD extends Es{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Uo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=Or.fromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Mt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Mt().setHex(o.value);break;case"v2":i.uniforms[s].value=new nt().fromArray(o.value);break;case"v3":i.uniforms[s].value=new ce().fromArray(o.value);break;case"v4":i.uniforms[s].value=new or().fromArray(o.value);break;case"m3":i.uniforms[s].value=new ji().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ot().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new nt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new nt().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class Nl{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Z3 extends nn{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}Z3.prototype.isInstancedBufferGeometry=!0;class tD extends Es{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Uo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,y){if(t[y]!==void 0)return t[y];const x=m.interleavedBuffers[y],w=s(m,x.buffer),_=tm(x.type,w),A=new uh(_,x.stride);return A.uuid=x.uuid,t[y]=A,A}function s(m,y){if(r[y]!==void 0)return r[y];const x=m.arrayBuffers[y],w=new Uint32Array(x).buffer;return r[y]=w,w}const o=e.isInstancedBufferGeometry?new Z3:new nn,a=e.data.index;if(a!==void 0){const m=tm(a.type,a.array);o.setIndex(new Ln(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let g;if(y.isInterleavedBufferAttribute){const x=i(e.data,y.data);g=new bc(x,y.itemSize,y.offset,y.normalized)}else{const x=tm(y.type,y.array),w=y.isInstancedBufferAttribute?Ad:Ln;g=new w(x,y.itemSize,y.normalized)}y.name!==void 0&&(g.name=y.name),y.usage!==void 0&&g.setUsage(y.usage),y.updateRange!==void 0&&(g.updateRange.offset=y.updateRange.offset,g.updateRange.count=y.updateRange.count),o.setAttribute(m,g)}const u=e.data.morphAttributes;if(u)for(const m in u){const y=u[m],g=[];for(let x=0,w=y.length;x<w;x++){const _=y[x];let A;if(_.isInterleavedBufferAttribute){const C=i(e.data,_.data);A=new bc(C,_.itemSize,_.offset,_.normalized)}else{const C=tm(_.type,_.array);A=new Ln(C,_.itemSize,_.normalized)}_.name!==void 0&&(A.name=_.name),g.push(A)}o.morphAttributes[m]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const g=h[m];o.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new ce;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Lc(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class d$ extends Es{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Nl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Uo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Nl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Uo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),t!==void 0){let h=!1;for(const p in o)if(o[p]instanceof HTMLImageElement){h=!0;break}h===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new pu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new tv().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new tD;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in TL?a=TL[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new eD;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l.type==="MultiMaterial"){const u=[];for(let c=0;c<l.materials.length;c++){const h=l.materials[c];r[h.uuid]===void 0&&(r[h.uuid]=s.parse(h)),u.push(r[h.uuid])}i[l.uuid]=u}else r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Km.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:tm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new V3(t);s=new T1(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const x=p[y],w=a(x);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new pd(w.data,w.width,w.height)))}i[h.uuid]=new rd(m)}else{const m=a(h.url);i[h.uuid]=new rd(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:tm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new T1(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?c.push(y):c.push(new pd(y.data,y.width,y.height)))}r[l.uuid]=new rd(c)}else{const c=await s(l.url);r[l.uuid]=new rd(c)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let c;Array.isArray(u)?(c=new dg,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new pd:c=new Qr,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,p$)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],kL),c.wrapT=r(a.wrap[1],kL)),a.format!==void 0&&(c.format=a.format),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,IL)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,IL)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const x=p[y];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let c,h;switch(e.type){case"Scene":o=new mg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Mt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Q1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new K1(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new mr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ya(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new $3(e.color,e.intensity);break;case"DirectionalLight":o=new Ww(e.color,e.intensity);break;case"PointLight":o=new jw(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new K3(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Gw(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new J3(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new iv().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),h=l(e.material),o=new Z1(c,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),h=l(e.material),o=new si(c,h);break;case"InstancedMesh":c=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new Fm(c,h,p),o.instanceMatrix=new Ad(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new Ad(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new ON;break;case"Line":o=new wu(a(e.geometry),l(e.material));break;case"LineLoop":o=new Dw(a(e.geometry),l(e.material));break;case"LineSegments":o=new vo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new gg(a(e.geometry),l(e.material));break;case"Sprite":o=new Nw(l(e.material));break;case"Group":o=new Pl;break;case"Bone":o=new ev;break;default:o=new Mn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],g=o.getObjectByProperty("uuid",y.object);g!==void 0&&o.addLevel(g,y.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const p$={UVMapping:Mw,CubeReflectionMapping:_c,CubeRefractionMapping:Xf,EquirectangularReflectionMapping:Pm,EquirectangularRefractionMapping:x1,CubeUVReflectionMapping:cg},kL={RepeatWrapping:ja,ClampToEdgeWrapping:Ys,MirroredRepeatWrapping:Bm},IL={NearestFilter:hi,NearestMipmapNearestFilter:w1,NearestMipmapLinearFilter:_1,LinearFilter:_r,LinearMipmapNearestFilter:Ew,LinearMipmapLinearFilter:Cc};class eE extends Es{constructor(e){super(e),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ld.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Ld.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}eE.prototype.isImageBitmapLoader=!0;let Cy;const tE={getContext:function(){return Cy===void 0&&(Cy=new(window.AudioContext||window.webkitAudioContext)),Cy},setContext:function(n){Cy=n}};class nD extends Es{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Uo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);tE.getContext().decodeAudioData(l,function(c){t(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class rD extends iv{constructor(e,t,r=1){super(void 0,r);const i=new Mt().set(e),s=new Mt().set(t),o=new ce(i.r,i.g,i.b),a=new ce(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}rD.prototype.isHemisphereLightProbe=!0;class iD extends iv{constructor(e,t=1){super(void 0,t);const r=new Mt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}iD.prototype.isAmbientLightProbe=!0;const NL=new Ot,DL=new Ot,Ih=new Ot;class m${constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ih.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(fd*t.fov*.5)/t.zoom;let a,l;DL.elements[12]=-i,NL.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Ih.elements[0]=2*t.near/(l-a),Ih.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ih),a=-o*t.aspect-s,l=o*t.aspect-s,Ih.elements[0]=2*t.near/(l-a),Ih.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ih)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(DL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(NL)}}class nE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=FL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=FL();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function FL(){return(typeof performance=="undefined"?Date:performance).now()}const Nh=new ce,OL=new yi,g$=new ce,Dh=new ce;class v$ extends Mn{constructor(){super(),this.type="AudioListener",this.context=tE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new nE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Nh,OL,g$),Dh.set(0,0,-1).applyQuaternion(OL),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Nh.x,i),t.positionY.linearRampToValueAtTime(Nh.y,i),t.positionZ.linearRampToValueAtTime(Nh.z,i),t.forwardX.linearRampToValueAtTime(Dh.x,i),t.forwardY.linearRampToValueAtTime(Dh.y,i),t.forwardZ.linearRampToValueAtTime(Dh.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Nh.x,Nh.y,Nh.z),t.setOrientation(Dh.x,Dh.y,Dh.z,r.x,r.y,r.z)}}class rE extends Mn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Fh=new ce,UL=new yi,y$=new ce,Oh=new ce;class x$ extends rE{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Fh,UL,y$),Oh.set(0,0,1).applyQuaternion(UL);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Fh.x,r),t.positionY.linearRampToValueAtTime(Fh.y,r),t.positionZ.linearRampToValueAtTime(Fh.z,r),t.orientationX.linearRampToValueAtTime(Oh.x,r),t.orientationY.linearRampToValueAtTime(Oh.y,r),t.orientationZ.linearRampToValueAtTime(Oh.z,r)}else t.setPosition(Fh.x,Fh.y,Fh.z),t.setOrientation(Oh.x,Oh.y,Oh.z)}}class sD{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class oD{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){yi.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;yi.multiplyQuaternionsFlat(e,o,e,t,e,r),yi.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const iE="\\[\\]\\.:\\/",w$=new RegExp("["+iE+"]","g"),sE="[^"+iE+"]",_$="[^"+iE.replace("\\.","")+"]",b$=/((?:WC+[\/:])*)/.source.replace("WC",sE),S$=/(WCOD+)?/.source.replace("WCOD",_$),A$=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",sE),M$=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",sE),E$=new RegExp("^"+b$+S$+A$+M$+"$"),C$=["material","materials","bones"];class T${constructor(e,t,r){const i=r||zn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class zn{constructor(e,t,r){this.path=t,this.parsedPath=r||zn.parseTrackName(t),this.node=zn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new zn.Composite(e,t,r):new zn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(w$,"")}static parseTrackName(e){const t=E$.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);C$.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=zn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}zn.Composite=T$;zn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};zn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};zn.prototype.GetterByBindingType=[zn.prototype._getValue_direct,zn.prototype._getValue_array,zn.prototype._getValue_arrayElement,zn.prototype._getValue_toArray];zn.prototype.SetterByBindingTypeAndVersioning=[[zn.prototype._setValue_direct,zn.prototype._setValue_direct_setNeedsUpdate,zn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[zn.prototype._setValue_array,zn.prototype._setValue_array_setNeedsUpdate,zn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[zn.prototype._setValue_arrayElement,zn.prototype._setValue_arrayElement_setNeedsUpdate,zn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[zn.prototype._setValue_fromArray,zn.prototype._setValue_fromArray_setNeedsUpdate,zn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class aD{constructor(){this.uuid=oa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){const p=arguments[c],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let g=0,x=o;g!==x;++g)s[g].push(new zn(p,r[g],i[g]))}else if(y<u){a=e[y];const g=--u,x=e[g];t[x.uuid]=y,e[y]=x,t[m]=g,e[g]=p;for(let w=0,_=o;w!==_;++w){const A=s[w],C=A[g];let T=A[y];A[y]=C,T===void 0&&(T=new zn(p,r[w],i[w])),A[g]=T}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=t[u];if(c!==void 0&&c>=s){const h=s++,p=e[h];t[p.uuid]=c,e[c]=p,t[u]=h,e[h]=l;for(let m=0,y=i;m!==y;++m){const g=r[m],x=g[h],w=g[c];g[c]=x,g[h]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,h=t[c];if(h!==void 0)if(delete t[c],h<s){const p=--s,m=e[p],y=--o,g=e[y];t[m.uuid]=h,e[h]=m,t[g.uuid]=p,e[p]=g,e.pop();for(let x=0,w=i;x!==w;++x){const _=r[x],A=_[p],C=_[y];_[h]=A,_[p]=C,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,g=i;y!==g;++y){const x=r[y];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,h=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(h);for(let p=c,m=l.length;p!==m;++p){const y=l[p];h[p]=new zn(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}aD.prototype.isAnimationObjectGroup=!0;class L${constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:td,endingEnd:td};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=iN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case _3:for(let c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case Cw:default:for(let c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===sN;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===rN){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=nd,i.endingEnd=nd):(e?i.endingStart=this.zeroSlopeAtStart?nd:td:i.endingStart=b1,t?i.endingEnd=this.zeroSlopeAtEnd?nd:td:i.endingEnd=b1)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}class lD extends Tc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let y=c[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const g=t&&t._propertyBindings[h].binding.parsedPath;y=new oD(zn.create(r,m,g),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new j3(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Km.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Cw),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new L$(this,o,t,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Km.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,h=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=c,t[c]=h,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}lD.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Vw{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Vw(this.value.clone===void 0?this.value:this.value.clone())}}class uD extends uh{constructor(e,t,r=1){super(e,t),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}uD.prototype.isInstancedInterleavedBuffer=!0;class cD{constructor(e,t,r,i,s){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}cD.prototype.isGLBufferAttribute=!0;class oE{constructor(e,t,r=0,i=1/0){this.ray=new lh(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new dd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return oA(e,this,r,t),r.sort(zL),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)oA(e[i],this,r,t);return r.sort(zL),r}}function zL(n,e){return n.distance-e.distance}function oA(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)oA(i[s],e,t,!0)}}class aA{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(di(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class R${constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const HL=new nt;class yg{constructor(e=new nt(1/0,1/0),t=new nt(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=HL.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return HL.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}yg.prototype.isBox2=!0;const GL=new ce,Ty=new ce;class fD{constructor(e=new ce,t=new ce){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){GL.subVectors(e,this.start),Ty.subVectors(this.end,this.start);const r=Ty.dot(Ty);let s=Ty.dot(GL)/r;return t&&(s=di(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const jL=new ce;class P$ extends Mn{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new nn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new jt(i,3));const s=new Wi({fog:!1,toneMapped:!1});this.cone=new vo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),jL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(jL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const mf=new ce,Ly=new Ot,Tb=new Ot;class hD extends vo{constructor(e){const t=dD(e),r=new nn,i=[],s=[],o=new Mt(0,0,1),a=new Mt(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new jt(i,3)),r.setAttribute("color",new jt(s,3));const l=new Wi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");Tb.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Ly.multiplyMatrices(Tb,a.matrixWorld),mf.setFromMatrixPosition(Ly),i.setXYZ(o,mf.x,mf.y,mf.z),Ly.multiplyMatrices(Tb,a.parent.matrixWorld),mf.setFromMatrixPosition(Ly),i.setXYZ(o+1,mf.x,mf.y,mf.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function dD(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,dD(n.children[t]));return e}class B$ extends si{constructor(e,t,r){const i=new Td(t,4,2),s=new Io({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const k$=new ce,WL=new Mt,VL=new Mt;class I$ extends Mn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Ed(t);i.rotateY(Math.PI*.5),this.material=new Io({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Ln(o,3)),this.add(new si(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");WL.copy(this.light.color),VL.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?WL:VL;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(k$.setFromMatrixPosition(this.light.matrixWorld).negate())}}class pD extends vo{constructor(e=10,t=10,r=4473924,i=8947848){r=new Mt(r),i=new Mt(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const g=p===s?r:i;g.toArray(u,m),m+=3,g.toArray(u,m),m+=3,g.toArray(u,m),m+=3,g.toArray(u,m),m+=3}const c=new nn;c.setAttribute("position",new jt(l,3)),c.setAttribute("color",new jt(u,3));const h=new Wi({vertexColors:!0,toneMapped:!1});super(c,h),this.type="GridHelper"}}class N$ extends vo{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Mt(s),o=new Mt(o);const a=[],l=[];for(let h=0;h<=t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const g=h&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let h=0;h<=r;h++){const p=h&1?s:o,m=e-e/r*h;for(let y=0;y<i;y++){let g=y/i*(Math.PI*2),x=Math.sin(g)*m,w=Math.cos(g)*m;a.push(x,0,w),l.push(p.r,p.g,p.b),g=(y+1)/i*(Math.PI*2),x=Math.sin(g)*m,w=Math.cos(g)*m,a.push(x,0,w),l.push(p.r,p.g,p.b)}}const u=new nn;u.setAttribute("position",new jt(a,3)),u.setAttribute("color",new jt(l,3));const c=new Wi({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}}const qL=new ce,Ry=new ce,YL=new ce;class D$ extends Mn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new nn;i.setAttribute("position",new jt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Wi({fog:!1,toneMapped:!1});this.lightPlane=new wu(i,s),this.add(this.lightPlane),i=new nn,i.setAttribute("position",new jt([0,0,0,0,0,1],3)),this.targetLine=new wu(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){qL.setFromMatrixPosition(this.light.matrixWorld),Ry.setFromMatrixPosition(this.light.target.matrixWorld),YL.subVectors(Ry,qL),this.lightPlane.lookAt(Ry),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ry),this.targetLine.scale.z=YL.length()}}const Py=new ce,ni=new hg;class F$ extends vo{constructor(e){const t=new nn,r=new Wi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={},a=new Mt(16755200),l=new Mt(16711680),u=new Mt(43775),c=new Mt(16777215),h=new Mt(3355443);p("n1","n2",a),p("n2","n4",a),p("n4","n3",a),p("n3","n1",a),p("f1","f2",a),p("f2","f4",a),p("f4","f3",a),p("f3","f1",a),p("n1","f1",a),p("n2","f2",a),p("n3","f3",a),p("n4","f4",a),p("p","n1",l),p("p","n2",l),p("p","n3",l),p("p","n4",l),p("u1","u2",u),p("u2","u3",u),p("u3","u1",u),p("c","t",c),p("p","c",h),p("cn1","cn2",h),p("cn3","cn4",h),p("cf1","cf2",h),p("cf3","cf4",h);function p(y,g,x){m(y,x),m(g,x)}function m(y,g){i.push(0,0,0),s.push(g.r,g.g,g.b),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}t.setAttribute("position",new jt(i,3)),t.setAttribute("color",new jt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;ni.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ui("c",t,e,ni,0,0,-1),ui("t",t,e,ni,0,0,1),ui("n1",t,e,ni,-r,-i,-1),ui("n2",t,e,ni,r,-i,-1),ui("n3",t,e,ni,-r,i,-1),ui("n4",t,e,ni,r,i,-1),ui("f1",t,e,ni,-r,-i,1),ui("f2",t,e,ni,r,-i,1),ui("f3",t,e,ni,-r,i,1),ui("f4",t,e,ni,r,i,1),ui("u1",t,e,ni,r*.7,i*1.1,-1),ui("u2",t,e,ni,-r*.7,i*1.1,-1),ui("u3",t,e,ni,0,i*2,-1),ui("cf1",t,e,ni,-r,0,1),ui("cf2",t,e,ni,r,0,1),ui("cf3",t,e,ni,0,-i,1),ui("cf4",t,e,ni,0,i,1),ui("cn1",t,e,ni,-r,0,-1),ui("cn2",t,e,ni,r,0,-1),ui("cn3",t,e,ni,0,-i,-1),ui("cn4",t,e,ni,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ui(n,e,t,r,i,s,o){Py.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],Py.x,Py.y,Py.z)}}const By=new Zs;class mD extends vo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new nn;s.setIndex(new Ln(r,1)),s.setAttribute("position",new Ln(i,3)),super(s,new Wi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&By.setFromObject(this.object),By.isEmpty())return;const t=By.min,r=By.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return vo.prototype.copy.call(this,e),this.object=e.object,this}}class O$ extends vo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new nn;s.setIndex(new Ln(r,1)),s.setAttribute("position",new jt(i,3)),super(s,new Wi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class U$ extends wu{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new nn;o.setAttribute("position",new jt(s,3)),o.computeBoundingSphere(),super(o,new Wi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new nn;l.setAttribute("position",new jt(a,3)),l.computeBoundingSphere(),this.add(new si(l,new Io({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Oo:Yf,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const JL=new ce;let ky,Lb;class z$ extends Mn{constructor(e=new ce(0,0,1),t=new ce(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",ky===void 0&&(ky=new nn,ky.setAttribute("position",new jt([0,0,0,0,1,0],3)),Lb=new Qf(0,.5,1,5,1),Lb.translate(0,-.5,0)),this.position.copy(t),this.line=new wu(ky,new Wi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new si(Lb,new Io({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{JL.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(JL,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class gD extends vo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new nn;i.setAttribute("position",new jt(t,3)),i.setAttribute("color",new jt(r,3));const s=new Wi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Mt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class H${constructor(){this.type="ShapePath",this.color=new Mt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Om,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(_){const A=[];for(let C=0,T=_.length;C<T;C++){const D=_[C],I=new pu;I.curves=D.curves,A.push(I)}return A}function i(_,A){const C=A.length;let T=!1;for(let D=C-1,I=0;I<C;D=I++){let B=A[D],W=A[I],G=W.x-B.x,L=W.y-B.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(B=A[I],G=-G,W=A[D],L=-L),_.y<B.y||_.y>W.y)continue;if(_.y===B.y){if(_.x===B.x)return!0}else{const P=L*(_.x-B.x)-G*(_.y-B.y);if(P===0)return!0;if(P<0)continue;T=!T}}else{if(_.y!==B.y)continue;if(W.x<=_.x&&_.x<=B.x||B.x<=_.x&&_.x<=W.x)return!0}}return T}const s=mu.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return r(o);let a,l,u;const c=[];if(o.length===1)return l=o[0],u=new pu,u.curves=l.curves,c.push(u),c;let h=!s(o[0].getPoints());h=e?!h:h;const p=[],m=[];let y=[],g=0,x;m[g]=void 0,y[g]=[];for(let _=0,A=o.length;_<A;_++)l=o[_],x=l.getPoints(),a=s(x),a=e?!a:a,a?(!h&&m[g]&&g++,m[g]={s:new pu,p:x},m[g].s.curves=l.curves,h&&g++,y[g]=[]):y[g].push({h:l,p:x[0]});if(!m[0])return r(o);if(m.length>1){let _=!1,A=0;for(let C=0,T=m.length;C<T;C++)p[C]=[];for(let C=0,T=m.length;C<T;C++){const D=y[C];for(let I=0;I<D.length;I++){const B=D[I];let W=!0;for(let G=0;G<m.length;G++)i(B.p,m[G].p)&&(C!==G&&A++,W?(W=!1,p[G].push(B)):_=!0);W&&p[C].push(B)}}A>0&&_===!1&&(y=p)}let w;for(let _=0,A=m.length;_<A;_++){u=m[_].s,c.push(u),w=y[_];for(let C=0,T=w.length;C<T;C++)u.holes.push(w[C].h)}return c}}class P0{static toHalfFloat(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=di(e,-65504,65504),XL[0]=e;const t=$L[0],r=t>>23&511;return Sl[r]+((t&8388607)>>Al[r])}static fromHalfFloat(e){const t=e>>10;return $L[0]=aE[yD[t]+(e&1023)]+xg[t],XL[0]}}const vD=new ArrayBuffer(4),XL=new Float32Array(vD),$L=new Uint32Array(vD),Sl=new Uint32Array(512),Al=new Uint32Array(512);for(let n=0;n<256;++n){const e=n-127;e<-27?(Sl[n]=0,Sl[n|256]=32768,Al[n]=24,Al[n|256]=24):e<-14?(Sl[n]=1024>>-e-14,Sl[n|256]=1024>>-e-14|32768,Al[n]=-e-1,Al[n|256]=-e-1):e<=15?(Sl[n]=e+15<<10,Sl[n|256]=e+15<<10|32768,Al[n]=13,Al[n|256]=13):e<128?(Sl[n]=31744,Sl[n|256]=64512,Al[n]=24,Al[n|256]=24):(Sl[n]=31744,Sl[n|256]=64512,Al[n]=13,Al[n|256]=13)}const aE=new Uint32Array(2048),xg=new Uint32Array(64),yD=new Uint32Array(64);for(let n=1;n<1024;++n){let e=n<<13,t=0;for(;(e&8388608)===0;)e<<=1,t-=8388608;e&=-8388609,t+=947912704,aE[n]=e|t}for(let n=1024;n<2048;++n)aE[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)xg[n]=n<<23;xg[31]=1199570944;xg[32]=2147483648;for(let n=33;n<63;++n)xg[n]=2147483648+(n-32<<23);xg[63]=3347054592;for(let n=1;n<64;++n)n!==32&&(yD[n]=1024);const G$=0,j$=1,W$=0,V$=1,q$=2;function Y$(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function J$(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}class X$ extends gg{constructor(e,t){console.warn("THREE.PointCloud has been renamed to THREE.Points."),super(e,t)}}class $$ extends Nw{constructor(e){console.warn("THREE.Particle has been renamed to THREE.Sprite."),super(e)}}class K$ extends gg{constructor(e,t){console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),super(e,t)}}class Q$ extends ch{constructor(e){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),super(e)}}class Z$ extends ch{constructor(e){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),super(e)}}class eK extends ch{constructor(e){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),super(e)}}class tK extends ce{constructor(e,t,r){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),super(e,t,r)}}class nK extends Ln{constructor(e,t){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),super(e,t),this.setUsage(Kf)}}class rK extends yN{constructor(e,t){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),super(e,t)}}class iK extends xN{constructor(e,t){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),super(e,t)}}class sK extends wN{constructor(e,t){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),super(e,t)}}class oK extends _N{constructor(e,t){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),super(e,t)}}class aK extends Tw{constructor(e,t){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),super(e,t)}}class lK extends bN{constructor(e,t){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),super(e,t)}}class uK extends Lw{constructor(e,t){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),super(e,t)}}class cK extends jt{constructor(e,t){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),super(e,t)}}class fK extends AN{constructor(e,t){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),super(e,t)}}ca.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(ca.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};Om.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};class hK extends gD{constructor(e){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),super(e)}}class dK extends mD{constructor(e,t){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),super(e,t)}}class pK extends vo{constructor(e,t){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),super(new k3(e.geometry),new Wi({color:t!==void 0?t:16777215}))}}pD.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};hD.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};class mK extends vo{constructor(e,t){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),super(new I3(e.geometry),new Wi({color:t!==void 0?t:16777215}))}}Es.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Nl.extractUrlBase(n)};Es.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};class gK extends Uo{constructor(e){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),super(e)}}class vK extends Y3{constructor(e){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),super(e)}}yg.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};yg.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};yg.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};yg.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};Zs.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Zs.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Zs.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Zs.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Zs.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Rc.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Lc.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};$1.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};fD.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};ji.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};ji.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};ji.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};ji.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};ji.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};ji.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Ot.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Ot.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Ot.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new ce().setFromMatrixColumn(this,3)};Ot.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Ot.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Ot.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ot.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ot.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Ot.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Ot.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ot.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Ot.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Ot.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Ot.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Ot.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Ot.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ot.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Ot.prototype.makeFrustum=function(n,e,t,r,i,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,s)};Ot.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};au.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};yi.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};yi.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};lh.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};lh.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};lh.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};vi.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};vi.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};vi.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};vi.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};vi.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};vi.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),vi.getBarycoord(n,e,t,r,i)};vi.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),vi.getNormal(n,e,t,r)};pu.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};pu.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new bu(this,n)};pu.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Cd(this,n)};nt.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};nt.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};nt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};ce.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};ce.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};ce.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};ce.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};ce.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};ce.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};ce.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ce.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ce.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};or.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};or.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Mn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};Mn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Mn.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};Mn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Mn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Mn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});si.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(si.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),oN},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Z1.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};mr.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(Ul.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(Ln.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Kf},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Kf)}}});Ln.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Kf:Nm),this};Ln.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Ln.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};nn.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};nn.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Ln(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};nn.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};nn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};nn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};nn.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};nn.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(nn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});uh.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Kf:Nm),this};uh.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};bu.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};bu.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};bu.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};mg.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Vw.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Or.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Mt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===v3}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties($a.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});ar.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};ar.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};ar.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};ar.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};ar.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};ar.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};ar.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};ar.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};ar.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};ar.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};ar.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};ar.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};ar.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};ar.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};ar.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};ar.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};ar.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};ar.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};ar.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};ar.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};ar.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};ar.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};ar.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};ar.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};ar.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(ar.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?sr:ua}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(IN.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});class yK extends X1{constructor(e,t,r){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),super(e,r)}}Object.defineProperties(mo.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});rE.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new nD().load(n,function(r){e.setBuffer(r)}),this};sD.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Rw.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};Rw.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};ah.crossOrigin=void 0;ah.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new vg;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};ah.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new q3;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};ah.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ah.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function xK(){console.error("THREE.CanvasRenderer has been removed")}function wK(){console.error("THREE.JSONLoader has been removed.")}const _K={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function bK(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}class SK extends nn{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class AK extends nn{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function MK(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function EK(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function CK(){console.error("THREE.ImmediateRenderObject has been removed.")}class TK extends mo{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class LK extends fg{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class RK extends J1{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Aw}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Aw);var PK=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:w3,AddEquation:Yh,AddOperation:FI,AdditiveAnimationBlendMode:_3,AdditiveBlending:ES,AlphaFormat:YI,AlwaysDepth:RI,AlwaysStencilFunc:fN,AmbientLight:$3,AmbientLightProbe:iD,AnimationClip:Km,AnimationLoader:f$,AnimationMixer:lD,AnimationObjectGroup:aD,AnimationUtils:Er,ArcCurve:T3,ArrayCamera:M3,ArrowHelper:z$,Audio:rE,AudioAnalyser:sD,AudioContext:tE,AudioListener:v$,AudioLoader:nD,AxesHelper:gD,AxisHelper:hK,BackSide:Oo,BasicDepthPacking:lN,BasicShadowMap:lW,BinaryTextureLoader:vK,Bone:ev,BooleanKeyframeTrack:Id,BoundingBoxHelper:dK,Box2:yg,Box3:Zs,Box3Helper:O$,BoxBufferGeometry:xu,BoxGeometry:xu,BoxHelper:mD,BufferAttribute:Ln,BufferGeometry:nn,BufferGeometryLoader:tD,ByteType:GI,Cache:Ld,Camera:hg,CameraHelper:F$,CanvasRenderer:xK,CanvasTexture:HN,CapsuleBufferGeometry:Um,CapsuleGeometry:Um,CatmullRomCurve3:R3,CineonToneMapping:zI,CircleBufferGeometry:zm,CircleGeometry:zm,ClampToEdgeWrapping:Ys,Clock:nE,Color:Mt,ColorKeyframeTrack:W3,ColorManagement:uo,CompressedTexture:C3,CompressedTextureLoader:h$,ConeBufferGeometry:Hm,ConeGeometry:Hm,CubeCamera:Rw,CubeReflectionMapping:_c,CubeRefractionMapping:Xf,CubeTexture:dg,CubeTextureLoader:q3,CubeUVReflectionMapping:cg,CubicBezierCurve:Fw,CubicBezierCurve3:P3,CubicInterpolant:YN,CullFaceBack:MS,CullFaceFront:gI,CullFaceFrontBack:aW,CullFaceNone:mI,Curve:ca,CurvePath:jN,CustomBlending:vI,CustomToneMapping:HI,CylinderBufferGeometry:Qf,CylinderGeometry:Qf,Cylindrical:R$,Data3DTexture:J1,DataArrayTexture:fg,DataTexture:pd,DataTexture2DArray:LK,DataTexture3D:RK,DataTextureLoader:Y3,DataUtils:P0,DecrementStencilOp:yW,DecrementWrapStencilOp:wW,DefaultLoadingManager:$N,DepthFormat:jf,DepthStencilFormat:_d,DepthTexture:E3,DirectionalLight:Ww,DirectionalLightHelper:D$,DiscreteInterpolant:JN,DodecahedronBufferGeometry:Gm,DodecahedronGeometry:Gm,DoubleSide:Jf,DstAlphaFactor:AI,DstColorFactor:EI,DynamicBufferAttribute:nK,DynamicCopyUsage:IW,DynamicDrawUsage:Kf,DynamicReadUsage:PW,EdgesGeometry:k3,EdgesHelper:pK,EllipseCurve:nv,EqualDepth:BI,EqualStencilFunc:AW,EquirectangularReflectionMapping:Pm,EquirectangularRefractionMapping:x1,Euler:Rc,EventDispatcher:Tc,ExtrudeBufferGeometry:bu,ExtrudeGeometry:bu,FaceColors:V$,FileLoader:Uo,FlatShading:v3,Float16BufferAttribute:SN,Float32Attribute:cK,Float32BufferAttribute:jt,Float64Attribute:fK,Float64BufferAttribute:AN,FloatType:Wa,Fog:Q1,FogExp2:K1,Font:EK,FontLoader:MK,FramebufferTexture:zN,FrontSide:Yf,Frustum:$1,GLBufferAttribute:cD,GLSL1:DW,GLSL3:QS,GreaterDepth:II,GreaterEqualDepth:kI,GreaterEqualStencilFunc:TW,GreaterStencilFunc:EW,GridHelper:pD,Group:Pl,HalfFloatType:Va,HemisphereLight:J3,HemisphereLightHelper:I$,HemisphereLightProbe:rD,IcosahedronBufferGeometry:jm,IcosahedronGeometry:jm,ImageBitmapLoader:eE,ImageLoader:T1,ImageUtils:ah,ImmediateRenderObject:CK,IncrementStencilOp:vW,IncrementWrapStencilOp:xW,InstancedBufferAttribute:Ad,InstancedBufferGeometry:Z3,InstancedInterleavedBuffer:uD,InstancedMesh:Fm,Int16Attribute:oK,Int16BufferAttribute:_N,Int32Attribute:lK,Int32BufferAttribute:bN,Int8Attribute:rK,Int8BufferAttribute:yN,IntType:WI,InterleavedBuffer:uh,InterleavedBufferAttribute:bc,Interpolant:Au,InterpolateDiscrete:Im,InterpolateLinear:bd,InterpolateSmooth:yx,InvertStencilOp:_W,JSONLoader:wK,KeepStencilOp:xx,KeyframeTrack:Hl,LOD:ON,LatheBufferGeometry:Md,LatheGeometry:Md,Layers:dd,LensFlare:bK,LessDepth:PI,LessEqualDepth:l2,LessEqualStencilFunc:MW,LessStencilFunc:SW,Light:Ul,LightProbe:iv,Line:wu,Line3:fD,LineBasicMaterial:Wi,LineCurve:rv,LineCurve3:GN,LineDashedMaterial:G3,LineLoop:Dw,LinePieces:j$,LineSegments:vo,LineStrip:G$,LinearEncoding:ua,LinearFilter:_r,LinearInterpolant:j3,LinearMipMapLinearFilter:dW,LinearMipMapNearestFilter:hW,LinearMipmapLinearFilter:Cc,LinearMipmapNearestFilter:Ew,LinearSRGBColorSpace:Rf,LinearToneMapping:OI,Loader:Es,LoaderUtils:Nl,LoadingManager:V3,LoopOnce:rN,LoopPingPong:sN,LoopRepeat:iN,LuminanceAlphaFormat:$I,LuminanceFormat:XI,MOUSE:Gh,Material:Or,MaterialLoader:eD,Math:eA,MathUtils:eA,Matrix3:ji,Matrix4:Ot,MaxEquation:RS,Mesh:si,MeshBasicMaterial:Io,MeshDepthMaterial:Bw,MeshDistanceMaterial:kw,MeshFaceMaterial:Y$,MeshLambertMaterial:z3,MeshMatcapMaterial:H3,MeshNormalMaterial:U3,MeshPhongMaterial:F3,MeshPhysicalMaterial:Pc,MeshStandardMaterial:Su,MeshToonMaterial:O3,MinEquation:LS,MirroredRepeatWrapping:Bm,MixOperation:DI,MultiMaterial:J$,MultiplyBlending:TS,MultiplyOperation:Y1,NearestFilter:hi,NearestMipMapLinearFilter:fW,NearestMipMapNearestFilter:cW,NearestMipmapLinearFilter:_1,NearestMipmapNearestFilter:w1,NeverDepth:LI,NeverStencilFunc:bW,NoBlending:pc,NoColorSpace:pW,NoColors:W$,NoToneMapping:Il,NormalAnimationBlendMode:Cw,NormalBlending:ud,NotEqualDepth:NI,NotEqualStencilFunc:CW,NumberKeyframeTrack:Xm,Object3D:Mn,ObjectLoader:d$,ObjectSpaceNormalMap:cN,OctahedronBufferGeometry:Ed,OctahedronGeometry:Ed,OneFactor:_I,OneMinusDstAlphaFactor:MI,OneMinusDstColorFactor:CI,OneMinusSrcAlphaFactor:x3,OneMinusSrcColorFactor:SI,OrthographicCamera:Ya,PCFShadowMap:m3,PCFSoftShadowMap:g3,PMREMGenerator:tA,ParametricGeometry:SK,Particle:$$,ParticleBasicMaterial:Z$,ParticleSystem:K$,ParticleSystemMaterial:eK,Path:Om,PerspectiveCamera:mr,Plane:au,PlaneBufferGeometry:Sd,PlaneGeometry:Sd,PlaneHelper:U$,PointCloud:X$,PointCloudMaterial:Q$,PointLight:jw,PointLightHelper:B$,Points:gg,PointsMaterial:ch,PolarGridHelper:N$,PolyhedronBufferGeometry:_u,PolyhedronGeometry:_u,PositionalAudio:x$,PropertyBinding:zn,PropertyMixer:oD,QuadraticBezierCurve:Ow,QuadraticBezierCurve3:Uw,Quaternion:yi,QuaternionKeyframeTrack:eh,QuaternionLinearInterpolant:XN,REVISION:Aw,RGBADepthPacking:uN,RGBAFormat:ia,RGBAIntegerFormat:tN,RGBA_ASTC_10x10_Format:JS,RGBA_ASTC_10x5_Format:VS,RGBA_ASTC_10x6_Format:qS,RGBA_ASTC_10x8_Format:YS,RGBA_ASTC_12x10_Format:XS,RGBA_ASTC_12x12_Format:$S,RGBA_ASTC_4x4_Format:FS,RGBA_ASTC_5x4_Format:OS,RGBA_ASTC_5x5_Format:US,RGBA_ASTC_6x5_Format:zS,RGBA_ASTC_6x6_Format:HS,RGBA_ASTC_8x5_Format:GS,RGBA_ASTC_8x6_Format:jS,RGBA_ASTC_8x8_Format:WS,RGBA_BPTC_Format:KS,RGBA_ETC2_EAC_Format:DS,RGBA_PVRTC_2BPPV1_Format:IS,RGBA_PVRTC_4BPPV1_Format:kS,RGBA_S3TC_DXT1_Format:mx,RGBA_S3TC_DXT3_Format:gx,RGBA_S3TC_DXT5_Format:vx,RGBFormat:JI,RGB_ETC1_Format:nN,RGB_ETC2_Format:NS,RGB_PVRTC_2BPPV1_Format:BS,RGB_PVRTC_4BPPV1_Format:PS,RGB_S3TC_DXT1_Format:px,RGFormat:ZI,RGIntegerFormat:eN,RawShaderMaterial:D3,Ray:lh,Raycaster:oE,RectAreaLight:K3,RedFormat:KI,RedIntegerFormat:QI,ReinhardToneMapping:UI,RepeatWrapping:ja,ReplaceStencilOp:gW,ReverseSubtractEquation:xI,RingBufferGeometry:Wm,RingGeometry:Wm,SRGBColorSpace:ou,Scene:mg,SceneUtils:_K,ShaderChunk:Cn,ShaderLib:Ll,ShaderMaterial:$a,ShadowMaterial:N3,Shape:pu,ShapeBufferGeometry:Cd,ShapeGeometry:Cd,ShapePath:H$,ShapeUtils:mu,ShortType:jI,Skeleton:tv,SkeletonHelper:hD,SkinnedMesh:Z1,SmoothShading:uW,Source:rd,Sphere:Lc,SphereBufferGeometry:Td,SphereGeometry:Td,Spherical:aA,SphericalHarmonics3:Q3,SplineCurve:zw,SpotLight:Gw,SpotLightHelper:P$,Sprite:Nw,SpriteMaterial:Iw,SrcAlphaFactor:y3,SrcAlphaSaturateFactor:TI,SrcColorFactor:bI,StaticCopyUsage:kW,StaticDrawUsage:Nm,StaticReadUsage:RW,StereoCamera:m$,StreamCopyUsage:NW,StreamDrawUsage:LW,StreamReadUsage:BW,StringKeyframeTrack:Nd,SubtractEquation:yI,SubtractiveBlending:CS,TOUCH:jh,TangentSpaceNormalMap:oh,TetrahedronBufferGeometry:Vm,TetrahedronGeometry:Vm,TextGeometry:AK,Texture:Qr,TextureLoader:vg,TorusBufferGeometry:qm,TorusGeometry:qm,TorusKnotBufferGeometry:Ym,TorusKnotGeometry:Ym,Triangle:vi,TriangleFanDrawMode:b3,TriangleStripDrawMode:aN,TrianglesDrawMode:oN,TubeBufferGeometry:Jm,TubeGeometry:Jm,UVMapping:Mw,Uint16Attribute:aK,Uint16BufferAttribute:Tw,Uint32Attribute:uK,Uint32BufferAttribute:Lw,Uint8Attribute:iK,Uint8BufferAttribute:xN,Uint8ClampedAttribute:sK,Uint8ClampedBufferAttribute:wN,Uniform:Vw,UniformsLib:Pt,UniformsUtils:MN,UnsignedByteType:$f,UnsignedInt248Type:cd,UnsignedIntType:W0,UnsignedShort4444Type:VI,UnsignedShort5551Type:qI,UnsignedShortType:km,VSMShadowMap:em,Vector2:nt,Vector3:ce,Vector4:or,VectorKeyframeTrack:$m,Vertex:tK,VertexColors:q$,VideoTexture:UN,WebGL1Renderer:DN,WebGL3DRenderTarget:gN,WebGLArrayRenderTarget:mN,WebGLCubeRenderTarget:X1,WebGLMultipleRenderTargets:vN,WebGLMultisampleRenderTarget:TK,WebGLRenderTarget:mo,WebGLRenderTargetCube:yK,WebGLRenderer:ar,WebGLUtils:NN,WireframeGeometry:I3,WireframeHelper:mK,WrapAroundEnding:b1,XHRLoader:gK,ZeroCurvatureEnding:td,ZeroFactor:wI,ZeroSlopeEnding:nd,ZeroStencilOp:mW,_SRGBAFormat:u2,sRGBEncoding:sr},Symbol.toStringTag,{value:"Module"})),vm={exports:{}},Dd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Dd.ConcurrentRoot=1;Dd.ContinuousEventPriority=4;Dd.DefaultEventPriority=16;Dd.DiscreteEventPriority=1;Dd.IdleEventPriority=536870912;Dd.LegacyRoot=0;vm.exports=Dd;var xD={exports:{}},f2={exports:{}},wD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,X){var ie=F.length;F.push(X);e:for(;0<ie;){var ve=ie-1>>>1,N=F[ve];if(0<i(N,X))F[ve]=X,F[ie]=N,ie=ve;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var X=F[0],ie=F.pop();if(ie!==X){F[0]=ie;e:for(var ve=0,N=F.length,V=N>>>1;ve<V;){var Q=2*(ve+1)-1,ue=F[Q],j=Q+1,we=F[j];if(0>i(ue,ie))j<N&&0>i(we,ue)?(F[ve]=we,F[j]=ie,ve=j):(F[ve]=ue,F[Q]=ie,ve=Q);else if(j<N&&0>i(we,ie))F[ve]=we,F[j]=ie,ve=j;else break e}}return X}function i(F,X){var ie=F.sortIndex-X.sortIndex;return ie!==0?ie:F.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,p=3,m=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var X=t(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=F)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function C(F){if(g=!1,A(F),!y)if(t(l)!==null)y=!0,re(T);else{var X=t(u);X!==null&&le(C,X.startTime-F)}}function T(F,X){y=!1,g&&(g=!1,w(B),B=-1),m=!0;var ie=p;try{for(A(X),h=t(l);h!==null&&(!(h.expirationTime>X)||F&&!L());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,p=h.priorityLevel;var N=ve(h.expirationTime<=X);X=n.unstable_now(),typeof N=="function"?h.callback=N:h===t(l)&&r(l),A(X)}else r(l);h=t(l)}if(h!==null)var V=!0;else{var Q=t(u);Q!==null&&le(C,Q.startTime-X),V=!1}return V}finally{h=null,p=ie,m=!1}}var D=!1,I=null,B=-1,W=5,G=-1;function L(){return!(n.unstable_now()-G<W)}function P(){if(I!==null){var F=n.unstable_now();G=F;var X=!0;try{X=I(!0,F)}finally{X?q():(D=!1,I=null)}}else D=!1}var q;if(typeof _=="function")q=function(){_(P)};else if(typeof MessageChannel!="undefined"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=P,q=function(){ne.postMessage(null)}}else q=function(){x(P,0)};function re(F){I=F,D||(D=!0,q())}function le(F,X){B=x(function(){F(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,re(T))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var ie=p;p=X;try{return F()}finally{p=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=p;p=F;try{return X()}finally{p=ie}},n.unstable_scheduleCallback=function(F,X,ie){var ve=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ve+ie:ve):ie=ve,F){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ie+N,F={id:c++,callback:X,priorityLevel:F,startTime:ie,expirationTime:N,sortIndex:-1},ie>ve?(F.sortIndex=ie,e(u,F),t(l)===null&&F===t(u)&&(g?(w(B),B=-1):g=!0,le(C,ie-ve))):(F.sortIndex=N,e(l,F),y||m||(y=!0,re(T))),F},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(F){var X=p;return function(){var ie=p;p=X;try{return F.apply(this,arguments)}finally{p=ie}}}})(wD);f2.exports=wD;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BK=function(e){var t={},r=Z.exports,i=f2.exports,s=Object.assign;function o(f){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+f,b=1;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),T=Symbol.iterator;function D(f){return f===null||typeof f!="object"?null:(f=T&&f[T]||f["@@iterator"],typeof f=="function"?f:null)}function I(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case w:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case y:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case g:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case _:return d=f.displayName||null,d!==null?d:I(f.type)||"Memo";case A:d=f._payload,f=f._init;try{return I(f(d))}catch{}}return null}function B(f){var d=f.type;switch(f.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=d.render,f=f.displayName||f.name||"",d.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function W(f){var d=f,b=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(b=d.return),f=d.return;while(f)}return d.tag===3?b:null}function G(f){if(W(f)!==f)throw Error(o(188))}function L(f){var d=f.alternate;if(!d){if(d=W(f),d===null)throw Error(o(188));return d!==f?null:f}for(var b=f,M=d;;){var k=b.return;if(k===null)break;var U=k.alternate;if(U===null){if(M=k.return,M!==null){b=M;continue}break}if(k.child===U.child){for(U=k.child;U;){if(U===b)return G(k),f;if(U===M)return G(k),d;U=U.sibling}throw Error(o(188))}if(b.return!==M.return)b=k,M=U;else{for(var ye=!1,Re=k.child;Re;){if(Re===b){ye=!0,b=k,M=U;break}if(Re===M){ye=!0,M=k,b=U;break}Re=Re.sibling}if(!ye){for(Re=U.child;Re;){if(Re===b){ye=!0,b=U,M=k;break}if(Re===M){ye=!0,M=U,b=k;break}Re=Re.sibling}if(!ye)throw Error(o(189))}}if(b.alternate!==M)throw Error(o(190))}if(b.tag!==3)throw Error(o(188));return b.stateNode.current===b?f:d}function P(f){return f=L(f),f!==null?q(f):null}function q(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var d=q(f);if(d!==null)return d;f=f.sibling}return null}function z(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var d=z(f);if(d!==null)return d}f=f.sibling}return null}var ne=Array.isArray,re=e.getPublicInstance,le=e.getRootHostContext,F=e.getChildHostContext,X=e.prepareForCommit,ie=e.resetAfterCommit,ve=e.createInstance,N=e.appendInitialChild,V=e.finalizeInitialChildren,Q=e.prepareUpdate,ue=e.shouldSetTextContent,j=e.createTextInstance,we=e.scheduleTimeout,me=e.cancelTimeout,Ae=e.noTimeout,Te=e.isPrimaryRenderer,De=e.supportsMutation,xe=e.supportsPersistence,Me=e.supportsHydration,Ge=e.getInstanceFromNode,be=e.preparePortalMount,oe=e.getCurrentEventPriority,$e=e.detachDeletedInstance,Ke=e.supportsMicrotasks,je=e.scheduleMicrotask,et=e.supportsTestSelectors,ct=e.findFiberRoot,ae=e.getBoundingRect,ee=e.getTextContent,Se=e.isHiddenSubtree,He=e.matchAccessibilityRole,rt=e.setFocusIfFocusable,ft=e.setupIntersectionObserver,gt=e.appendChild,Pe=e.appendChildToContainer,Et=e.commitTextUpdate,it=e.commitMount,_e=e.commitUpdate,fe=e.insertBefore,Qe=e.insertInContainerBefore,Je=e.removeChild,yt=e.removeChildFromContainer,_t=e.resetTextContent,St=e.hideInstance,xt=e.hideTextInstance,Lt=e.unhideInstance,At=e.unhideTextInstance,pt=e.clearContainer,Ft=e.cloneInstance,Dt=e.createContainerChildSet,mn=e.appendChildToContainerChildSet,Ts=e.finalizeContainerChildren,On=e.replaceContainerChildren,ds=e.cloneHiddenInstance,Ls=e.cloneHiddenTextInstance,Kt=e.canHydrateInstance,eo=e.canHydrateTextInstance,wo=e.canHydrateSuspenseInstance,de=e.isSuspenseInstancePending,Oe=e.isSuspenseInstanceFallback,qe=e.registerSuspenseInstanceRetry,We=e.getNextHydratableSibling,ot=e.getFirstHydratableChild,qt=e.getFirstHydratableChildWithinContainer,Jt=e.getFirstHydratableChildWithinSuspenseInstance,en=e.hydrateInstance,Qt=e.hydrateTextInstance,_n=e.hydrateSuspenseInstance,an=e.getNextHydratableInstanceAfterSuspenseInstance,cn=e.commitHydratedContainer,Vn=e.commitHydratedSuspenseInstance,Rs=e.clearSuspenseBoundary,to=e.clearSuspenseBoundaryFromContainer,no=e.shouldDeleteUnhydratedTailInstances,Ci=e.didNotMatchHydratedContainerTextInstance,Rn=e.didNotMatchHydratedTextInstance,_o;function tr(f){if(_o===void 0)try{throw Error()}catch(b){var d=b.stack.trim().match(/\n( *(at )?)/);_o=d&&d[1]||""}return`
`+_o+f}var oi=!1;function ps(f,d){if(!f||oi)return"";oi=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(bt){var M=bt}Reflect.construct(f,[],d)}else{try{d.call()}catch(bt){M=bt}f.call(d.prototype)}else{try{throw Error()}catch(bt){M=bt}f()}}catch(bt){if(bt&&M&&typeof bt.stack=="string"){for(var k=bt.stack.split(`
`),U=M.stack.split(`
`),ye=k.length-1,Re=U.length-1;1<=ye&&0<=Re&&k[ye]!==U[Re];)Re--;for(;1<=ye&&0<=Re;ye--,Re--)if(k[ye]!==U[Re]){if(ye!==1||Re!==1)do if(ye--,Re--,0>Re||k[ye]!==U[Re]){var tt=`
`+k[ye].replace(" at new "," at ");return f.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",f.displayName)),tt}while(1<=ye&&0<=Re);break}}}finally{oi=!1,Error.prepareStackTrace=b}return(f=f?f.displayName||f.name:"")?tr(f):""}var tl=Object.prototype.hasOwnProperty,Go=[],vr=-1;function Ti(f){return{current:f}}function jn(f){0>vr||(f.current=Go[vr],Go[vr]=null,vr--)}function fn(f,d){vr++,Go[vr]=f.current,f.current=d}var ga={},En=Ti(ga),Li=Ti(!1),va=ga;function nl(f,d){var b=f.type.contextTypes;if(!b)return ga;var M=f.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===d)return M.__reactInternalMemoizedMaskedChildContext;var k={},U;for(U in b)k[U]=d[U];return M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=d,f.__reactInternalMemoizedMaskedChildContext=k),k}function xi(f){return f=f.childContextTypes,f!=null}function kc(){jn(Li),jn(En)}function bo(f,d,b){if(En.current!==ga)throw Error(o(168));fn(En,d),fn(Li,b)}function Tu(f,d,b){var M=f.stateNode;if(d=d.childContextTypes,typeof M.getChildContext!="function")return b;M=M.getChildContext();for(var k in M)if(!(k in d))throw Error(o(108,B(f)||"Unknown",k));return s({},b,M)}function Ri(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||ga,va=En.current,fn(En,f),fn(Li,Li.current),!0}function Ic(f,d,b){var M=f.stateNode;if(!M)throw Error(o(169));b?(f=Tu(f,d,va),M.__reactInternalMemoizedMergedChildContext=f,jn(Li),jn(En),fn(En,f)):jn(Li),fn(Li,b)}var Ps=Math.clz32?Math.clz32:bg,_g=Math.log,Ud=Math.LN2;function bg(f){return f>>>=0,f===0?32:31-(_g(f)/Ud|0)|0}var Lu=64,Nc=4194304;function rl(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Dc(f,d){var b=f.pendingLanes;if(b===0)return 0;var M=0,k=f.suspendedLanes,U=f.pingedLanes,ye=b&268435455;if(ye!==0){var Re=ye&~k;Re!==0?M=rl(Re):(U&=ye,U!==0&&(M=rl(U)))}else ye=b&~k,ye!==0?M=rl(ye):U!==0&&(M=rl(U));if(M===0)return 0;if(d!==0&&d!==M&&(d&k)===0&&(k=M&-M,U=d&-d,k>=U||k===16&&(U&4194240)!==0))return d;if((M&4)!==0&&(M|=b&16),d=f.entangledLanes,d!==0)for(f=f.entanglements,d&=M;0<d;)b=31-Ps(d),k=1<<b,M|=f[b],d&=~k;return M}function Sg(f,d){switch(f){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ag(f,d){for(var b=f.suspendedLanes,M=f.pingedLanes,k=f.expirationTimes,U=f.pendingLanes;0<U;){var ye=31-Ps(U),Re=1<<ye,tt=k[ye];tt===-1?((Re&b)===0||(Re&M)!==0)&&(k[ye]=Sg(Re,d)):tt<=d&&(f.expiredLanes|=Re),U&=~Re}}function jo(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Wl(f){for(var d=[],b=0;31>b;b++)d.push(f);return d}function ya(f,d,b){f.pendingLanes|=d,d!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,d=31-Ps(d),f[d]=b}function zd(f,d){var b=f.pendingLanes&~d;f.pendingLanes=d,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=d,f.mutableReadLanes&=d,f.entangledLanes&=d,d=f.entanglements;var M=f.eventTimes;for(f=f.expirationTimes;0<b;){var k=31-Ps(b),U=1<<k;d[k]=0,M[k]=-1,f[k]=-1,b&=~U}}function wi(f,d){var b=f.entangledLanes|=d;for(f=f.entanglements;b;){var M=31-Ps(b),k=1<<M;k&d|f[M]&d&&(f[M]|=d),b&=~k}}var kn=0;function dh(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var sn=i.unstable_scheduleCallback,Hd=i.unstable_cancelCallback,Mg=i.unstable_shouldYield,xa=i.unstable_requestPaint,Ur=i.unstable_now,Fc=i.unstable_ImmediatePriority,Oc=i.unstable_UserBlockingPriority,Ru=i.unstable_NormalPriority,Eg=i.unstable_IdlePriority,Uc=null,So=null;function ph(f){if(So&&typeof So.onCommitFiberRoot=="function")try{So.onCommitFiberRoot(Uc,f,void 0,(f.current.flags&128)===128)}catch{}}function Pu(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var Pi=typeof Object.is=="function"?Object.is:Pu,Wo=null,wa=!1,Bu=!1;function ku(f){Wo===null?Wo=[f]:Wo.push(f)}function Gd(f){wa=!0,ku(f)}function ro(){if(!Bu&&Wo!==null){Bu=!0;var f=0,d=kn;try{var b=Wo;for(kn=1;f<b.length;f++){var M=b[f];do M=M(!0);while(M!==null)}Wo=null,wa=!1}catch(k){throw Wo!==null&&(Wo=Wo.slice(f+1)),sn(Fc,ro),k}finally{kn=d,Bu=!1}}return null}var jd=a.ReactCurrentBatchConfig;function Iu(f,d){if(Pi(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var b=Object.keys(f),M=Object.keys(d);if(b.length!==M.length)return!1;for(M=0;M<b.length;M++){var k=b[M];if(!tl.call(d,k)||!Pi(f[k],d[k]))return!1}return!0}function il(f){switch(f.tag){case 5:return tr(f.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 2:case 15:return f=ps(f.type,!1),f;case 11:return f=ps(f.type.render,!1),f;case 1:return f=ps(f.type,!0),f;default:return""}}function _i(f,d){if(f&&f.defaultProps){d=s({},d),f=f.defaultProps;for(var b in f)d[b]===void 0&&(d[b]=f[b]);return d}return d}var zc=Ti(null),Vo=null,Vi=null,Nu=null;function sl(){Nu=Vi=Vo=null}function Wd(f,d,b){Te?(fn(zc,d._currentValue),d._currentValue=b):(fn(zc,d._currentValue2),d._currentValue2=b)}function Vl(f){var d=zc.current;jn(zc),Te?f._currentValue=d:f._currentValue2=d}function mh(f,d,b){for(;f!==null;){var M=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,M!==null&&(M.childLanes|=d)):M!==null&&(M.childLanes&d)!==d&&(M.childLanes|=d),f===b)break;f=f.return}}function _a(f,d){Vo=f,Nu=Vi=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&d)!==0&&(ts=!0),f.firstContext=null)}function qi(f){var d=Te?f._currentValue:f._currentValue2;if(Nu!==f)if(f={context:f,memoizedValue:d,next:null},Vi===null){if(Vo===null)throw Error(o(308));Vi=f,Vo.dependencies={lanes:0,firstContext:f}}else Vi=Vi.next=f;return d}var io=null,so=!1;function Du(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hc(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Ao(f,d){return{eventTime:f,lane:d,tag:0,payload:null,callback:null,next:null}}function ba(f,d){var b=f.updateQueue;b!==null&&(b=b.shared,qr!==null&&(f.mode&1)!==0&&(vn&2)===0?(f=b.interleaved,f===null?(d.next=d,io===null?io=[b]:io.push(b)):(d.next=f.next,f.next=d),b.interleaved=d):(f=b.pending,f===null?d.next=d:(d.next=f.next,f.next=d),b.pending=d))}function ol(f,d,b){if(d=d.updateQueue,d!==null&&(d=d.shared,(b&4194240)!==0)){var M=d.lanes;M&=f.pendingLanes,b|=M,d.lanes=b,wi(f,b)}}function ql(f,d){var b=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,b===M)){var k=null,U=null;if(b=b.firstBaseUpdate,b!==null){do{var ye={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};U===null?k=U=ye:U=U.next=ye,b=b.next}while(b!==null);U===null?k=U=d:U=U.next=d}else k=U=d;b={baseState:M.baseState,firstBaseUpdate:k,lastBaseUpdate:U,shared:M.shared,effects:M.effects},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=d:f.next=d,b.lastBaseUpdate=d}function Yl(f,d,b,M){var k=f.updateQueue;so=!1;var U=k.firstBaseUpdate,ye=k.lastBaseUpdate,Re=k.shared.pending;if(Re!==null){k.shared.pending=null;var tt=Re,bt=tt.next;tt.next=null,ye===null?U=bt:ye.next=bt,ye=tt;var Ht=f.alternate;Ht!==null&&(Ht=Ht.updateQueue,Re=Ht.lastBaseUpdate,Re!==ye&&(Re===null?Ht.firstBaseUpdate=bt:Re.next=bt,Ht.lastBaseUpdate=tt))}if(U!==null){var yn=k.baseState;ye=0,Ht=bt=tt=null,Re=U;do{var tn=Re.lane,xr=Re.eventTime;if((M&tn)===tn){Ht!==null&&(Ht=Ht.next={eventTime:xr,lane:0,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null});e:{var Yt=f,Fs=Re;switch(tn=d,xr=b,Fs.tag){case 1:if(Yt=Fs.payload,typeof Yt=="function"){yn=Yt.call(xr,yn,tn);break e}yn=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Fs.payload,tn=typeof Yt=="function"?Yt.call(xr,yn,tn):Yt,tn==null)break e;yn=s({},yn,tn);break e;case 2:so=!0}}Re.callback!==null&&Re.lane!==0&&(f.flags|=64,tn=k.effects,tn===null?k.effects=[Re]:tn.push(Re))}else xr={eventTime:xr,lane:tn,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},Ht===null?(bt=Ht=xr,tt=yn):Ht=Ht.next=xr,ye|=tn;if(Re=Re.next,Re===null){if(Re=k.shared.pending,Re===null)break;tn=Re,Re=tn.next,tn.next=null,k.lastBaseUpdate=tn,k.shared.pending=null}}while(1);if(Ht===null&&(tt=yn),k.baseState=tt,k.firstBaseUpdate=bt,k.lastBaseUpdate=Ht,d=k.shared.interleaved,d!==null){k=d;do ye|=k.lane,k=k.next;while(k!==d)}else U===null&&(k.shared.lanes=0);Xo|=ye,f.lanes=ye,f.memoizedState=yn}}function al(f,d,b){if(f=d.effects,d.effects=null,f!==null)for(d=0;d<f.length;d++){var M=f[d],k=M.callback;if(k!==null){if(M.callback=null,M=b,typeof k!="function")throw Error(o(191,k));k.call(M)}}}var Gc=new r.Component().refs;function E(f,d,b,M){d=f.memoizedState,b=b(M,d),b=b==null?d:s({},d,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}var J={isMounted:function(f){return(f=f._reactInternals)?W(f)===f:!1},enqueueSetState:function(f,d,b){f=f._reactInternals;var M=is(),k=Ko(f),U=Ao(M,k);U.payload=d,b!=null&&(U.callback=b),ba(f,U),d=Ns(f,k,M),d!==null&&ol(d,f,k)},enqueueReplaceState:function(f,d,b){f=f._reactInternals;var M=is(),k=Ko(f),U=Ao(M,k);U.tag=1,U.payload=d,b!=null&&(U.callback=b),ba(f,U),d=Ns(f,k,M),d!==null&&ol(d,f,k)},enqueueForceUpdate:function(f,d){f=f._reactInternals;var b=is(),M=Ko(f),k=Ao(b,M);k.tag=2,d!=null&&(k.callback=d),ba(f,k),d=Ns(f,M,b),d!==null&&ol(d,f,M)}};function ge(f,d,b,M,k,U,ye){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,U,ye):d.prototype&&d.prototype.isPureReactComponent?!Iu(b,M)||!Iu(k,U):!0}function Ee(f,d,b){var M=!1,k=ga,U=d.contextType;return typeof U=="object"&&U!==null?U=qi(U):(k=xi(d)?va:En.current,M=d.contextTypes,U=(M=M!=null)?nl(f,k):ga),d=new d(b,U),f.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=J,f.stateNode=d,d._reactInternals=f,M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=k,f.__reactInternalMemoizedMaskedChildContext=U),d}function Fe(f,d,b,M){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(b,M),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(b,M),d.state!==f&&J.enqueueReplaceState(d,d.state,null)}function Ze(f,d,b,M){var k=f.stateNode;k.props=b,k.state=f.memoizedState,k.refs=Gc,Du(f);var U=d.contextType;typeof U=="object"&&U!==null?k.context=qi(U):(U=xi(d)?va:En.current,k.context=nl(f,U)),k.state=f.memoizedState,U=d.getDerivedStateFromProps,typeof U=="function"&&(E(f,d,U,b),k.state=f.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(d=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),d!==k.state&&J.enqueueReplaceState(k,k.state,null),Yl(f,b,k,M),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4194308)}var dt=[],Rt=0,Wt=null,ln=0,Zt=[],un=0,Zn=null,qn=1,nr="";function Pr(f,d){dt[Rt++]=ln,dt[Rt++]=Wt,Wt=f,ln=d}function ai(f,d,b){Zt[un++]=qn,Zt[un++]=nr,Zt[un++]=Zn,Zn=f;var M=qn;f=nr;var k=32-Ps(M)-1;M&=~(1<<k),b+=1;var U=32-Ps(d)+k;if(30<U){var ye=k-k%5;U=(M&(1<<ye)-1).toString(32),M>>=ye,k-=ye,qn=1<<32-Ps(d)+k|b<<k|M,nr=U+f}else qn=1<<U|b<<k|M,nr=f}function oo(f){f.return!==null&&(Pr(f,1),ai(f,1,0))}function ms(f){for(;f===Wt;)Wt=dt[--Rt],dt[Rt]=null,ln=dt[--Rt],dt[Rt]=null;for(;f===Zn;)Zn=Zt[--un],Zt[un]=null,nr=Zt[--un],Zt[un]=null,qn=Zt[--un],Zt[un]=null}var zr=null,Yi=null,rr=!1,ll=!1,Ji=null;function jc(f,d){var b=Na(5,null,null,0);b.elementType="DELETED",b.stateNode=d,b.return=f,d=f.deletions,d===null?(f.deletions=[b],f.flags|=16):d.push(b)}function Wc(f,d){switch(f.tag){case 5:return d=Kt(d,f.type,f.pendingProps),d!==null?(f.stateNode=d,zr=f,Yi=ot(d),!0):!1;case 6:return d=eo(d,f.pendingProps),d!==null?(f.stateNode=d,zr=f,Yi=null,!0):!1;case 13:if(d=wo(d),d!==null){var b=Zn!==null?{id:qn,overflow:nr}:null;return f.memoizedState={dehydrated:d,treeContext:b,retryLane:1073741824},b=Na(18,null,null,0),b.stateNode=d,b.return=f,f.child=b,zr=f,Yi=null,!0}return!1;default:return!1}}function Jl(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Xi(f){if(rr){var d=Yi;if(d){var b=d;if(!Wc(f,d)){if(Jl(f))throw Error(o(418));d=We(b);var M=zr;d&&Wc(f,d)?jc(M,b):(f.flags=f.flags&-4097|2,rr=!1,zr=f)}}else{if(Jl(f))throw Error(o(418));f.flags=f.flags&-4097|2,rr=!1,zr=f}}}function Fu(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;zr=f}function Sa(f){if(!Me||f!==zr)return!1;if(!rr)return Fu(f),rr=!0,!1;if(f.tag!==3&&(f.tag!==5||no(f.type)&&!ue(f.type,f.memoizedProps))){var d=Yi;if(d){if(Jl(f)){for(f=Yi;f;)f=We(f);throw Error(o(418))}for(;d;)jc(f,d),d=We(d)}}if(Fu(f),f.tag===13){if(!Me)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Yi=an(f)}else Yi=zr?We(f.stateNode):null;return!0}function qo(){Me&&(Yi=zr=null,ll=rr=!1)}function Ou(f){Ji===null?Ji=[f]:Ji.push(f)}function bi(f,d,b){if(f=b.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(o(309));var M=b.stateNode}if(!M)throw Error(o(147,f));var k=M,U=""+f;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===U?d.ref:(d=function(ye){var Re=k.refs;Re===Gc&&(Re=k.refs={}),ye===null?delete Re[U]:Re[U]=ye},d._stringRef=U,d)}if(typeof f!="string")throw Error(o(284));if(!b._owner)throw Error(o(290,f))}return f}function Vc(f,d){throw f=Object.prototype.toString.call(d),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f))}function qc(f){var d=f._init;return d(f._payload)}function gh(f){function d(Ve,Ne){if(f){var Xe=Ve.deletions;Xe===null?(Ve.deletions=[Ne],Ve.flags|=16):Xe.push(Ne)}}function b(Ve,Ne){if(!f)return null;for(;Ne!==null;)d(Ve,Ne),Ne=Ne.sibling;return null}function M(Ve,Ne){for(Ve=new Map;Ne!==null;)Ne.key!==null?Ve.set(Ne.key,Ne):Ve.set(Ne.index,Ne),Ne=Ne.sibling;return Ve}function k(Ve,Ne){return Ve=sf(Ve,Ne),Ve.index=0,Ve.sibling=null,Ve}function U(Ve,Ne,Xe){return Ve.index=Xe,f?(Xe=Ve.alternate,Xe!==null?(Xe=Xe.index,Xe<Ne?(Ve.flags|=2,Ne):Xe):(Ve.flags|=2,Ne)):(Ve.flags|=1048576,Ne)}function ye(Ve){return f&&Ve.alternate===null&&(Ve.flags|=2),Ve}function Re(Ve,Ne,Xe,Nt){return Ne===null||Ne.tag!==6?(Ne=f_(Xe,Ve.mode,Nt),Ne.return=Ve,Ne):(Ne=k(Ne,Xe),Ne.return=Ve,Ne)}function tt(Ve,Ne,Xe,Nt){var Vt=Xe.type;return Vt===c?Ht(Ve,Ne,Xe.props.children,Nt,Xe.key):Ne!==null&&(Ne.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===A&&qc(Vt)===Ne.type)?(Nt=k(Ne,Xe.props),Nt.ref=bi(Ve,Ne,Xe),Nt.return=Ve,Nt):(Nt=_v(Xe.type,Xe.key,Xe.props,null,Ve.mode,Nt),Nt.ref=bi(Ve,Ne,Xe),Nt.return=Ve,Nt)}function bt(Ve,Ne,Xe,Nt){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Xe.containerInfo||Ne.stateNode.implementation!==Xe.implementation?(Ne=h_(Xe,Ve.mode,Nt),Ne.return=Ve,Ne):(Ne=k(Ne,Xe.children||[]),Ne.return=Ve,Ne)}function Ht(Ve,Ne,Xe,Nt,Vt){return Ne===null||Ne.tag!==7?(Ne=Lh(Xe,Ve.mode,Nt,Vt),Ne.return=Ve,Ne):(Ne=k(Ne,Xe),Ne.return=Ve,Ne)}function yn(Ve,Ne,Xe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=f_(""+Ne,Ve.mode,Xe),Ne.return=Ve,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case l:return Xe=_v(Ne.type,Ne.key,Ne.props,null,Ve.mode,Xe),Xe.ref=bi(Ve,null,Ne),Xe.return=Ve,Xe;case u:return Ne=h_(Ne,Ve.mode,Xe),Ne.return=Ve,Ne;case A:var Nt=Ne._init;return yn(Ve,Nt(Ne._payload),Xe)}if(ne(Ne)||D(Ne))return Ne=Lh(Ne,Ve.mode,Xe,null),Ne.return=Ve,Ne;Vc(Ve,Ne)}return null}function tn(Ve,Ne,Xe,Nt){var Vt=Ne!==null?Ne.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return Vt!==null?null:Re(Ve,Ne,""+Xe,Nt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case l:return Xe.key===Vt?tt(Ve,Ne,Xe,Nt):null;case u:return Xe.key===Vt?bt(Ve,Ne,Xe,Nt):null;case A:return Vt=Xe._init,tn(Ve,Ne,Vt(Xe._payload),Nt)}if(ne(Xe)||D(Xe))return Vt!==null?null:Ht(Ve,Ne,Xe,Nt,null);Vc(Ve,Xe)}return null}function xr(Ve,Ne,Xe,Nt,Vt){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return Ve=Ve.get(Xe)||null,Re(Ne,Ve,""+Nt,Vt);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case l:return Ve=Ve.get(Nt.key===null?Xe:Nt.key)||null,tt(Ne,Ve,Nt,Vt);case u:return Ve=Ve.get(Nt.key===null?Xe:Nt.key)||null,bt(Ne,Ve,Nt,Vt);case A:var An=Nt._init;return xr(Ve,Ne,Xe,An(Nt._payload),Vt)}if(ne(Nt)||D(Nt))return Ve=Ve.get(Xe)||null,Ht(Ne,Ve,Nt,Vt,null);Vc(Ne,Nt)}return null}function Yt(Ve,Ne,Xe,Nt){for(var Vt=null,An=null,xn=Ne,Jn=Ne=0,ss=null;xn!==null&&Jn<Xe.length;Jn++){xn.index>Jn?(ss=xn,xn=null):ss=xn.sibling;var Xn=tn(Ve,xn,Xe[Jn],Nt);if(Xn===null){xn===null&&(xn=ss);break}f&&xn&&Xn.alternate===null&&d(Ve,xn),Ne=U(Xn,Ne,Jn),An===null?Vt=Xn:An.sibling=Xn,An=Xn,xn=ss}if(Jn===Xe.length)return b(Ve,xn),rr&&Pr(Ve,Jn),Vt;if(xn===null){for(;Jn<Xe.length;Jn++)xn=yn(Ve,Xe[Jn],Nt),xn!==null&&(Ne=U(xn,Ne,Jn),An===null?Vt=xn:An.sibling=xn,An=xn);return rr&&Pr(Ve,Jn),Vt}for(xn=M(Ve,xn);Jn<Xe.length;Jn++)ss=xr(xn,Ve,Jn,Xe[Jn],Nt),ss!==null&&(f&&ss.alternate!==null&&xn.delete(ss.key===null?Jn:ss.key),Ne=U(ss,Ne,Jn),An===null?Vt=ss:An.sibling=ss,An=ss);return f&&xn.forEach(function(of){return d(Ve,of)}),rr&&Pr(Ve,Jn),Vt}function Fs(Ve,Ne,Xe,Nt){var Vt=D(Xe);if(typeof Vt!="function")throw Error(o(150));if(Xe=Vt.call(Xe),Xe==null)throw Error(o(151));for(var An=Vt=null,xn=Ne,Jn=Ne=0,ss=null,Xn=Xe.next();xn!==null&&!Xn.done;Jn++,Xn=Xe.next()){xn.index>Jn?(ss=xn,xn=null):ss=xn.sibling;var of=tn(Ve,xn,Xn.value,Nt);if(of===null){xn===null&&(xn=ss);break}f&&xn&&of.alternate===null&&d(Ve,xn),Ne=U(of,Ne,Jn),An===null?Vt=of:An.sibling=of,An=of,xn=ss}if(Xn.done)return b(Ve,xn),rr&&Pr(Ve,Jn),Vt;if(xn===null){for(;!Xn.done;Jn++,Xn=Xe.next())Xn=yn(Ve,Xn.value,Nt),Xn!==null&&(Ne=U(Xn,Ne,Jn),An===null?Vt=Xn:An.sibling=Xn,An=Xn);return rr&&Pr(Ve,Jn),Vt}for(xn=M(Ve,xn);!Xn.done;Jn++,Xn=Xe.next())Xn=xr(xn,Ve,Jn,Xn.value,Nt),Xn!==null&&(f&&Xn.alternate!==null&&xn.delete(Xn.key===null?Jn:Xn.key),Ne=U(Xn,Ne,Jn),An===null?Vt=Xn:An.sibling=Xn,An=Xn);return f&&xn.forEach(function(zF){return d(Ve,zF)}),rr&&Pr(Ve,Jn),Vt}function Da(Ve,Ne,Xe,Nt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===c&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case l:e:{for(var Vt=Xe.key,An=Ne;An!==null;){if(An.key===Vt){if(Vt=Xe.type,Vt===c){if(An.tag===7){b(Ve,An.sibling),Ne=k(An,Xe.props.children),Ne.return=Ve,Ve=Ne;break e}}else if(An.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===A&&qc(Vt)===An.type){b(Ve,An.sibling),Ne=k(An,Xe.props),Ne.ref=bi(Ve,An,Xe),Ne.return=Ve,Ve=Ne;break e}b(Ve,An);break}else d(Ve,An);An=An.sibling}Xe.type===c?(Ne=Lh(Xe.props.children,Ve.mode,Nt,Xe.key),Ne.return=Ve,Ve=Ne):(Nt=_v(Xe.type,Xe.key,Xe.props,null,Ve.mode,Nt),Nt.ref=bi(Ve,Ne,Xe),Nt.return=Ve,Ve=Nt)}return ye(Ve);case u:e:{for(An=Xe.key;Ne!==null;){if(Ne.key===An)if(Ne.tag===4&&Ne.stateNode.containerInfo===Xe.containerInfo&&Ne.stateNode.implementation===Xe.implementation){b(Ve,Ne.sibling),Ne=k(Ne,Xe.children||[]),Ne.return=Ve,Ve=Ne;break e}else{b(Ve,Ne);break}else d(Ve,Ne);Ne=Ne.sibling}Ne=h_(Xe,Ve.mode,Nt),Ne.return=Ve,Ve=Ne}return ye(Ve);case A:return An=Xe._init,Da(Ve,Ne,An(Xe._payload),Nt)}if(ne(Xe))return Yt(Ve,Ne,Xe,Nt);if(D(Xe))return Fs(Ve,Ne,Xe,Nt);Vc(Ve,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"?(Xe=""+Xe,Ne!==null&&Ne.tag===6?(b(Ve,Ne.sibling),Ne=k(Ne,Xe),Ne.return=Ve,Ve=Ne):(b(Ve,Ne),Ne=f_(Xe,Ve.mode,Nt),Ne.return=Ve,Ve=Ne),ye(Ve)):b(Ve,Ne)}return Da}var $i=gh(!0),Yc=gh(!1),Uu={},Bs=Ti(Uu),Mo=Ti(Uu),Bi=Ti(Uu);function Zr(f){if(f===Uu)throw Error(o(174));return f}function Aa(f,d){fn(Bi,d),fn(Mo,f),fn(Bs,Uu),f=le(d),jn(Bs),fn(Bs,f)}function gs(){jn(Bs),jn(Mo),jn(Bi)}function Ma(f){var d=Zr(Bi.current),b=Zr(Bs.current);d=F(b,f.type,d),b!==d&&(fn(Mo,f),fn(Bs,d))}function Xl(f){Mo.current===f&&(jn(Bs),jn(Mo))}var Nn=Ti(0);function ul(f){for(var d=f;d!==null;){if(d.tag===13){var b=d.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||de(b)||Oe(b)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var zu=[];function Ea(){for(var f=0;f<zu.length;f++){var d=zu[f];Te?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}zu.length=0}var ks=a.ReactCurrentDispatcher,ei=a.ReactCurrentBatchConfig,Eo=0,lr=null,Br=null,yr=null,$l=!1,Ki=!1,ao=0,pr=0;function gn(){throw Error(o(321))}function Ar(f,d){if(d===null)return!1;for(var b=0;b<d.length&&b<f.length;b++)if(!Pi(f[b],d[b]))return!1;return!0}function Hr(f,d,b,M,k,U){if(Eo=U,lr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ks.current=f===null||f.memoizedState===null?bh:i_,f=b(M,k),Ki){U=0;do{if(Ki=!1,ao=0,25<=U)throw Error(o(301));U+=1,yr=Br=null,d.updateQueue=null,ks.current=s_,f=b(M,k)}while(Ki)}if(ks.current=$c,d=Br!==null&&Br.next!==null,Eo=0,yr=Br=lr=null,$l=!1,d)throw Error(o(300));return f}function Yo(){var f=ao!==0;return ao=0,f}function Qi(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?lr.memoizedState=yr=f:yr=yr.next=f,yr}function vs(){if(Br===null){var f=lr.alternate;f=f!==null?f.memoizedState:null}else f=Br.next;var d=yr===null?lr.memoizedState:yr.next;if(d!==null)yr=d,Br=f;else{if(f===null)throw Error(o(310));Br=f,f={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},yr===null?lr.memoizedState=yr=f:yr=yr.next=f}return yr}function Ca(f,d){return typeof d=="function"?d(f):d}function vh(f){var d=vs(),b=d.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=f;var M=Br,k=M.baseQueue,U=b.pending;if(U!==null){if(k!==null){var ye=k.next;k.next=U.next,U.next=ye}M.baseQueue=k=U,b.pending=null}if(k!==null){U=k.next,M=M.baseState;var Re=ye=null,tt=null,bt=U;do{var Ht=bt.lane;if((Eo&Ht)===Ht)tt!==null&&(tt=tt.next={lane:0,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null}),M=bt.hasEagerState?bt.eagerState:f(M,bt.action);else{var yn={lane:Ht,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null};tt===null?(Re=tt=yn,ye=M):tt=tt.next=yn,lr.lanes|=Ht,Xo|=Ht}bt=bt.next}while(bt!==null&&bt!==U);tt===null?ye=M:tt.next=Re,Pi(M,d.memoizedState)||(ts=!0),d.memoizedState=M,d.baseState=ye,d.baseQueue=tt,b.lastRenderedState=M}if(f=b.interleaved,f!==null){k=f;do U=k.lane,lr.lanes|=U,Xo|=U,k=k.next;while(k!==f)}else k===null&&(b.lanes=0);return[d.memoizedState,b.dispatch]}function yh(f){var d=vs(),b=d.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=f;var M=b.dispatch,k=b.pending,U=d.memoizedState;if(k!==null){b.pending=null;var ye=k=k.next;do U=f(U,ye.action),ye=ye.next;while(ye!==k);Pi(U,d.memoizedState)||(ts=!0),d.memoizedState=U,d.baseQueue===null&&(d.baseState=U),b.lastRenderedState=U}return[U,M]}function Cg(){}function Tg(f,d){var b=lr,M=vs(),k=d(),U=!Pi(M.memoizedState,k);if(U&&(M.memoizedState=k,ts=!0),M=M.queue,Kl(Vd.bind(null,b,M,f),[f]),M.getSnapshot!==d||U||yr!==null&&yr.memoizedState.tag&1){if(b.flags|=2048,Zi(9,Rg.bind(null,b,M,k,d),void 0,null),qr===null)throw Error(o(349));(Eo&30)!==0||Lg(b,d,k)}return k}function Lg(f,d,b){f.flags|=16384,f={getSnapshot:d,value:b},d=lr.updateQueue,d===null?(d={lastEffect:null,stores:null},lr.updateQueue=d,d.stores=[f]):(b=d.stores,b===null?d.stores=[f]:b.push(f))}function Rg(f,d,b,M){d.value=b,d.getSnapshot=M,xh(d)&&Ns(f,1,-1)}function Vd(f,d,b){return b(function(){xh(d)&&Ns(f,1,-1)})}function xh(f){var d=f.getSnapshot;f=f.value;try{var b=d();return!Pi(f,b)}catch{return!0}}function ys(f){var d=Qi();return typeof f=="function"&&(f=f()),d.memoizedState=d.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:f},d.queue=f,f=f.dispatch=r_.bind(null,lr,f),[d.memoizedState,f]}function Zi(f,d,b,M){return f={tag:f,create:d,destroy:b,deps:M,next:null},d=lr.updateQueue,d===null?(d={lastEffect:null,stores:null},lr.updateQueue=d,d.lastEffect=f.next=f):(b=d.lastEffect,b===null?d.lastEffect=f.next=f:(M=b.next,b.next=f,f.next=M,d.lastEffect=f)),f}function wh(){return vs().memoizedState}function Hu(f,d,b,M){var k=Qi();lr.flags|=f,k.memoizedState=Zi(1|d,b,void 0,M===void 0?null:M)}function _h(f,d,b,M){var k=vs();M=M===void 0?null:M;var U=void 0;if(Br!==null){var ye=Br.memoizedState;if(U=ye.destroy,M!==null&&Ar(M,ye.deps)){k.memoizedState=Zi(d,b,U,M);return}}lr.flags|=f,k.memoizedState=Zi(1|d,b,U,M)}function Jc(f,d){return Hu(8390656,8,f,d)}function Kl(f,d){return _h(2048,8,f,d)}function qd(f,d){return _h(4,2,f,d)}function Pg(f,d){return _h(4,4,f,d)}function Yd(f,d){if(typeof d=="function")return f=f(),d(f),function(){d(null)};if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function Jd(f,d,b){return b=b!=null?b.concat([f]):null,_h(4,4,Yd.bind(null,d,f),b)}function Xc(){}function Xd(f,d){var b=vs();d=d===void 0?null:d;var M=b.memoizedState;return M!==null&&d!==null&&Ar(d,M[1])?M[0]:(b.memoizedState=[f,d],f)}function ov(f,d){var b=vs();d=d===void 0?null:d;var M=b.memoizedState;return M!==null&&d!==null&&Ar(d,M[1])?M[0]:(f=f(),b.memoizedState=[f,d],f)}function t_(f,d){var b=kn;kn=b!==0&&4>b?b:4,f(!0);var M=ei.transition;ei.transition={};try{f(!1),d()}finally{kn=b,ei.transition=M}}function Bg(){return vs().memoizedState}function n_(f,d,b){var M=Ko(f);b={lane:M,action:b,hasEagerState:!1,eagerState:null,next:null},av(f)?lv(d,b):(uv(f,d,b),b=is(),f=Ns(f,M,b),f!==null&&$d(f,d,M))}function r_(f,d,b){var M=Ko(f),k={lane:M,action:b,hasEagerState:!1,eagerState:null,next:null};if(av(f))lv(d,k);else{uv(f,d,k);var U=f.alternate;if(f.lanes===0&&(U===null||U.lanes===0)&&(U=d.lastRenderedReducer,U!==null))try{var ye=d.lastRenderedState,Re=U(ye,b);if(k.hasEagerState=!0,k.eagerState=Re,Pi(Re,ye))return}catch{}finally{}b=is(),f=Ns(f,M,b),f!==null&&$d(f,d,M)}}function av(f){var d=f.alternate;return f===lr||d!==null&&d===lr}function lv(f,d){Ki=$l=!0;var b=f.pending;b===null?d.next=d:(d.next=b.next,b.next=d),f.pending=d}function uv(f,d,b){qr!==null&&(f.mode&1)!==0&&(vn&2)===0?(f=d.interleaved,f===null?(b.next=b,io===null?io=[d]:io.push(d)):(b.next=f.next,f.next=b),d.interleaved=b):(f=d.pending,f===null?b.next=b:(b.next=f.next,f.next=b),d.pending=b)}function $d(f,d,b){if((b&4194240)!==0){var M=d.lanes;M&=f.pendingLanes,b|=M,d.lanes=b,wi(f,b)}}var $c={readContext:qi,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},bh={readContext:qi,useCallback:function(f,d){return Qi().memoizedState=[f,d===void 0?null:d],f},useContext:qi,useEffect:Jc,useImperativeHandle:function(f,d,b){return b=b!=null?b.concat([f]):null,Hu(4194308,4,Yd.bind(null,d,f),b)},useLayoutEffect:function(f,d){return Hu(4194308,4,f,d)},useInsertionEffect:function(f,d){return Hu(4,2,f,d)},useMemo:function(f,d){var b=Qi();return d=d===void 0?null:d,f=f(),b.memoizedState=[f,d],f},useReducer:function(f,d,b){var M=Qi();return d=b!==void 0?b(d):d,M.memoizedState=M.baseState=d,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:d},M.queue=f,f=f.dispatch=n_.bind(null,lr,f),[M.memoizedState,f]},useRef:function(f){var d=Qi();return f={current:f},d.memoizedState=f},useState:ys,useDebugValue:Xc,useDeferredValue:function(f){var d=ys(f),b=d[0],M=d[1];return Jc(function(){var k=ei.transition;ei.transition={};try{M(f)}finally{ei.transition=k}},[f]),b},useTransition:function(){var f=ys(!1),d=f[0];return f=t_.bind(null,f[1]),Qi().memoizedState=f,[d,f]},useMutableSource:function(){},useSyncExternalStore:function(f,d,b){var M=lr,k=Qi();if(rr){if(b===void 0)throw Error(o(407));b=b()}else{if(b=d(),qr===null)throw Error(o(349));(Eo&30)!==0||Lg(M,d,b)}k.memoizedState=b;var U={value:b,getSnapshot:d};return k.queue=U,Jc(Vd.bind(null,M,U,f),[f]),M.flags|=2048,Zi(9,Rg.bind(null,M,U,b,d),void 0,null),b},useId:function(){var f=Qi(),d=qr.identifierPrefix;if(rr){var b=nr,M=qn;b=(M&~(1<<32-Ps(M)-1)).toString(32)+b,d=":"+d+"R"+b,b=ao++,0<b&&(d+="H"+b.toString(32)),d+=":"}else b=pr++,d=":"+d+"r"+b.toString(32)+":";return f.memoizedState=d},unstable_isNewReconciler:!1},i_={readContext:qi,useCallback:Xd,useContext:qi,useEffect:Kl,useImperativeHandle:Jd,useInsertionEffect:qd,useLayoutEffect:Pg,useMemo:ov,useReducer:vh,useRef:wh,useState:function(){return vh(Ca)},useDebugValue:Xc,useDeferredValue:function(f){var d=vh(Ca),b=d[0],M=d[1];return Kl(function(){var k=ei.transition;ei.transition={};try{M(f)}finally{ei.transition=k}},[f]),b},useTransition:function(){var f=vh(Ca)[0],d=vs().memoizedState;return[f,d]},useMutableSource:Cg,useSyncExternalStore:Tg,useId:Bg,unstable_isNewReconciler:!1},s_={readContext:qi,useCallback:Xd,useContext:qi,useEffect:Kl,useImperativeHandle:Jd,useInsertionEffect:qd,useLayoutEffect:Pg,useMemo:ov,useReducer:yh,useRef:wh,useState:function(){return yh(Ca)},useDebugValue:Xc,useDeferredValue:function(f){var d=yh(Ca),b=d[0],M=d[1];return Kl(function(){var k=ei.transition;ei.transition={};try{M(f)}finally{ei.transition=k}},[f]),b},useTransition:function(){var f=yh(Ca)[0],d=vs().memoizedState;return[f,d]},useMutableSource:Cg,useSyncExternalStore:Tg,useId:Bg,unstable_isNewReconciler:!1};function Kd(f,d){try{var b="",M=d;do b+=il(M),M=M.return;while(M);var k=b}catch(U){k=`
Error generating stack: `+U.message+`
`+U.stack}return{value:f,source:d,stack:k}}function kg(f,d){try{console.error(d.value)}catch(b){setTimeout(function(){throw b})}}var o_=typeof WeakMap=="function"?WeakMap:Map;function cv(f,d,b){b=Ao(-1,b),b.tag=3,b.payload={element:null};var M=d.value;return b.callback=function(){np||(np=!0,Gg=M),kg(f,d)},b}function fv(f,d,b){b=Ao(-1,b),b.tag=3;var M=f.type.getDerivedStateFromError;if(typeof M=="function"){var k=d.value;b.payload=function(){return M(k)},b.callback=function(){kg(f,d)}}var U=f.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(b.callback=function(){kg(f,d),typeof M!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var ye=d.stack;this.componentDidCatch(d.value,{componentStack:ye!==null?ye:""})}),b}function cl(f,d,b){var M=f.pingCache;if(M===null){M=f.pingCache=new o_;var k=new Set;M.set(d,k)}else k=M.get(d),k===void 0&&(k=new Set,M.set(d,k));k.has(b)||(k.add(b),f=Yg.bind(null,f,d,b),d.then(f,f))}function Co(f){do{var d;if((d=f.tag===13)&&(d=f.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return f;f=f.return}while(f!==null);return null}function Ta(f,d,b,M,k){return(f.mode&1)===0?(f===d?f.flags|=65536:(f.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(d=Ao(-1,1),d.tag=2,ba(b,d))),b.lanes|=1),f):(f.flags|=65536,f.lanes=k,f)}function La(f){f.flags|=4}function Ig(f,d){if(f!==null&&f.child===d.child)return!0;if((d.flags&16)!==0)return!1;for(f=d.child;f!==null;){if((f.flags&12854)!==0||(f.subtreeFlags&12854)!==0)return!1;f=f.sibling}return!0}var To,es,Qd,Zd;if(De)To=function(f,d){for(var b=d.child;b!==null;){if(b.tag===5||b.tag===6)N(f,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},es=function(){},Qd=function(f,d,b,M,k){if(f=f.memoizedProps,f!==M){var U=d.stateNode,ye=Zr(Bs.current);b=Q(U,b,f,M,k,ye),(d.updateQueue=b)&&La(d)}},Zd=function(f,d,b,M){b!==M&&La(d)};else if(xe){To=function(f,d,b,M){for(var k=d.child;k!==null;){if(k.tag===5){var U=k.stateNode;b&&M&&(U=ds(U,k.type,k.memoizedProps,k)),N(f,U)}else if(k.tag===6)U=k.stateNode,b&&M&&(U=Ls(U,k.memoizedProps,k)),N(f,U);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)U=k.child,U!==null&&(U.return=k),To(f,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===d)break;for(;k.sibling===null;){if(k.return===null||k.return===d)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};var Ng=function(f,d,b,M){for(var k=d.child;k!==null;){if(k.tag===5){var U=k.stateNode;b&&M&&(U=ds(U,k.type,k.memoizedProps,k)),mn(f,U)}else if(k.tag===6)U=k.stateNode,b&&M&&(U=Ls(U,k.memoizedProps,k)),mn(f,U);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)U=k.child,U!==null&&(U.return=k),Ng(f,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===d)break;for(;k.sibling===null;){if(k.return===null||k.return===d)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};es=function(f,d){var b=d.stateNode;if(!Ig(f,d)){f=b.containerInfo;var M=Dt(f);Ng(M,d,!1,!1),b.pendingChildren=M,La(d),Ts(f,M)}},Qd=function(f,d,b,M,k){var U=f.stateNode,ye=f.memoizedProps;if((f=Ig(f,d))&&ye===M)d.stateNode=U;else{var Re=d.stateNode,tt=Zr(Bs.current),bt=null;ye!==M&&(bt=Q(Re,b,ye,M,k,tt)),f&&bt===null?d.stateNode=U:(U=Ft(U,bt,b,ye,M,d,f,Re),V(U,b,M,k,tt)&&La(d),d.stateNode=U,f?La(d):To(U,d,!1,!1))}},Zd=function(f,d,b,M){b!==M?(f=Zr(Bi.current),b=Zr(Bs.current),d.stateNode=j(M,f,b,d),La(d)):d.stateNode=f.stateNode}}else es=function(){},Qd=function(){},Zd=function(){};function Kc(f,d){if(!rr)switch(f.tailMode){case"hidden":d=f.tail;for(var b=null;d!==null;)d.alternate!==null&&(b=d),d=d.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var M=null;b!==null;)b.alternate!==null&&(M=b),b=b.sibling;M===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function ki(f){var d=f.alternate!==null&&f.alternate.child===f.child,b=0,M=0;if(d)for(var k=f.child;k!==null;)b|=k.lanes|k.childLanes,M|=k.subtreeFlags&14680064,M|=k.flags&14680064,k.return=f,k=k.sibling;else for(k=f.child;k!==null;)b|=k.lanes|k.childLanes,M|=k.subtreeFlags,M|=k.flags,k.return=f,k=k.sibling;return f.subtreeFlags|=M,f.childLanes=b,d}function hv(f,d,b){var M=d.pendingProps;switch(ms(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(d),null;case 1:return xi(d.type)&&kc(),ki(d),null;case 3:return M=d.stateNode,gs(),jn(Li),jn(En),Ea(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(f===null||f.child===null)&&(Sa(d)?La(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ji!==null&&(sp(Ji),Ji=null))),es(f,d),ki(d),null;case 5:Xl(d),b=Zr(Bi.current);var k=d.type;if(f!==null&&d.stateNode!=null)Qd(f,d,k,M,b),f.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!M){if(d.stateNode===null)throw Error(o(166));return ki(d),null}if(f=Zr(Bs.current),Sa(d)){if(!Me)throw Error(o(175));f=en(d.stateNode,d.type,d.memoizedProps,b,f,d,!ll),d.updateQueue=f,f!==null&&La(d)}else{var U=ve(k,M,b,f,d);To(U,d,!1,!1),d.stateNode=U,V(U,k,M,b,f)&&La(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return ki(d),null;case 6:if(f&&d.stateNode!=null)Zd(f,d,f.memoizedProps,M);else{if(typeof M!="string"&&d.stateNode===null)throw Error(o(166));if(f=Zr(Bi.current),b=Zr(Bs.current),Sa(d)){if(!Me)throw Error(o(176));if(f=d.stateNode,M=d.memoizedProps,(b=Qt(f,M,d,!ll))&&(k=zr,k!==null))switch(U=(k.mode&1)!==0,k.tag){case 3:Ci(k.stateNode.containerInfo,f,M,U);break;case 5:Rn(k.type,k.memoizedProps,k.stateNode,f,M,U)}b&&La(d)}else d.stateNode=j(M,f,b,d)}return ki(d),null;case 13:if(jn(Nn),M=d.memoizedState,rr&&Yi!==null&&(d.mode&1)!==0&&(d.flags&128)===0){for(f=Yi;f;)f=We(f);return qo(),d.flags|=98560,d}if(M!==null&&M.dehydrated!==null){if(M=Sa(d),f===null){if(!M)throw Error(o(318));if(!Me)throw Error(o(344));if(f=d.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));_n(f,d)}else qo(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;return ki(d),null}return Ji!==null&&(sp(Ji),Ji=null),(d.flags&128)!==0?(d.lanes=b,d):(M=M!==null,b=!1,f===null?Sa(d):b=f.memoizedState!==null,M&&!b&&(d.child.flags|=8192,(d.mode&1)!==0&&(f===null||(Nn.current&1)!==0?er===0&&(er=3):op())),d.updateQueue!==null&&(d.flags|=4),ki(d),null);case 4:return gs(),es(f,d),f===null&&be(d.stateNode.containerInfo),ki(d),null;case 10:return Vl(d.type._context),ki(d),null;case 17:return xi(d.type)&&kc(),ki(d),null;case 19:if(jn(Nn),k=d.memoizedState,k===null)return ki(d),null;if(M=(d.flags&128)!==0,U=k.rendering,U===null)if(M)Kc(k,!1);else{if(er!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(U=ul(f),U!==null){for(d.flags|=128,Kc(k,!1),f=U.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),d.subtreeFlags=0,f=b,M=d.child;M!==null;)b=M,k=f,b.flags&=14680066,U=b.alternate,U===null?(b.childLanes=0,b.lanes=k,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=U.childLanes,b.lanes=U.lanes,b.child=U.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=U.memoizedProps,b.memoizedState=U.memoizedState,b.updateQueue=U.updateQueue,b.type=U.type,k=U.dependencies,b.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext}),M=M.sibling;return fn(Nn,Nn.current&1|2),d.child}f=f.sibling}k.tail!==null&&Ur()>tf&&(d.flags|=128,M=!0,Kc(k,!1),d.lanes=4194304)}else{if(!M)if(f=ul(U),f!==null){if(d.flags|=128,M=!0,f=f.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),Kc(k,!0),k.tail===null&&k.tailMode==="hidden"&&!U.alternate&&!rr)return ki(d),null}else 2*Ur()-k.renderingStartTime>tf&&b!==1073741824&&(d.flags|=128,M=!0,Kc(k,!1),d.lanes=4194304);k.isBackwards?(U.sibling=d.child,d.child=U):(f=k.last,f!==null?f.sibling=U:d.child=U,k.last=U)}return k.tail!==null?(d=k.tail,k.rendering=d,k.tail=d.sibling,k.renderingStartTime=Ur(),d.sibling=null,f=Nn.current,fn(Nn,M?f&1|2:f&1),d):(ki(d),null);case 22:case 23:return qg(),M=d.memoizedState!==null,f!==null&&f.memoizedState!==null!==M&&(d.flags|=8192),M&&(d.mode&1)!==0?(Di&1073741824)!==0&&(ki(d),De&&d.subtreeFlags&6&&(d.flags|=8192)):ki(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var a_=a.ReactCurrentOwner,ts=!1;function Si(f,d,b,M){d.child=f===null?Yc(d,null,b,M):$i(d,f.child,b,M)}function Qc(f,d,b,M,k){b=b.render;var U=d.ref;return _a(d,k),M=Hr(f,d,b,M,U,k),b=Yo(),f!==null&&!ts?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~k,Y(f,d,k)):(rr&&b&&oo(d),d.flags|=1,Si(f,d,M,k),d.child)}function ep(f,d,b,M,k){if(f===null){var U=b.type;return typeof U=="function"&&!c_(U)&&U.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(d.tag=15,d.type=U,Dg(f,d,U,M,k)):(f=_v(b.type,null,M,d,d.mode,k),f.ref=d.ref,f.return=d,d.child=f)}if(U=f.child,(f.lanes&k)===0){var ye=U.memoizedProps;if(b=b.compare,b=b!==null?b:Iu,b(ye,M)&&f.ref===d.ref)return Y(f,d,k)}return d.flags|=1,f=sf(U,M),f.ref=d.ref,f.return=d,d.child=f}function Dg(f,d,b,M,k){if(f!==null&&Iu(f.memoizedProps,M)&&f.ref===d.ref)if(ts=!1,(f.lanes&k)!==0)(f.flags&131072)!==0&&(ts=!0);else return d.lanes=f.lanes,Y(f,d,k);return Og(f,d,b,M,k)}function dv(f,d,b){var M=d.pendingProps,k=M.children,U=f!==null?f.memoizedState:null;if(M.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null},fn(hl,Di),Di|=b;else if((b&1073741824)!==0)d.memoizedState={baseLanes:0,cachePool:null},M=U!==null?U.baseLanes:b,fn(hl,Di),Di|=M;else return f=U!==null?U.baseLanes|b:b,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:f,cachePool:null},d.updateQueue=null,fn(hl,Di),Di|=f,null;else U!==null?(M=U.baseLanes|b,d.memoizedState=null):M=b,fn(hl,Di),Di|=M;return Si(f,d,k,b),d.child}function Fg(f,d){var b=d.ref;(f===null&&b!==null||f!==null&&f.ref!==b)&&(d.flags|=512,d.flags|=2097152)}function Og(f,d,b,M,k){var U=xi(b)?va:En.current;return U=nl(d,U),_a(d,k),b=Hr(f,d,b,M,U,k),M=Yo(),f!==null&&!ts?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~k,Y(f,d,k)):(rr&&M&&oo(d),d.flags|=1,Si(f,d,b,k),d.child)}function pv(f,d,b,M,k){if(xi(b)){var U=!0;Ri(d)}else U=!1;if(_a(d,k),d.stateNode===null)f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),Ee(d,b,M),Ze(d,b,M,k),M=!0;else if(f===null){var ye=d.stateNode,Re=d.memoizedProps;ye.props=Re;var tt=ye.context,bt=b.contextType;typeof bt=="object"&&bt!==null?bt=qi(bt):(bt=xi(b)?va:En.current,bt=nl(d,bt));var Ht=b.getDerivedStateFromProps,yn=typeof Ht=="function"||typeof ye.getSnapshotBeforeUpdate=="function";yn||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Re!==M||tt!==bt)&&Fe(d,ye,M,bt),so=!1;var tn=d.memoizedState;ye.state=tn,Yl(d,M,ye,k),tt=d.memoizedState,Re!==M||tn!==tt||Li.current||so?(typeof Ht=="function"&&(E(d,b,Ht,M),tt=d.memoizedState),(Re=so||ge(d,b,Re,M,tn,tt,bt))?(yn||typeof ye.UNSAFE_componentWillMount!="function"&&typeof ye.componentWillMount!="function"||(typeof ye.componentWillMount=="function"&&ye.componentWillMount(),typeof ye.UNSAFE_componentWillMount=="function"&&ye.UNSAFE_componentWillMount()),typeof ye.componentDidMount=="function"&&(d.flags|=4194308)):(typeof ye.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=M,d.memoizedState=tt),ye.props=M,ye.state=tt,ye.context=bt,M=Re):(typeof ye.componentDidMount=="function"&&(d.flags|=4194308),M=!1)}else{ye=d.stateNode,Hc(f,d),Re=d.memoizedProps,bt=d.type===d.elementType?Re:_i(d.type,Re),ye.props=bt,yn=d.pendingProps,tn=ye.context,tt=b.contextType,typeof tt=="object"&&tt!==null?tt=qi(tt):(tt=xi(b)?va:En.current,tt=nl(d,tt));var xr=b.getDerivedStateFromProps;(Ht=typeof xr=="function"||typeof ye.getSnapshotBeforeUpdate=="function")||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Re!==yn||tn!==tt)&&Fe(d,ye,M,tt),so=!1,tn=d.memoizedState,ye.state=tn,Yl(d,M,ye,k);var Yt=d.memoizedState;Re!==yn||tn!==Yt||Li.current||so?(typeof xr=="function"&&(E(d,b,xr,M),Yt=d.memoizedState),(bt=so||ge(d,b,bt,M,tn,Yt,tt)||!1)?(Ht||typeof ye.UNSAFE_componentWillUpdate!="function"&&typeof ye.componentWillUpdate!="function"||(typeof ye.componentWillUpdate=="function"&&ye.componentWillUpdate(M,Yt,tt),typeof ye.UNSAFE_componentWillUpdate=="function"&&ye.UNSAFE_componentWillUpdate(M,Yt,tt)),typeof ye.componentDidUpdate=="function"&&(d.flags|=4),typeof ye.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof ye.componentDidUpdate!="function"||Re===f.memoizedProps&&tn===f.memoizedState||(d.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Re===f.memoizedProps&&tn===f.memoizedState||(d.flags|=1024),d.memoizedProps=M,d.memoizedState=Yt),ye.props=M,ye.state=Yt,ye.context=tt,M=bt):(typeof ye.componentDidUpdate!="function"||Re===f.memoizedProps&&tn===f.memoizedState||(d.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Re===f.memoizedProps&&tn===f.memoizedState||(d.flags|=1024),M=!1)}return Ug(f,d,b,M,U,k)}function Ug(f,d,b,M,k,U){Fg(f,d);var ye=(d.flags&128)!==0;if(!M&&!ye)return k&&Ic(d,b,!1),Y(f,d,U);M=d.stateNode,a_.current=d;var Re=ye&&typeof b.getDerivedStateFromError!="function"?null:M.render();return d.flags|=1,f!==null&&ye?(d.child=$i(d,f.child,null,U),d.child=$i(d,null,Re,U)):Si(f,d,Re,U),d.memoizedState=M.state,k&&Ic(d,b,!0),d.child}function mv(f){var d=f.stateNode;d.pendingContext?bo(f,d.pendingContext,d.pendingContext!==d.context):d.context&&bo(f,d.context,!1),Aa(f,d.containerInfo)}function gv(f,d,b,M,k){return qo(),Ou(k),d.flags|=256,Si(f,d,b,M),d.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function Sh(f){return{baseLanes:f,cachePool:null}}function Ah(f,d,b){var M=d.pendingProps,k=Nn.current,U=!1,ye=(d.flags&128)!==0,Re;if((Re=ye)||(Re=f!==null&&f.memoizedState===null?!1:(k&2)!==0),Re?(U=!0,d.flags&=-129):(f===null||f.memoizedState!==null)&&(k|=1),fn(Nn,k&1),f===null)return Xi(d),f=d.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((d.mode&1)===0?d.lanes=1:Oe(f)?d.lanes=8:d.lanes=1073741824,null):(k=M.children,f=M.fallback,U?(M=d.mode,U=d.child,k={mode:"hidden",children:k},(M&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=k):U=bv(k,M,0,null),f=Lh(f,M,b,null),U.return=d,f.return=d,U.sibling=f,d.child=U,d.child.memoizedState=Sh(b),d.memoizedState=tp,f):zg(d,k));if(k=f.memoizedState,k!==null){if(Re=k.dehydrated,Re!==null){if(ye)return d.flags&256?(d.flags&=-257,v(f,d,b,Error(o(422)))):d.memoizedState!==null?(d.child=f.child,d.flags|=128,null):(U=M.fallback,k=d.mode,M=bv({mode:"visible",children:M.children},k,0,null),U=Lh(U,k,b,null),U.flags|=2,M.return=d,U.return=d,M.sibling=U,d.child=M,(d.mode&1)!==0&&$i(d,f.child,null,b),d.child.memoizedState=Sh(b),d.memoizedState=tp,U);if((d.mode&1)===0)d=v(f,d,b,null);else if(Oe(Re))d=v(f,d,b,Error(o(419)));else if(M=(b&f.childLanes)!==0,ts||M){if(M=qr,M!==null){switch(b&-b){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}M=(U&(M.suspendedLanes|b))!==0?0:U,M!==0&&M!==k.retryLane&&(k.retryLane=M,Ns(f,M,-1))}op(),d=v(f,d,b,Error(o(421)))}else de(Re)?(d.flags|=128,d.child=f.child,d=u_.bind(null,f),qe(Re,d),d=null):(b=k.treeContext,Me&&(Yi=Jt(Re),zr=d,rr=!0,Ji=null,ll=!1,b!==null&&(Zt[un++]=qn,Zt[un++]=nr,Zt[un++]=Zn,qn=b.id,nr=b.overflow,Zn=d)),d=zg(d,d.pendingProps.children),d.flags|=4096);return d}return U?(M=Hg(f,d,M.children,M.fallback,b),U=d.child,k=f.child.memoizedState,U.memoizedState=k===null?Sh(b):{baseLanes:k.baseLanes|b,cachePool:null},U.childLanes=f.childLanes&~b,d.memoizedState=tp,M):(b=vv(f,d,M.children,b),d.memoizedState=null,b)}return U?(M=Hg(f,d,M.children,M.fallback,b),U=d.child,k=f.child.memoizedState,U.memoizedState=k===null?Sh(b):{baseLanes:k.baseLanes|b,cachePool:null},U.childLanes=f.childLanes&~b,d.memoizedState=tp,M):(b=vv(f,d,M.children,b),d.memoizedState=null,b)}function zg(f,d){return d=bv({mode:"visible",children:d},f.mode,0,null),d.return=f,f.child=d}function vv(f,d,b,M){var k=f.child;return f=k.sibling,b=sf(k,{mode:"visible",children:b}),(d.mode&1)===0&&(b.lanes=M),b.return=d,b.sibling=null,f!==null&&(M=d.deletions,M===null?(d.deletions=[f],d.flags|=16):M.push(f)),d.child=b}function Hg(f,d,b,M,k){var U=d.mode;f=f.child;var ye=f.sibling,Re={mode:"hidden",children:b};return(U&1)===0&&d.child!==f?(b=d.child,b.childLanes=0,b.pendingProps=Re,d.deletions=null):(b=sf(f,Re),b.subtreeFlags=f.subtreeFlags&14680064),ye!==null?M=sf(ye,M):(M=Lh(M,U,k,null),M.flags|=2),M.return=d,b.return=d,b.sibling=M,d.child=b,M}function v(f,d,b,M){return M!==null&&Ou(M),$i(d,f.child,null,b),f=zg(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function S(f,d,b){f.lanes|=d;var M=f.alternate;M!==null&&(M.lanes|=d),mh(f.return,d,b)}function R(f,d,b,M,k){var U=f.memoizedState;U===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:M,tail:b,tailMode:k}:(U.isBackwards=d,U.rendering=null,U.renderingStartTime=0,U.last=M,U.tail=b,U.tailMode=k)}function O(f,d,b){var M=d.pendingProps,k=M.revealOrder,U=M.tail;if(Si(f,d,M.children,b),M=Nn.current,(M&2)!==0)M=M&1|2,d.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&S(f,b,d);else if(f.tag===19)S(f,b,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}if(fn(Nn,M),(d.mode&1)===0)d.memoizedState=null;else switch(k){case"forwards":for(b=d.child,k=null;b!==null;)f=b.alternate,f!==null&&ul(f)===null&&(k=b),b=b.sibling;b=k,b===null?(k=d.child,d.child=null):(k=b.sibling,b.sibling=null),R(d,!1,k,b,U);break;case"backwards":for(b=null,k=d.child,d.child=null;k!==null;){if(f=k.alternate,f!==null&&ul(f)===null){d.child=k;break}f=k.sibling,k.sibling=b,b=k,k=f}R(d,!0,b,null,U);break;case"together":R(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Y(f,d,b){if(f!==null&&(d.dependencies=f.dependencies),Xo|=d.lanes,(b&d.childLanes)===0)return null;if(f!==null&&d.child!==f.child)throw Error(o(153));if(d.child!==null){for(f=d.child,b=sf(f,f.pendingProps),d.child=b,b.return=d;f.sibling!==null;)f=f.sibling,b=b.sibling=sf(f,f.pendingProps),b.return=d;b.sibling=null}return d.child}function $(f,d,b){switch(d.tag){case 3:mv(d),qo();break;case 5:Ma(d);break;case 1:xi(d.type)&&Ri(d);break;case 4:Aa(d,d.stateNode.containerInfo);break;case 10:Wd(d,d.type._context,d.memoizedProps.value);break;case 13:var M=d.memoizedState;if(M!==null)return M.dehydrated!==null?(fn(Nn,Nn.current&1),d.flags|=128,null):(b&d.child.childLanes)!==0?Ah(f,d,b):(fn(Nn,Nn.current&1),f=Y(f,d,b),f!==null?f.sibling:null);fn(Nn,Nn.current&1);break;case 19:if(M=(b&d.childLanes)!==0,(f.flags&128)!==0){if(M)return O(f,d,b);d.flags|=128}var k=d.memoizedState;if(k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),fn(Nn,Nn.current),M)break;return null;case 22:case 23:return d.lanes=0,dv(f,d,b)}return Y(f,d,b)}function K(f,d){switch(ms(d),d.tag){case 1:return xi(d.type)&&kc(),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return gs(),jn(Li),jn(En),Ea(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 5:return Xl(d),null;case 13:if(jn(Nn),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(o(340));qo()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return jn(Nn),null;case 4:return gs(),null;case 10:return Vl(d.type._context),null;case 22:case 23:return qg(),null;case 24:return null;default:return null}}var te=!1,se=!1,he=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ue(f,d){var b=f.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(M){Oi(f,d,M)}else b.current=null}function ze(f,d,b){try{b()}catch(M){Oi(f,d,M)}}var Be=!1;function lt(f,d){for(X(f.containerInfo),pe=d;pe!==null;)if(f=pe,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,pe=d;else for(;pe!==null;){f=pe;try{var b=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var M=b.memoizedProps,k=b.memoizedState,U=f.stateNode,ye=U.getSnapshotBeforeUpdate(f.elementType===f.type?M:_i(f.type,M),k);U.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:De&&pt(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Re){Oi(f,f.return,Re)}if(d=f.sibling,d!==null){d.return=f.return,pe=d;break}pe=f.return}return b=Be,Be=!1,b}function Ye(f,d,b){var M=d.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var k=M=M.next;do{if((k.tag&f)===f){var U=k.destroy;k.destroy=void 0,U!==void 0&&ze(d,b,U)}k=k.next}while(k!==M)}}function Ce(f,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var b=d=d.next;do{if((b.tag&f)===f){var M=b.create;b.destroy=M()}b=b.next}while(b!==d)}}function Le(f){var d=f.ref;if(d!==null){var b=f.stateNode;switch(f.tag){case 5:f=re(b);break;default:f=b}typeof d=="function"?d(f):d.current=f}}function st(f,d,b){if(So&&typeof So.onCommitFiberUnmount=="function")try{So.onCommitFiberUnmount(Uc,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var M=f=f.next;do{var k=M,U=k.destroy;k=k.tag,U!==void 0&&((k&2)!==0||(k&4)!==0)&&ze(d,b,U),M=M.next}while(M!==f)}break;case 1:if(Ue(d,b),f=d.stateNode,typeof f.componentWillUnmount=="function")try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch(ye){Oi(d,b,ye)}break;case 5:Ue(d,b);break;case 4:De?Yn(f,d,b):xe&&xe&&(d=d.stateNode.containerInfo,b=Dt(d),On(d,b))}}function ht(f,d,b){for(var M=d;;)if(st(f,M,b),M.child===null||De&&M.tag===4){if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function at(f){var d=f.alternate;d!==null&&(f.alternate=null,at(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&$e(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function kt(f){return f.tag===5||f.tag===3||f.tag===4}function Ct(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||kt(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Xt(f){if(De){e:{for(var d=f.return;d!==null;){if(kt(d))break e;d=d.return}throw Error(o(160))}var b=d;switch(b.tag){case 5:d=b.stateNode,b.flags&32&&(_t(d),b.flags&=-33),b=Ct(f),Dn(f,b,d);break;case 3:case 4:d=b.stateNode.containerInfo,b=Ct(f),Tt(f,b,d);break;default:throw Error(o(161))}}}function Tt(f,d,b){var M=f.tag;if(M===5||M===6)f=f.stateNode,d?Qe(b,f,d):Pe(b,f);else if(M!==4&&(f=f.child,f!==null))for(Tt(f,d,b),f=f.sibling;f!==null;)Tt(f,d,b),f=f.sibling}function Dn(f,d,b){var M=f.tag;if(M===5||M===6)f=f.stateNode,d?fe(b,f,d):gt(b,f);else if(M!==4&&(f=f.child,f!==null))for(Dn(f,d,b),f=f.sibling;f!==null;)Dn(f,d,b),f=f.sibling}function Yn(f,d,b){for(var M=d,k=!1,U,ye;;){if(!k){k=M.return;e:for(;;){if(k===null)throw Error(o(160));switch(U=k.stateNode,k.tag){case 5:ye=!1;break e;case 3:U=U.containerInfo,ye=!0;break e;case 4:U=U.containerInfo,ye=!0;break e}k=k.return}k=!0}if(M.tag===5||M.tag===6)ht(f,M,b),ye?yt(U,M.stateNode):Je(U,M.stateNode);else if(M.tag===18)ye?to(U,M.stateNode):Rs(U,M.stateNode);else if(M.tag===4){if(M.child!==null){U=M.stateNode.containerInfo,ye=!0,M.child.return=M,M=M.child;continue}}else if(st(f,M,b),M.child!==null){M.child.return=M,M=M.child;continue}if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return,M.tag===4&&(k=!1)}M.sibling.return=M.return,M=M.sibling}}function Pn(f,d){if(De){switch(d.tag){case 0:case 11:case 14:case 15:Ye(3,d,d.return),Ce(3,d),Ye(5,d,d.return);return;case 1:return;case 5:var b=d.stateNode;if(b!=null){var M=d.memoizedProps;f=f!==null?f.memoizedProps:M;var k=d.type,U=d.updateQueue;d.updateQueue=null,U!==null&&_e(b,U,k,f,M,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));b=d.memoizedProps,Et(d.stateNode,f!==null?f.memoizedProps:b,b);return;case 3:Me&&f!==null&&f.memoizedState.isDehydrated&&cn(d.stateNode.containerInfo);return;case 12:return;case 13:bn(d);return;case 19:bn(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:Ye(3,d,d.return),Ce(3,d),Ye(5,d,d.return);return;case 12:return;case 13:bn(d);return;case 19:bn(d);return;case 3:Me&&f!==null&&f.memoizedState.isDehydrated&&cn(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(xe){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,On(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function bn(f){var d=f.updateQueue;if(d!==null){f.updateQueue=null;var b=f.stateNode;b===null&&(b=f.stateNode=new he),d.forEach(function(M){var k=Xg.bind(null,f,M);b.has(M)||(b.add(M),M.then(k,k))})}}function ur(f,d){for(pe=d;pe!==null;){d=pe;var b=d.deletions;if(b!==null)for(var M=0;M<b.length;M++){var k=b[M];try{var U=f;De?Yn(U,k,d):ht(U,k,d);var ye=k.alternate;ye!==null&&(ye.return=null),k.return=null}catch(Vt){Oi(k,d,Vt)}}if(b=d.child,(d.subtreeFlags&12854)!==0&&b!==null)b.return=d,pe=b;else for(;pe!==null;){d=pe;try{var Re=d.flags;if(Re&32&&De&&_t(d.stateNode),Re&512){var tt=d.alternate;if(tt!==null){var bt=tt.ref;bt!==null&&(typeof bt=="function"?bt(null):bt.current=null)}}if(Re&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var Ht=d.alternate;(Ht===null||Ht.memoizedState===null)&&(Eh=Ur())}break;case 22:var yn=d.memoizedState!==null,tn=d.alternate,xr=tn!==null&&tn.memoizedState!==null;if(b=d,De){e:if(M=b,k=yn,U=null,De)for(var Yt=M;;){if(Yt.tag===5){if(U===null){U=Yt;var Fs=Yt.stateNode;k?St(Fs):Lt(Yt.stateNode,Yt.memoizedProps)}}else if(Yt.tag===6){if(U===null){var Da=Yt.stateNode;k?xt(Da):At(Da,Yt.memoizedProps)}}else if((Yt.tag!==22&&Yt.tag!==23||Yt.memoizedState===null||Yt===M)&&Yt.child!==null){Yt.child.return=Yt,Yt=Yt.child;continue}if(Yt===M)break;for(;Yt.sibling===null;){if(Yt.return===null||Yt.return===M)break e;U===Yt&&(U=null),Yt=Yt.return}U===Yt&&(U=null),Yt.sibling.return=Yt.return,Yt=Yt.sibling}}if(yn&&!xr&&(b.mode&1)!==0){pe=b;for(var Ve=b.child;Ve!==null;){for(b=pe=Ve;pe!==null;){M=pe;var Ne=M.child;switch(M.tag){case 0:case 11:case 14:case 15:Ye(4,M,M.return);break;case 1:Ue(M,M.return);var Xe=M.stateNode;if(typeof Xe.componentWillUnmount=="function"){var Nt=M.return;try{Xe.props=M.memoizedProps,Xe.state=M.memoizedState,Xe.componentWillUnmount()}catch(Vt){Oi(M,Nt,Vt)}}break;case 5:Ue(M,M.return);break;case 22:if(M.memoizedState!==null){xs(b);continue}}Ne!==null?(Ne.return=M,pe=Ne):xs(b)}Ve=Ve.sibling}}}switch(Re&4102){case 2:Xt(d),d.flags&=-3;break;case 6:Xt(d),d.flags&=-3,Pn(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,Pn(d.alternate,d);break;case 4:Pn(d.alternate,d)}}catch(Vt){Oi(d,d.return,Vt)}if(b=d.sibling,b!==null){b.return=d.return,pe=b;break}pe=d.return}}}function ir(f,d,b){pe=f,hn(f)}function hn(f,d,b){for(var M=(f.mode&1)!==0;pe!==null;){var k=pe,U=k.child;if(k.tag===22&&M){var ye=k.memoizedState!==null||te;if(!ye){var Re=k.alternate,tt=Re!==null&&Re.memoizedState!==null||se;Re=te;var bt=se;if(te=ye,(se=tt)&&!bt)for(pe=k;pe!==null;)ye=pe,tt=ye.child,ye.tag===22&&ye.memoizedState!==null?jr(k):tt!==null?(tt.return=ye,pe=tt):jr(k);for(;U!==null;)pe=U,hn(U),U=U.sibling;pe=k,te=Re,se=bt}Gr(f)}else(k.subtreeFlags&8772)!==0&&U!==null?(U.return=k,pe=U):Gr(f)}}function Gr(f){for(;pe!==null;){var d=pe;if((d.flags&8772)!==0){var b=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:se||Ce(5,d);break;case 1:var M=d.stateNode;if(d.flags&4&&!se)if(b===null)M.componentDidMount();else{var k=d.elementType===d.type?b.memoizedProps:_i(d.type,b.memoizedProps);M.componentDidUpdate(k,b.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var U=d.updateQueue;U!==null&&al(d,U,M);break;case 3:var ye=d.updateQueue;if(ye!==null){if(b=null,d.child!==null)switch(d.child.tag){case 5:b=re(d.child.stateNode);break;case 1:b=d.child.stateNode}al(d,ye,b)}break;case 5:var Re=d.stateNode;b===null&&d.flags&4&&it(Re,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(Me&&d.memoizedState===null){var tt=d.alternate;if(tt!==null){var bt=tt.memoizedState;if(bt!==null){var Ht=bt.dehydrated;Ht!==null&&Vn(Ht)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}se||d.flags&512&&Le(d)}catch(yn){Oi(d,d.return,yn)}}if(d===f){pe=null;break}if(b=d.sibling,b!==null){b.return=d.return,pe=b;break}pe=d.return}}function xs(f){for(;pe!==null;){var d=pe;if(d===f){pe=null;break}var b=d.sibling;if(b!==null){b.return=d.return,pe=b;break}pe=d.return}}function jr(f){for(;pe!==null;){var d=pe;try{switch(d.tag){case 0:case 11:case 15:var b=d.return;try{Ce(4,d)}catch(tt){Oi(d,b,tt)}break;case 1:var M=d.stateNode;if(typeof M.componentDidMount=="function"){var k=d.return;try{M.componentDidMount()}catch(tt){Oi(d,k,tt)}}var U=d.return;try{Le(d)}catch(tt){Oi(d,U,tt)}break;case 5:var ye=d.return;try{Le(d)}catch(tt){Oi(d,ye,tt)}}}catch(tt){Oi(d,d.return,tt)}if(d===f){pe=null;break}var Re=d.sibling;if(Re!==null){Re.return=d.return,pe=Re;break}pe=d.return}}var Ii=0,Un=1,ns=2,rs=3,Wr=4;if(typeof Symbol=="function"&&Symbol.for){var Vr=Symbol.for;Ii=Vr("selector.component"),Un=Vr("selector.has_pseudo_class"),ns=Vr("selector.role"),rs=Vr("selector.test_id"),Wr=Vr("selector.text")}function Ni(f){var d=Ge(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(f=ct(f),f===null)throw Error(o(362));return f.stateNode.current}function Is(f,d){switch(d.$$typeof){case Ii:if(f.type===d.value)return!0;break;case Un:e:{d=d.value,f=[f,0];for(var b=0;b<f.length;){var M=f[b++],k=f[b++],U=d[k];if(M.tag!==5||!Se(M)){for(;U!=null&&Is(M,U);)k++,U=d[k];if(k===d.length){d=!0;break e}else for(M=M.child;M!==null;)f.push(M,k),M=M.sibling}}d=!1}return d;case ns:if(f.tag===5&&He(f.stateNode,d.value))return!0;break;case Wr:if((f.tag===5||f.tag===6)&&(f=ee(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case rs:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Lo(f){switch(f.$$typeof){case Ii:return"<"+(I(f.value)||"Unknown")+">";case Un:return":has("+(Lo(f)||"")+")";case ns:return'[role="'+f.value+'"]';case Wr:return'"'+f.value+'"';case rs:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function li(f,d){var b=[];f=[f,0];for(var M=0;M<f.length;){var k=f[M++],U=f[M++],ye=d[U];if(k.tag!==5||!Se(k)){for(;ye!=null&&Is(k,ye);)U++,ye=d[U];if(U===d.length)b.push(k);else for(k=k.child;k!==null;)f.push(k,U),k=k.sibling}}return b}function Jo(f,d){if(!et)throw Error(o(363));f=Ni(f),f=li(f,d),d=[],f=Array.from(f);for(var b=0;b<f.length;){var M=f[b++];if(M.tag===5)Se(M)||d.push(M.stateNode);else for(M=M.child;M!==null;)f.push(M),M=M.sibling}return d}var Gu=Math.ceil,fl=a.ReactCurrentDispatcher,Ra=a.ReactCurrentOwner,dn=a.ReactCurrentBatchConfig,vn=0,qr=null,Yr=null,ti=0,Di=0,hl=Ti(0),er=0,Pa=null,Xo=0,Mh=0,Zc=0,ef=null,Fi=null,Eh=0,tf=1/0;function Ba(){tf=Ur()+500}var np=!1,Gg=null,ka=null,$o=!1,Ql=null,rp=0,Ch=0,ip=null,ju=-1,Th=0;function is(){return(vn&6)!==0?Ur():ju!==-1?ju:ju=Ur()}function Ko(f){return(f.mode&1)===0?1:(vn&2)!==0&&ti!==0?ti&-ti:jd.transition!==null?(Th===0&&(f=Lu,Lu<<=1,(Lu&4194240)===0&&(Lu=64),Th=f),Th):(f=kn,f!==0?f:oe())}function Ns(f,d,b){if(50<Ch)throw Ch=0,ip=null,Error(o(185));var M=Zl(f,d);return M===null?null:(ya(M,d,b),((vn&2)===0||M!==qr)&&(M===qr&&((vn&2)===0&&(Mh|=d),er===4&&_s(M,ti)),ws(M,b),d===1&&vn===0&&(f.mode&1)===0&&(Ba(),wa&&ro())),M)}function Zl(f,d){f.lanes|=d;var b=f.alternate;for(b!==null&&(b.lanes|=d),b=f,f=f.return;f!==null;)f.childLanes|=d,b=f.alternate,b!==null&&(b.childLanes|=d),b=f,f=f.return;return b.tag===3?b.stateNode:null}function ws(f,d){var b=f.callbackNode;Ag(f,d);var M=Dc(f,f===qr?ti:0);if(M===0)b!==null&&Hd(b),f.callbackNode=null,f.callbackPriority=0;else if(d=M&-M,f.callbackPriority!==d){if(b!=null&&Hd(b),d===1)f.tag===0?Gd(Wg.bind(null,f)):ku(Wg.bind(null,f)),Ke?je(function(){vn===0&&ro()}):sn(Fc,ro),b=null;else{switch(dh(M)){case 1:b=Fc;break;case 4:b=Oc;break;case 16:b=Ru;break;case 536870912:b=Eg;break;default:b=Ru}b=CE(b,yv.bind(null,f))}f.callbackPriority=d,f.callbackNode=b}}function yv(f,d){if(ju=-1,Th=0,(vn&6)!==0)throw Error(o(327));var b=f.callbackNode;if(Ds()&&f.callbackNode!==b)return null;var M=Dc(f,f===qr?ti:0);if(M===0)return null;if((M&30)!==0||(M&f.expiredLanes)!==0||d)d=ap(f,M);else{d=M;var k=vn;vn|=2;var U=xv();(qr!==f||ti!==d)&&(Ba(),eu(f,d));do try{l_();break}catch(Re){Wu(f,Re)}while(1);sl(),fl.current=U,vn=k,Yr!==null?d=0:(qr=null,ti=0,d=er)}if(d!==0){if(d===2&&(k=jo(f),k!==0&&(M=k,d=nf(f,k))),d===1)throw b=Pa,eu(f,0),_s(f,M),ws(f,Ur()),b;if(d===6)_s(f,M);else{if(k=f.current.alternate,(M&30)===0&&!jg(k)&&(d=ap(f,M),d===2&&(U=jo(f),U!==0&&(M=U,d=nf(f,U))),d===1))throw b=Pa,eu(f,0),_s(f,M),ws(f,Ur()),b;switch(f.finishedWork=k,f.finishedLanes=M,d){case 0:case 1:throw Error(o(345));case 2:Ia(f,Fi);break;case 3:if(_s(f,M),(M&130023424)===M&&(d=Eh+500-Ur(),10<d)){if(Dc(f,0)!==0)break;if(k=f.suspendedLanes,(k&M)!==M){is(),f.pingedLanes|=f.suspendedLanes&k;break}f.timeoutHandle=we(Ia.bind(null,f,Fi),d);break}Ia(f,Fi);break;case 4:if(_s(f,M),(M&4194240)===M)break;for(d=f.eventTimes,k=-1;0<M;){var ye=31-Ps(M);U=1<<ye,ye=d[ye],ye>k&&(k=ye),M&=~U}if(M=k,M=Ur()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*Gu(M/1960))-M,10<M){f.timeoutHandle=we(Ia.bind(null,f,Fi),M);break}Ia(f,Fi);break;case 5:Ia(f,Fi);break;default:throw Error(o(329))}}}return ws(f,Ur()),f.callbackNode===b?yv.bind(null,f):null}function nf(f,d){var b=ef;return f.current.memoizedState.isDehydrated&&(eu(f,d).flags|=256),f=ap(f,d),f!==2&&(d=Fi,Fi=b,d!==null&&sp(d)),f}function sp(f){Fi===null?Fi=f:Fi.push.apply(Fi,f)}function jg(f){for(var d=f;;){if(d.flags&16384){var b=d.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var M=0;M<b.length;M++){var k=b[M],U=k.getSnapshot;k=k.value;try{if(!Pi(U(),k))return!1}catch{return!1}}}if(b=d.child,d.subtreeFlags&16384&&b!==null)b.return=d,d=b;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function _s(f,d){for(d&=~Zc,d&=~Mh,f.suspendedLanes|=d,f.pingedLanes&=~d,f=f.expirationTimes;0<d;){var b=31-Ps(d),M=1<<b;f[b]=-1,d&=~M}}function Wg(f){if((vn&6)!==0)throw Error(o(327));Ds();var d=Dc(f,0);if((d&1)===0)return ws(f,Ur()),null;var b=ap(f,d);if(f.tag!==0&&b===2){var M=jo(f);M!==0&&(d=M,b=nf(f,M))}if(b===1)throw b=Pa,eu(f,0),_s(f,d),ws(f,Ur()),b;if(b===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=d,Ia(f,Fi),ws(f,Ur()),null}function Vg(f){Ql!==null&&Ql.tag===0&&(vn&6)===0&&Ds();var d=vn;vn|=1;var b=dn.transition,M=kn;try{if(dn.transition=null,kn=1,f)return f()}finally{kn=M,dn.transition=b,vn=d,(vn&6)===0&&ro()}}function qg(){Di=hl.current,jn(hl)}function eu(f,d){f.finishedWork=null,f.finishedLanes=0;var b=f.timeoutHandle;if(b!==Ae&&(f.timeoutHandle=Ae,me(b)),Yr!==null)for(b=Yr.return;b!==null;){var M=b;switch(ms(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&kc();break;case 3:gs(),jn(Li),jn(En),Ea();break;case 5:Xl(M);break;case 4:gs();break;case 13:jn(Nn);break;case 19:jn(Nn);break;case 10:Vl(M.type._context);break;case 22:case 23:qg()}b=b.return}if(qr=f,Yr=f=sf(f.current,null),ti=Di=d,er=0,Pa=null,Zc=Mh=Xo=0,Fi=ef=null,io!==null){for(d=0;d<io.length;d++)if(b=io[d],M=b.interleaved,M!==null){b.interleaved=null;var k=M.next,U=b.pending;if(U!==null){var ye=U.next;U.next=k,M.next=ye}b.pending=M}io=null}return f}function Wu(f,d){do{var b=Yr;try{if(sl(),ks.current=$c,$l){for(var M=lr.memoizedState;M!==null;){var k=M.queue;k!==null&&(k.pending=null),M=M.next}$l=!1}if(Eo=0,yr=Br=lr=null,Ki=!1,ao=0,Ra.current=null,b===null||b.return===null){er=1,Pa=d,Yr=null;break}e:{var U=f,ye=b.return,Re=b,tt=d;if(d=ti,Re.flags|=32768,tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var bt=tt,Ht=Re,yn=Ht.tag;if((Ht.mode&1)===0&&(yn===0||yn===11||yn===15)){var tn=Ht.alternate;tn?(Ht.updateQueue=tn.updateQueue,Ht.memoizedState=tn.memoizedState,Ht.lanes=tn.lanes):(Ht.updateQueue=null,Ht.memoizedState=null)}var xr=Co(ye);if(xr!==null){xr.flags&=-257,Ta(xr,ye,Re,U,d),xr.mode&1&&cl(U,bt,d),d=xr,tt=bt;var Yt=d.updateQueue;if(Yt===null){var Fs=new Set;Fs.add(tt),d.updateQueue=Fs}else Yt.add(tt);break e}else{if((d&1)===0){cl(U,bt,d),op();break e}tt=Error(o(426))}}else if(rr&&Re.mode&1){var Da=Co(ye);if(Da!==null){(Da.flags&65536)===0&&(Da.flags|=256),Ta(Da,ye,Re,U,d),Ou(tt);break e}}U=tt,er!==4&&(er=2),ef===null?ef=[U]:ef.push(U),tt=Kd(tt,Re),Re=ye;do{switch(Re.tag){case 3:Re.flags|=65536,d&=-d,Re.lanes|=d;var Ve=cv(Re,tt,d);ql(Re,Ve);break e;case 1:U=tt;var Ne=Re.type,Xe=Re.stateNode;if((Re.flags&128)===0&&(typeof Ne.getDerivedStateFromError=="function"||Xe!==null&&typeof Xe.componentDidCatch=="function"&&(ka===null||!ka.has(Xe)))){Re.flags|=65536,d&=-d,Re.lanes|=d;var Nt=fv(Re,U,d);ql(Re,Nt);break e}}Re=Re.return}while(Re!==null)}lp(b)}catch(Vt){d=Vt,Yr===b&&b!==null&&(Yr=b=b.return);continue}break}while(1)}function xv(){var f=fl.current;return fl.current=$c,f===null?$c:f}function op(){(er===0||er===3||er===2)&&(er=4),qr===null||(Xo&268435455)===0&&(Mh&268435455)===0||_s(qr,ti)}function ap(f,d){var b=vn;vn|=2;var M=xv();qr===f&&ti===d||eu(f,d);do try{wv();break}catch(k){Wu(f,k)}while(1);if(sl(),vn=b,fl.current=M,Yr!==null)throw Error(o(261));return qr=null,ti=0,er}function wv(){for(;Yr!==null;)rf(Yr)}function l_(){for(;Yr!==null&&!Mg();)rf(Yr)}function rf(f){var d=up(f.alternate,f,Di);f.memoizedProps=f.pendingProps,d===null?lp(f):Yr=d,Ra.current=null}function lp(f){var d=f;do{var b=d.alternate;if(f=d.return,(d.flags&32768)===0){if(b=hv(b,d,Di),b!==null){Yr=b;return}}else{if(b=K(b,d),b!==null){b.flags&=32767,Yr=b;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{er=6,Yr=null;return}}if(d=d.sibling,d!==null){Yr=d;return}Yr=d=f}while(d!==null);er===0&&(er=5)}function Ia(f,d){var b=kn,M=dn.transition;try{dn.transition=null,kn=1,dl(f,d,b)}finally{dn.transition=M,kn=b}return null}function dl(f,d,b){do Ds();while(Ql!==null);if((vn&6)!==0)throw Error(o(327));var M=f.finishedWork,k=f.finishedLanes;if(M===null)return null;if(f.finishedWork=null,f.finishedLanes=0,M===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var U=M.lanes|M.childLanes;if(zd(f,U),f===qr&&(Yr=qr=null,ti=0),(M.subtreeFlags&2064)===0&&(M.flags&2064)===0||$o||($o=!0,CE(Ru,function(){return Ds(),null})),U=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||U){U=dn.transition,dn.transition=null;var ye=kn;kn=1;var Re=vn;vn|=4,Ra.current=null,lt(f,M),ur(f,M),ie(f.containerInfo),f.current=M,ir(M),xa(),vn=Re,kn=ye,dn.transition=U}else f.current=M;if($o&&($o=!1,Ql=f,rp=k),U=f.pendingLanes,U===0&&(ka=null),ph(M.stateNode),ws(f,Ur()),d!==null)for(b=f.onRecoverableError,M=0;M<d.length;M++)b(d[M]);if(np)throw np=!1,f=Gg,Gg=null,f;return(rp&1)!==0&&f.tag!==0&&Ds(),U=f.pendingLanes,(U&1)!==0?f===ip?Ch++:(Ch=0,ip=f):Ch=0,ro(),null}function Ds(){if(Ql!==null){var f=dh(rp),d=dn.transition,b=kn;try{if(dn.transition=null,kn=16>f?16:f,Ql===null)var M=!1;else{if(f=Ql,Ql=null,rp=0,(vn&6)!==0)throw Error(o(331));var k=vn;for(vn|=4,pe=f.current;pe!==null;){var U=pe,ye=U.child;if((pe.flags&16)!==0){var Re=U.deletions;if(Re!==null){for(var tt=0;tt<Re.length;tt++){var bt=Re[tt];for(pe=bt;pe!==null;){var Ht=pe;switch(Ht.tag){case 0:case 11:case 15:Ye(8,Ht,U)}var yn=Ht.child;if(yn!==null)yn.return=Ht,pe=yn;else for(;pe!==null;){Ht=pe;var tn=Ht.sibling,xr=Ht.return;if(at(Ht),Ht===bt){pe=null;break}if(tn!==null){tn.return=xr,pe=tn;break}pe=xr}}}var Yt=U.alternate;if(Yt!==null){var Fs=Yt.child;if(Fs!==null){Yt.child=null;do{var Da=Fs.sibling;Fs.sibling=null,Fs=Da}while(Fs!==null)}}pe=U}}if((U.subtreeFlags&2064)!==0&&ye!==null)ye.return=U,pe=ye;else e:for(;pe!==null;){if(U=pe,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:Ye(9,U,U.return)}var Ve=U.sibling;if(Ve!==null){Ve.return=U.return,pe=Ve;break e}pe=U.return}}var Ne=f.current;for(pe=Ne;pe!==null;){ye=pe;var Xe=ye.child;if((ye.subtreeFlags&2064)!==0&&Xe!==null)Xe.return=ye,pe=Xe;else e:for(ye=Ne;pe!==null;){if(Re=pe,(Re.flags&2048)!==0)try{switch(Re.tag){case 0:case 11:case 15:Ce(9,Re)}}catch(Vt){Oi(Re,Re.return,Vt)}if(Re===ye){pe=null;break e}var Nt=Re.sibling;if(Nt!==null){Nt.return=Re.return,pe=Nt;break e}pe=Re.return}}if(vn=k,ro(),So&&typeof So.onPostCommitFiberRoot=="function")try{So.onPostCommitFiberRoot(Uc,f)}catch{}M=!0}return M}finally{kn=b,dn.transition=d}}return!1}function pl(f,d,b){d=Kd(b,d),d=cv(f,d,1),ba(f,d),d=is(),f=Zl(f,1),f!==null&&(ya(f,1,d),ws(f,d))}function Oi(f,d,b){if(f.tag===3)pl(f,f,b);else for(;d!==null;){if(d.tag===3){pl(d,f,b);break}else if(d.tag===1){var M=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(ka===null||!ka.has(M))){f=Kd(b,f),f=fv(d,f,1),ba(d,f),f=is(),d=Zl(d,1),d!==null&&(ya(d,1,f),ws(d,f));break}}d=d.return}}function Yg(f,d,b){var M=f.pingCache;M!==null&&M.delete(d),d=is(),f.pingedLanes|=f.suspendedLanes&b,qr===f&&(ti&b)===b&&(er===4||er===3&&(ti&130023424)===ti&&500>Ur()-Eh?eu(f,0):Zc|=b),ws(f,d)}function Jg(f,d){d===0&&((f.mode&1)===0?d=1:(d=Nc,Nc<<=1,(Nc&130023424)===0&&(Nc=4194304)));var b=is();f=Zl(f,d),f!==null&&(ya(f,d,b),ws(f,b))}function u_(f){var d=f.memoizedState,b=0;d!==null&&(b=d.retryLane),Jg(f,b)}function Xg(f,d){var b=0;switch(f.tag){case 13:var M=f.stateNode,k=f.memoizedState;k!==null&&(b=k.retryLane);break;case 19:M=f.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(d),Jg(f,b)}var up;up=function(f,d,b){if(f!==null)if(f.memoizedProps!==d.pendingProps||Li.current)ts=!0;else{if((f.lanes&b)===0&&(d.flags&128)===0)return ts=!1,$(f,d,b);ts=(f.flags&131072)!==0}else ts=!1,rr&&(d.flags&1048576)!==0&&ai(d,ln,d.index);switch(d.lanes=0,d.tag){case 2:var M=d.type;f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps;var k=nl(d,En.current);_a(d,b),k=Hr(null,d,M,f,k,b);var U=Yo();return d.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,xi(M)?(U=!0,Ri(d)):U=!1,d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Du(d),k.updater=J,d.stateNode=k,k._reactInternals=d,Ze(d,M,f,b),d=Ug(null,d,M,!0,U,b)):(d.tag=0,rr&&U&&oo(d),Si(null,d,k,b),d=d.child),d;case 16:M=d.elementType;e:{switch(f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps,k=M._init,M=k(M._payload),d.type=M,k=d.tag=DF(M),f=_i(M,f),k){case 0:d=Og(null,d,M,f,b);break e;case 1:d=pv(null,d,M,f,b);break e;case 11:d=Qc(null,d,M,f,b);break e;case 14:d=ep(null,d,M,_i(M.type,f),b);break e}throw Error(o(306,M,""))}return d;case 0:return M=d.type,k=d.pendingProps,k=d.elementType===M?k:_i(M,k),Og(f,d,M,k,b);case 1:return M=d.type,k=d.pendingProps,k=d.elementType===M?k:_i(M,k),pv(f,d,M,k,b);case 3:e:{if(mv(d),f===null)throw Error(o(387));M=d.pendingProps,U=d.memoizedState,k=U.element,Hc(f,d),Yl(d,M,null,b);var ye=d.memoizedState;if(M=ye.element,Me&&U.isDehydrated)if(U={element:M,isDehydrated:!1,cache:ye.cache,transitions:ye.transitions},d.updateQueue.baseState=U,d.memoizedState=U,d.flags&256){k=Error(o(423)),d=gv(f,d,M,b,k);break e}else if(M!==k){k=Error(o(424)),d=gv(f,d,M,b,k);break e}else for(Me&&(Yi=qt(d.stateNode.containerInfo),zr=d,rr=!0,Ji=null,ll=!1),b=Yc(d,null,M,b),d.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(qo(),M===k){d=Y(f,d,b);break e}Si(f,d,M,b)}d=d.child}return d;case 5:return Ma(d),f===null&&Xi(d),M=d.type,k=d.pendingProps,U=f!==null?f.memoizedProps:null,ye=k.children,ue(M,k)?ye=null:U!==null&&ue(M,U)&&(d.flags|=32),Fg(f,d),Si(f,d,ye,b),d.child;case 6:return f===null&&Xi(d),null;case 13:return Ah(f,d,b);case 4:return Aa(d,d.stateNode.containerInfo),M=d.pendingProps,f===null?d.child=$i(d,null,M,b):Si(f,d,M,b),d.child;case 11:return M=d.type,k=d.pendingProps,k=d.elementType===M?k:_i(M,k),Qc(f,d,M,k,b);case 7:return Si(f,d,d.pendingProps,b),d.child;case 8:return Si(f,d,d.pendingProps.children,b),d.child;case 12:return Si(f,d,d.pendingProps.children,b),d.child;case 10:e:{if(M=d.type._context,k=d.pendingProps,U=d.memoizedProps,ye=k.value,Wd(d,M,ye),U!==null)if(Pi(U.value,ye)){if(U.children===k.children&&!Li.current){d=Y(f,d,b);break e}}else for(U=d.child,U!==null&&(U.return=d);U!==null;){var Re=U.dependencies;if(Re!==null){ye=U.child;for(var tt=Re.firstContext;tt!==null;){if(tt.context===M){if(U.tag===1){tt=Ao(-1,b&-b),tt.tag=2;var bt=U.updateQueue;if(bt!==null){bt=bt.shared;var Ht=bt.pending;Ht===null?tt.next=tt:(tt.next=Ht.next,Ht.next=tt),bt.pending=tt}}U.lanes|=b,tt=U.alternate,tt!==null&&(tt.lanes|=b),mh(U.return,b,d),Re.lanes|=b;break}tt=tt.next}}else if(U.tag===10)ye=U.type===d.type?null:U.child;else if(U.tag===18){if(ye=U.return,ye===null)throw Error(o(341));ye.lanes|=b,Re=ye.alternate,Re!==null&&(Re.lanes|=b),mh(ye,b,d),ye=U.sibling}else ye=U.child;if(ye!==null)ye.return=U;else for(ye=U;ye!==null;){if(ye===d){ye=null;break}if(U=ye.sibling,U!==null){U.return=ye.return,ye=U;break}ye=ye.return}U=ye}Si(f,d,k.children,b),d=d.child}return d;case 9:return k=d.type,M=d.pendingProps.children,_a(d,b),k=qi(k),M=M(k),d.flags|=1,Si(f,d,M,b),d.child;case 14:return M=d.type,k=_i(M,d.pendingProps),k=_i(M.type,k),ep(f,d,M,k,b);case 15:return Dg(f,d,d.type,d.pendingProps,b);case 17:return M=d.type,k=d.pendingProps,k=d.elementType===M?k:_i(M,k),f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,xi(M)?(f=!0,Ri(d)):f=!1,_a(d,b),Ee(d,M,k),Ze(d,M,k,b),Ug(null,d,M,!0,f,b);case 19:return O(f,d,b);case 22:return dv(f,d,b)}throw Error(o(156,d.tag))};function CE(f,d){return sn(f,d)}function NF(f,d,b,M){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(f,d,b,M){return new NF(f,d,b,M)}function c_(f){return f=f.prototype,!(!f||!f.isReactComponent)}function DF(f){if(typeof f=="function")return c_(f)?1:0;if(f!=null){if(f=f.$$typeof,f===g)return 11;if(f===_)return 14}return 2}function sf(f,d){var b=f.alternate;return b===null?(b=Na(f.tag,d,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=d,b.type=f.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=f.flags&14680064,b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,d=f.dependencies,b.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b}function _v(f,d,b,M,k,U){var ye=2;if(M=f,typeof f=="function")c_(f)&&(ye=1);else if(typeof f=="string")ye=5;else e:switch(f){case c:return Lh(b.children,k,U,d);case h:ye=8,k|=8;break;case p:return f=Na(12,b,d,k|2),f.elementType=p,f.lanes=U,f;case x:return f=Na(13,b,d,k),f.elementType=x,f.lanes=U,f;case w:return f=Na(19,b,d,k),f.elementType=w,f.lanes=U,f;case C:return bv(b,k,U,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:ye=10;break e;case y:ye=9;break e;case g:ye=11;break e;case _:ye=14;break e;case A:ye=16,M=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return d=Na(ye,b,d,k),d.elementType=f,d.type=M,d.lanes=U,d}function Lh(f,d,b,M){return f=Na(7,f,M,d),f.lanes=b,f}function bv(f,d,b,M){return f=Na(22,f,M,d),f.elementType=C,f.lanes=b,f.stateNode={},f}function f_(f,d,b){return f=Na(6,f,null,d),f.lanes=b,f}function h_(f,d,b){return d=Na(4,f.children!==null?f.children:[],f.key,d),d.lanes=b,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function FF(f,d,b,M,k){this.tag=d,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ae,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=M,this.onRecoverableError=k,Me&&(this.mutableSourceEagerHydrationData=null)}function TE(f,d,b,M,k,U,ye,Re,tt){return f=new FF(f,d,b,Re,tt),d===1?(d=1,U===!0&&(d|=8)):d=0,U=Na(3,null,null,d),f.current=U,U.stateNode=f,U.memoizedState={element:M,isDehydrated:b,cache:null,transitions:null},Du(U),f}function LE(f){if(!f)return ga;f=f._reactInternals;e:{if(W(f)!==f||f.tag!==1)throw Error(o(170));var d=f;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(xi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(f.tag===1){var b=f.type;if(xi(b))return Tu(f,b,d)}return d}function RE(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=P(d),f===null?null:f.stateNode}function PE(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<d?b:d}}function d_(f,d){PE(f,d),(f=f.alternate)&&PE(f,d)}function OF(f){return f=P(f),f===null?null:f.stateNode}function UF(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var d=is();Ns(f,134217728,d),d_(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=is(),b=Ko(f);Ns(f,b,d),d_(f,b)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var d=f.stateNode;if(d.current.memoizedState.isDehydrated){var b=rl(d.pendingLanes);b!==0&&(wi(d,b|1),ws(d,Ur()),(vn&6)===0&&(Ba(),ro()))}break;case 13:var M=is();Vg(function(){return Ns(f,1,M)}),d_(f,1)}},t.batchedUpdates=function(f,d){var b=vn;vn|=1;try{return f(d)}finally{vn=b,vn===0&&(Ba(),wa&&ro())}},t.createComponentSelector=function(f){return{$$typeof:Ii,value:f}},t.createContainer=function(f,d,b,M,k,U,ye){return TE(f,d,!1,null,b,M,k,U,ye)},t.createHasPseudoClassSelector=function(f){return{$$typeof:Un,value:f}},t.createHydrationContainer=function(f,d,b,M,k,U,ye,Re,tt){return f=TE(b,M,!0,f,k,U,ye,Re,tt),f.context=LE(null),b=f.current,M=is(),k=Ko(b),U=Ao(M,k),U.callback=d!=null?d:null,ba(b,U),f.current.lanes=k,ya(f,k,M),ws(f,M),f},t.createPortal=function(f,d,b){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:f,containerInfo:d,implementation:b}},t.createRoleSelector=function(f){return{$$typeof:ns,value:f}},t.createTestNameSelector=function(f){return{$$typeof:rs,value:f}},t.createTextSelector=function(f){return{$$typeof:Wr,value:f}},t.deferredUpdates=function(f){var d=kn,b=dn.transition;try{return dn.transition=null,kn=16,f()}finally{kn=d,dn.transition=b}},t.discreteUpdates=function(f,d,b,M,k){var U=kn,ye=dn.transition;try{return dn.transition=null,kn=1,f(d,b,M,k)}finally{kn=U,dn.transition=ye,vn===0&&Ba()}},t.findAllNodes=Jo,t.findBoundingRects=function(f,d){if(!et)throw Error(o(363));d=Jo(f,d),f=[];for(var b=0;b<d.length;b++)f.push(ae(d[b]));for(d=f.length-1;0<d;d--){b=f[d];for(var M=b.x,k=M+b.width,U=b.y,ye=U+b.height,Re=d-1;0<=Re;Re--)if(d!==Re){var tt=f[Re],bt=tt.x,Ht=bt+tt.width,yn=tt.y,tn=yn+tt.height;if(M>=bt&&U>=yn&&k<=Ht&&ye<=tn){f.splice(d,1);break}else if(M!==bt||b.width!==tt.width||tn<U||yn>ye){if(!(U!==yn||b.height!==tt.height||Ht<M||bt>k)){bt>M&&(tt.width+=bt-M,tt.x=M),Ht<k&&(tt.width=k-bt),f.splice(d,1);break}}else{yn>U&&(tt.height+=yn-U,tt.y=U),tn<ye&&(tt.height=ye-yn),f.splice(d,1);break}}}return f},t.findHostInstance=RE,t.findHostInstanceWithNoPortals=function(f){return f=L(f),f=f!==null?z(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return RE(f)},t.flushControlled=function(f){var d=vn;vn|=1;var b=dn.transition,M=kn;try{dn.transition=null,kn=1,f()}finally{kn=M,dn.transition=b,vn=d,vn===0&&(Ba(),ro())}},t.flushPassiveEffects=Ds,t.flushSync=Vg,t.focusWithin=function(f,d){if(!et)throw Error(o(363));for(f=Ni(f),d=li(f,d),d=Array.from(d),f=0;f<d.length;){var b=d[f++];if(!Se(b)){if(b.tag===5&&rt(b.stateNode))return!0;for(b=b.child;b!==null;)d.push(b),b=b.sibling}}return!1},t.getCurrentUpdatePriority=function(){return kn},t.getFindAllNodesFailureDescription=function(f,d){if(!et)throw Error(o(363));var b=0,M=[];f=[Ni(f),0];for(var k=0;k<f.length;){var U=f[k++],ye=f[k++],Re=d[ye];if((U.tag!==5||!Se(U))&&(Is(U,Re)&&(M.push(Lo(Re)),ye++,ye>b&&(b=ye)),ye<d.length))for(U=U.child;U!==null;)f.push(U,ye),U=U.sibling}if(b<d.length){for(f=[];b<d.length;b++)f.push(Lo(d[b]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return re(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:OF,findFiberByHostInstance:f.findFiberByHostInstance||UF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{Uc=d.inject(f),So=d}catch{}f=!!d.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,d,b,M){if(!et)throw Error(o(363));f=Jo(f,d);var k=ft(f,b,M).disconnect;return{disconnect:function(){k()}}},t.registerMutableSourceForHydration=function(f,d){var b=d._getVersion;b=b(d._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[d,b]:f.mutableSourceEagerHydrationData.push(d,b)},t.runWithPriority=function(f,d){var b=kn;try{return kn=f,d()}finally{kn=b}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,d,b,M){var k=d.current,U=is(),ye=Ko(k);return b=LE(b),d.context===null?d.context=b:d.pendingContext=b,d=Ao(U,ye),d.payload={element:f},M=M===void 0?null:M,M!==null&&(d.callback=M),ba(k,d),f=Ns(k,ye,U),f!==null&&ol(f,k,ye),ye},t};xD.exports=BK;var kK=xD.exports;function _D(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const ic=[];function bD(n,e,t=!1,r={}){for(const s of ic)if(_D(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=ic.indexOf(i);s!==-1&&ic.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(ic.push(i),!t)throw i.promise}const IK=(n,e,t)=>bD(n,e,!1,t),NK=(n,e,t)=>void bD(n,e,!0,t),DK=n=>{if(n===void 0||n.length===0)ic.splice(0,ic.length);else{const e=ic.find(t=>_D(n,t.keys,t.equal));if(e){const t=ic.indexOf(e);t!==-1&&ic.splice(t,1)}}},FK=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),qw=FK?Z.exports.useEffect:Z.exports.useLayoutEffect;function OK({set:n}){return qw(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class SD extends Z.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}SD.getDerivedStateFromError=()=>({error:!0});function UK(n){const e=Z.exports.useRef(n);return qw(()=>void(e.current=n),[n]),(...t)=>e.current==null?void 0:e.current(...t)}const AD="__default",zK=n=>n&&!!n.memoized&&!!n.changes;function MD(n){return Array.isArray(n)?Math.min(Math.max(n[0],window.devicePixelRatio),n[1]):n}const Iy=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function ED(n,e,...t){const r=new Set(t);return Object.entries(n).reduce((i,[s,o])=>{const a=!e;return r.has(s)===a&&(i[s]=o),i},{})}const HK=(n,e)=>ED(n,!1,...e),GK=(n,e)=>ED(n,!0,...e),Ir={obj:n=>n===Object(n)&&!Ir.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ir.str(n)||Ir.num(n))return n===e;const s=Ir.obj(n);if(s&&r==="reference")return n===e;const o=Ir.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(Ir.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function jK(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function WK(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Dp(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f=Bt({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},e)),n}function lA(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const KL=/-\d+$/;function Rb(n,e,t){if(Ir.str(t)){if(KL.test(t)){const s=t.replace(KL,""),{target:o,key:a}=lA(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=lA(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function QL(n,e,t){var r,i;if(Ir.str(t)){const{target:s,key:o}=lA(n,t);s[o]=e.__r3f.previousAttach}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function CD(n,c,p={},u=!1){var h=c,{children:e,key:t,ref:r}=h,i=Os(h,["children","key","ref"]);var m=p,{children:s,key:o,ref:a}=m,l=Os(m,["children","key","ref"]);var y;const g=(y=n==null?void 0:n.__r3f)!=null?y:{},x=Object.entries(i),w=[];if(u){const A=Object.keys(l);for(let C=0;C<A.length;C++)i.hasOwnProperty(A[C])||x.unshift([A[C],AD+"remove"])}x.forEach(([A,C])=>{var T;if((T=n.__r3f)!=null&&T.primitive&&A==="object"||Ir.equ(C,l[A]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(A))return w.push([A,C,!0,[]]);let D=[];A.includes("-")&&(D=A.split("-")),w.push([A,C,!1,D])});const _=Bt({},i);return g.memoizedProps&&g.memoizedProps.args&&(_.args=g.memoizedProps.args),g.memoizedProps&&g.memoizedProps.attach&&(_.attach=g.memoizedProps.attach),{memoized:_,changes:w}}function Pb(n,e){var t,r;const i=(t=n==null?void 0:n.__r3f)!=null?t:{},s=i.root,o=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:a,changes:l}=zK(e)?e:CD(n,e),u=i.eventCount;if(n.__r3f&&(n.__r3f.memoizedProps=a),l.forEach(([c,h,p,m])=>{let y=n,g=y[c];if(m.length&&(g=m.reduce((x,w)=>x[w],n),!(g&&g.set))){const[x,...w]=m.reverse();y=w.reverse().reduce((_,A)=>_[A],n),c=x}if(h===AD+"remove")if(g&&g.constructor)h=new g.constructor(...a.args);else if(y.constructor){const x=new y.constructor(...y.__r3f.memoizedProps.args);h=x[g],x.dispose&&x.dispose()}else h=0;if(p)h?i.handlers[c]=h:delete i.handlers[c],i.eventCount=Object.keys(i.handlers).length;else if(g&&g.set&&(g.copy||g instanceof dd)){if(Array.isArray(h))g.fromArray?g.fromArray(h):g.set(...h);else if(g.copy&&h&&h.constructor&&g.constructor.name===h.constructor.name)g.copy(h);else if(h!==void 0){const x=g instanceof Mt;!x&&g.setScalar?g.setScalar(h):g instanceof dd&&h instanceof dd?g.mask=h.mask:g.set(h),!uo&&!o.linear&&x&&g.convertSRGBToLinear()}}else y[c]=h,!o.linear&&y[c]instanceof Qr&&(y[c].encoding=sr);Fp(n)}),i.parent&&o.internal&&n.raycast&&u!==i.eventCount){const c=o.internal.interaction.indexOf(n);c>-1&&o.internal.interaction.splice(c,1),i.eventCount&&o.internal.interaction.push(n)}return l.length&&n.parent&&uA(n),n}function Fp(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function uA(n){n.onUpdate==null||n.onUpdate(n)}function Bb(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function VK(){var n,e;switch((n=window)==null||(e=n.event)==null?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return vm.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return vm.exports.ContinuousEventPriority;default:return vm.exports.DefaultEventPriority}}function TD(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function qK(n,e){const{events:t,internal:r}=n.getState();r.interaction=r.interaction.filter(i=>i!==e),r.initialHits=r.initialHits.filter(i=>i!==e),r.hovered.forEach((i,s)=>{(i.eventObject===e||i.object===e)&&r.hovered.delete(s)}),r.capturedMap.forEach((i,s)=>{TD(r.capturedMap,e,i,s)})}function YK(n){const e=new ce;function t(u){const{internal:c}=n.getState(),h=u.offsetX-c.initialClick[0],p=u.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function r(u){return u.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function i(u,c){const h=n.getState(),p=new Set,m=[],y=c?c(h.internal.interaction):h.internal.interaction;y.forEach(w=>{const _=Iy(w);_&&(_.raycaster.camera=void 0)}),h.previousRoot||h.events.compute==null||h.events.compute(u,h);let g=y.flatMap(w=>{const _=Iy(w);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var A;_.events.compute==null||_.events.compute(u,_,(A=_.previousRoot)==null?void 0:A.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(w,!0):[]}).sort((w,_)=>{const A=Iy(w.object),C=Iy(_.object);return!A||!C?0:C.events.priority-A.events.priority||w.distance-_.distance}).filter(w=>{const _=Bb(w);return p.has(_)?!1:(p.add(_),!0)});h.events.filter&&(g=h.events.filter(g,h));for(const w of g){let _=w.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&m.push(Bn(Bt({},w),{eventObject:_})),_=_.parent}}if("pointerId"in u&&h.internal.capturedMap.has(u.pointerId))for(let w of h.internal.capturedMap.get(u.pointerId).values())m.push(w.intersection);return m}function s(u,c,h,p){const{raycaster:m,pointer:y,camera:g,internal:x}=n.getState();if(u.length){const w=e.set(y.x,y.y,0).unproject(g),_={stopped:!1};for(const A of u){const C=W=>{var G,L;return(G=(L=x.capturedMap.get(W))==null?void 0:L.has(A.eventObject))!=null?G:!1},T=W=>{const G={intersection:A,target:c.target};x.capturedMap.has(W)?x.capturedMap.get(W).set(A.eventObject,G):x.capturedMap.set(W,new Map([[A.eventObject,G]])),c.target.setPointerCapture(W)},D=W=>{const G=x.capturedMap.get(W);G&&TD(x.capturedMap,A.eventObject,G,W)};let I={};for(let W in c){let G=c[W];typeof G!="function"&&(I[W]=G)}let B=Bn(Bt(Bt({},A),I),{pointer:y,intersections:u,stopped:_.stopped,delta:h,unprojectedPoint:w,ray:m.ray,camera:g,stopPropagation:()=>{const W="pointerId"in c&&x.capturedMap.get(c.pointerId);if((!W||W.has(A.eventObject))&&(B.stopped=_.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(G=>G.eventObject===A.eventObject))){const G=u.slice(0,u.indexOf(A));o([...G,A])}},target:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:D},currentTarget:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:D},nativeEvent:c});if(p(B),_.stopped===!0)break}}return u}function o(u){const{internal:c}=n.getState();Array.from(c.hovered.values()).forEach(h=>{if(!u.length||!u.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const m=h.eventObject.__r3f,y=m==null?void 0:m.handlers;if(c.hovered.delete(Bb(h)),m!=null&&m.eventCount){const g=Bn(Bt({},h),{intersections:u||[]});y.onPointerOut==null||y.onPointerOut(g),y.onPointerLeave==null||y.onPointerLeave(g)}}})}const a=u=>{switch(u){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:h}=n.getState();"pointerId"in c&&!h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),o([]))}}return c=>{const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=c;const m=u==="onPointerMove",y=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",x=i(c,m?r:void 0),w=y?t(c):0;u==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=x.map(_=>_.eventObject)),y&&!x.length&&w<=2&&(l(c,p.interaction),h&&h(c)),m&&o(x),s(x,c,w,_=>{const A=_.eventObject,C=A.__r3f,T=C==null?void 0:C.handlers;if(!!(C!=null&&C.eventCount))if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const D=Bb(_),I=p.hovered.get(D);I?I.stopped&&_.stopPropagation():(p.hovered.set(D,_),T.onPointerOver==null||T.onPointerOver(_),T.onPointerEnter==null||T.onPointerEnter(_))}T.onPointerMove==null||T.onPointerMove(_)}else{const D=T[u];D?(!y||p.initialHits.includes(A))&&(l(c,p.interaction.filter(I=>!p.initialHits.includes(I))),D(_)):y&&p.initialHits.includes(A)&&l(c,p.interaction.filter(I=>!p.initialHits.includes(I)))}})}};function l(u,c){c.forEach(h=>{var p;return(p=h.__r3f)==null||p.handlers.onPointerMissed==null?void 0:p.handlers.onPointerMissed(u)})}return{handlePointer:a}}let cA={},LD=n=>void(cA=Bt(Bt({},cA),n));function JK(n,e){function t(u,y,m){var g=y,{args:c=[],attach:h}=g,p=Os(g,["args","attach"]);let x=`${u[0].toUpperCase()}${u.slice(1)}`,w;if(h===void 0&&(x.endsWith("Geometry")?h="geometry":x.endsWith("Material")&&(h="material")),u==="primitive"){if(p.object===void 0)throw"Primitives without 'object' are invalid!";const _=p.object;w=Dp(_,{type:u,root:m,attach:h,primitive:!0})}else{const _=cA[x];if(!_)throw`${x} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(c))throw"The args prop must be an array!";w=Dp(new _(...c),{type:u,root:m,attach:h,memoizedProps:{args:c}})}return x!=="inject"&&Pb(w,p),w}function r(u,c){let h=!1;if(c){var p,m;(p=c.__r3f)!=null&&p.attach?Rb(u,c,c.__r3f.attach):c.isObject3D&&u.isObject3D&&(u.add(c),h=!0),h||(m=u.__r3f)==null||m.objects.push(c),c.__r3f||Dp(c,{}),c.__r3f.parent=u,uA(c),Fp(c)}}function i(u,c,h){let p=!1;if(c){var m,y;if((m=c.__r3f)!=null&&m.attach)Rb(u,c,c.__r3f.attach);else if(c.isObject3D&&u.isObject3D){c.parent=u,c.dispatchEvent({type:"added"});const g=u.children.filter(w=>w!==c),x=g.indexOf(h);u.children=[...g.slice(0,x),c,...g.slice(x)],p=!0}p||(y=u.__r3f)==null||y.objects.push(c),c.__r3f||Dp(c,{}),c.__r3f.parent=u,uA(c),Fp(c)}}function s(u,c,h=!1){u&&[...u].forEach(p=>o(c,p,h))}function o(u,c,h){if(c){var p,m,y;if(c.__r3f&&(c.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==c)),(m=c.__r3f)!=null&&m.attach)QL(u,c,c.__r3f.attach);else if(c.isObject3D&&u.isObject3D){var g;u.remove(c),(g=c.__r3f)!=null&&g.root&&qK(c.__r3f.root,c)}const w=(y=c.__r3f)==null?void 0:y.primitive,_=h===void 0?c.dispose!==null&&!w:h;if(!w){var x;s((x=c.__r3f)==null?void 0:x.objects,c,_),s(c.children,c,_)}c.__r3f&&(delete c.__r3f.root,delete c.__r3f.objects,delete c.__r3f.handlers,delete c.__r3f.memoizedProps,w||delete c.__r3f),_&&c.dispose&&c.type!=="Scene"&&f2.exports.unstable_scheduleCallback(f2.exports.unstable_IdlePriority,()=>{try{c.dispose()}catch{}}),Fp(u)}}function a(u,c,h,p){var m,y;const g=(m=u.__r3f)==null?void 0:m.parent;if(!g)return;const x=t(c,h,(y=u.__r3f)==null?void 0:y.root);c!=="primitive"&&u.children&&(u.children.forEach(w=>r(x,w)),u.children=[]),u.__r3f.objects.forEach(w=>r(x,w)),u.__r3f.objects=[],o(g,u),r(g,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[p,p.alternate].forEach(w=>{w!==null&&(w.stateNode=x,w.ref&&(typeof w.ref=="function"?w.ref(x):w.ref.current=x))})}return{reconciler:kK({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMicrotask:!0,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,noTimeout:-1,appendChildToContainer:(u,c)=>{const h=u.getState().scene;h.__r3f.root=u,r(h,c)},removeChildFromContainer:(u,c)=>o(u.getState().scene,c),insertInContainerBefore:(u,c,h)=>i(u.getState().scene,c,h),getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var c;return!!((c=u==null?void 0:u.__r3f)!=null?c:{}).handlers},prepareUpdate(u,c,h,p){if(u.__r3f.primitive&&p.object&&p.object!==u)return[!0];{const m=p,{args:g=[],children:x}=m,w=Os(m,["args","children"]),y=h,{args:_=[],children:A}=y,C=Os(y,["args","children"]);if(!Array.isArray(g))throw"The args prop must be an array!";if(g.some((D,I)=>D!==_[I]))return[!0];const T=CD(u,w,C,!0);return T.changes.length?[!1,T]:null}},commitUpdate(u,[c,h],p,m,y,g){c?a(u,p,y,g):Pb(u,h)},commitMount(u,c,h,p){var m;const y=(m=u==null?void 0:u.__r3f)!=null?m:{};u.raycast&&y.handlers&&y.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,shouldDeprioritizeSubtree:()=>!1,prepareForCommit:()=>null,preparePortalMount:u=>Dp(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,detachDeletedInstance:()=>{},createTextInstance:()=>{},hideInstance(u){var c;const{attach:h,parent:p}=(c=u==null?void 0:u.__r3f)!=null?c:{};h&&p&&QL(p,u,h),u.isObject3D&&(u.visible=!1),Fp(u)},unhideInstance(u,c){var h;const{attach:p,parent:m}=(h=u==null?void 0:u.__r3f)!=null?h:{};p&&m&&Rb(m,u,p),(u.isObject3D&&c.visible==null||c.visible)&&(u.visible=!0),Fp(u)},hideTextInstance:()=>{throw new Error("Text is not allowed in the R3F tree.")},getCurrentEventPriority:()=>e?e():vm.exports.DefaultEventPriority,now:typeof performance!="undefined"&&Ir.fun(performance.now)?performance.now:Ir.fun(Date.now)?Date.now:void 0,scheduleTimeout:Ir.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ir.fun(clearTimeout)?clearTimeout:void 0,setTimeout:Ir.fun(setTimeout)?setTimeout:void 0,clearTimeout:Ir.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Pb}}const RD=n=>!!(n!=null&&n.render),ZL=n=>n&&n.isOrthographicCamera,lE=Z.exports.createContext(null),XK=(n,e)=>{const t=FM((o,a)=>{const l=new ce,u=new ce,c=new ce;function h(g=a().camera,x=u,w=a().size){const{width:_,height:A}=w,C=_/A;x instanceof ce?c.copy(x):c.set(...x);const T=g.getWorldPosition(l).distanceTo(c);if(ZL(g))return{width:_/g.zoom,height:A/g.zoom,factor:1,distance:T,aspect:C};{const D=g.fov*Math.PI/180,I=2*Math.tan(D/2)*T,B=I*(_/A);return{width:B,height:I,factor:_/B,distance:T,aspect:C}}}let p;const m=g=>o(x=>({performance:Bn(Bt({},x.performance),{current:g})})),y=new nt;return{set:o,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:()=>n(a()),advance:(g,x)=>e(g,x,a()),legacy:!1,linear:!1,flat:!1,scene:Dp(new mg),controls:null,clock:new nE,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=a();p&&clearTimeout(p),g.performance.current!==g.performance.min&&m(g.performance.min),p=setTimeout(()=>m(a().performance.max),g.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:g=>o(x=>Bn(Bt({},x),{events:Bt(Bt({},x.events),g)})),setSize:(g,x)=>{const w=a().camera,_={width:g,height:x};o(A=>({size:_,viewport:Bt(Bt({},A.viewport),h(w,u,_))}))},setDpr:g=>o(x=>{const w=MD(g);return{viewport:Bn(Bt({},x.viewport),{dpr:w,initialDpr:x.viewport.initialDpr||w})}}),setFrameloop:(g="always")=>{const x=a().clock;x.stop(),x.elapsedTime=0,g!=="never"&&(x.start(),x.elapsedTime=0),o(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Z.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,x,w)=>(o(({internal:_})=>({internal:Bn(Bt({},_),{priority:_.priority+(x>0?1:0),subscribers:[..._.subscribers,{ref:g,priority:x,store:w}].sort((A,C)=>A.priority-C.priority)})})),()=>{o(({internal:_})=>({internal:Bn(Bt({},_),{priority:_.priority-(x>0?1:0),subscribers:_.subscribers.filter(A=>A.ref!==g)})}))})}}}),r=t.getState();let i=r.size,s=r.viewport.dpr;return t.subscribe(()=>{const{camera:o,size:a,viewport:l,gl:u}=t.getState();(a!==i||l.dpr!==s)&&(o.manual||(ZL(o)?(o.left=a.width/-2,o.right=a.width/2,o.top=a.height/2,o.bottom=a.height/-2):o.aspect=a.width/a.height,o.updateProjectionMatrix(),o.updateMatrixWorld()),u.setPixelRatio(l.dpr),u.setSize(a.width,a.height),i=a,s=l.dpr)}),t.subscribe(o=>n(o)),t};let Pf,kb=[],Ib=[],e4=[];function v0(n,e){for(Pf=0;Pf<n.length;Pf++)n[Pf](e)}let Nb,Db;function Fb(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Nb=e.internal.subscribers,Pf=0;Pf<Nb.length;Pf++)Db=Nb[Pf],Db.ref.current(Db.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function $K(n){let e=!1,t,r,i;function s(l){if(r=requestAnimationFrame(s),e=!0,t=0,kb.length&&v0(kb,l),n.forEach(u=>{var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=Fb(l,i))}),Ib.length&&v0(Ib,l),t===0)return e4.length&&v0(e4,l),e=!1,cancelAnimationFrame(r)}function o(l){var u;if(!l)return n.forEach(c=>o(c.store.getState()));(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+1),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,h){u&&v0(kb,l),c?Fb(l,c,h):n.forEach(p=>Fb(l,p.store.getState())),u&&v0(Ib,l)}return{loop:s,invalidate:o,advance:a}}function uE(){const n=Z.exports.useContext(lE);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n}function Nr(n=t=>t,e){return uE()(n,e)}function fh(n,e=0){const t=uE(),r=t.getState().internal.subscribe,i=Z.exports.useRef(n);return Z.exports.useLayoutEffect(()=>void(i.current=n),[n]),Z.exports.useLayoutEffect(()=>r(i,e,t),[e,r,t]),null}function PD(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,jK(l.scene)),o(l)},e,l=>a(`Could not load ${s}: ${l.message}`)))))}}function Bc(n,e,t,r){const i=Array.isArray(e)?e:[e],s=IK(PD(t,r),[n,...i],{equal:Ir.equ});return Array.isArray(e)?s:s[0]}Bc.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return NK(PD(t),[n,...r])};Bc.clear=function(n,e){const t=Array.isArray(e)?e:[e];return DK([n,...t])};const Qm=new Map,{invalidate:KK,advance:t4}=$K(Qm),{reconciler:L1,applyProps:Ny}=JK(Qm,VK),Rp={objects:"shallow",strict:!1},QK=(n,e)=>{const t=typeof n=="function"?n(e):n;return RD(t)?t:new ar(Bt({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},n))};function ZK(n){let e=Qm.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=r||XK(KK,t4),s=t||L1.createContainer(i,vm.exports.ConcurrentRoot,!1,null);e||Qm.set(n,{fiber:s,store:i});let o,a=!1;return{configure(l={}){var u,c,h,p;let{gl:m,size:y,events:g,onCreated:x,shadows:w=!1,linear:_=!1,flat:A=!1,legacy:C=!1,orthographic:T=!1,frameloop:D="always",dpr:I=[1,2],performance:B,raycaster:W,camera:G,onPointerMissed:L}=l,P=i.getState(),q=P.gl;P.gl||P.set({gl:q=QK(m,n)});let z=P.raycaster;z||P.set({raycaster:z=new oE});const X=W||{},{params:ne}=X,re=Os(X,["params"]);if(Ir.equ(re,z,Rp)||Ny(z,Bt({},re)),Ir.equ(ne,z.params,Rp)||Ny(z,{params:Bt(Bt({},z.params),ne)}),!P.camera){const ie=G instanceof hg,ve=ie?G:T?new Ya(0,0,0,0,.1,1e3):new mr(75,0,.1,1e3);ie||(ve.position.z=5,G&&Ny(ve,G),G!=null&&G.rotation||ve.lookAt(0,0,0)),P.set({camera:ve})}if(!P.xr){const ie=(V,Q)=>{const ue=i.getState();ue.frameloop!=="never"&&t4(V,!0,ue,Q)},ve=()=>{const V=i.getState().gl;V.xr.enabled=V.xr.isPresenting,V.xr.setAnimationLoop(V.xr.isPresenting?ie:null)},N={connect(){const V=i.getState().gl;V.xr.addEventListener("sessionstart",ve),V.xr.addEventListener("sessionend",ve)},disconnect(){const V=i.getState().gl;V.xr.removeEventListener("sessionstart",ve),V.xr.removeEventListener("sessionend",ve)}};q.xr&&N.connect(),P.set({xr:N})}if(q.shadowMap){const ie=Ir.boo(w);if(ie&&q.shadowMap.enabled!==w||!Ir.equ(w,q.shadowMap,Rp)){const ve=q.shadowMap.enabled;q.shadowMap.enabled=!!w,ie?q.shadowMap.type=g3:Object.assign(q.shadowMap,w),ve!==q.shadowMap.enabled&&(q.shadowMap.needsUpdate=!0)}}uo&&(uo.legacyMode=C);const le=_?ua:sr,F=A?Il:w3;return q.outputEncoding!==le&&(q.outputEncoding=le),q.toneMapping!==F&&(q.toneMapping=F),P.legacy!==C&&P.set(()=>({legacy:C})),P.linear!==_&&P.set(()=>({linear:_})),P.flat!==A&&P.set(()=>({flat:A})),m&&!Ir.fun(m)&&!RD(m)&&!Ir.equ(m,q,Rp)&&Ny(q,m),g&&!P.events.handlers&&P.set({events:g(i)}),I&&P.viewport.dpr!==MD(I)&&P.setDpr(I),y=y||{width:(u=(c=n.parentElement)==null?void 0:c.clientWidth)!=null?u:0,height:(h=(p=n.parentElement)==null?void 0:p.clientHeight)!=null?h:0},Ir.equ(y,P.size,Rp)||P.setSize(y.width,y.height),P.frameloop!==D&&P.setFrameloop(D),P.onPointerMissed||P.set({onPointerMissed:L}),B&&!Ir.equ(B,P.performance,Rp)&&P.set(ie=>({performance:Bt(Bt({},ie.performance),B)})),o=x,a=!0,this},render(l){return a||this.configure(),L1.updateContainer(Z.exports.createElement(eQ,{store:i,children:l,onCreated:o,rootElement:n}),s,null,()=>{}),i},unmount(){BD(n)}}}function eQ({store:n,children:e,onCreated:t,rootElement:r}){return qw(()=>{const i=n.getState();i.set(s=>({internal:Bn(Bt({},s.internal),{active:!0})})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),Z.exports.createElement(lE.Provider,{value:n},e)}function BD(n,e){const t=Qm.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),L1.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),WK(i),Qm.delete(n),e&&e(n)}catch{}},500)})}}function tQ(n,e,t){return Z.exports.createElement(nQ,{key:e.uuid,children:n,container:e,state:t})}function nQ({state:n={},children:e,container:t}){const c=n,{events:r}=c,i=Os(c,["events"]),s=uE(),[o]=Z.exports.useState(()=>new oE),[a]=Z.exports.useState(()=>new nt),l=Z.exports.useCallback((h,p)=>{const m=Bt({},h);return p&&Object.keys(h).forEach(y=>{!["size","viewport","internal","performance"].includes(y)&&h[y]!==p[y]&&delete m[y]}),Bt(Bn(Bt({},m),{scene:t,previousRoot:s,raycaster:o,events:Bt(Bn(Bt(Bt({},h.events),p==null?void 0:p.events),{pointer:a,mouse:a}),r)}),i)},[n]),[u]=Z.exports.useState(()=>{const h=FM((p,m)=>Bn(Bt({},l(s.getState())),{set:p,get:m,setEvents:y=>p(g=>Bn(Bt({},g),{events:Bt(Bt({},g.events),y)}))}));return s.subscribe(p=>u.setState(m=>l(p,m))),h});return Z.exports.useEffect(()=>{u.setState(h=>l(s.getState(),h))},[l]),Z.exports.createElement(Z.exports.Fragment,null,L1.createPortal(Z.exports.createElement(lE.Provider,{value:u},e),u,null))}L1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"18.0.0"});function R1(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function fA(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=t&&!r;return r||(r=setTimeout(l,e)),c&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}fA.debounce=fA;var n4=fA;function rQ(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=Z.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Z.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,h=Z.exports.useRef(!1);Z.exports.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=Z.exports.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:A,top:C,width:T,height:D,bottom:I,right:B,x:W,y:G}=l.current.element.getBoundingClientRect(),L={left:A,top:C,width:T,height:D,bottom:I,right:B,x:W,y:G};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),h.current&&!aQ(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[_,c?n4(_,c):_,u?n4(_,u):_]},[a,i,u,c]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){!l.current.element||(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})))}const w=_=>{!_||_===l.current.element||(g(),l.current.element=_,l.current.scrollContainers=kD(_),x())};return sQ(y,Boolean(t)),iQ(m),Z.exports.useEffect(()=>{g(),x()},[t,y,m]),Z.exports.useEffect(()=>g,[]),[w,o,p]}function iQ(n){Z.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function sQ(n,e){Z.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function kD(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...kD(n.parentElement)]}const oQ=["x","y","top","bottom","left","right","width","height"],aQ=(n,e)=>oQ.every(t=>n[t]===e[t]),Ob={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function lQ(n){const{handlePointer:e}=YK(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Ob).reduce((t,r)=>Bn(Bt({},t),{[r]:e(r)}),{}),connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:Bn(Bt({},o.events),{connected:t})})),Object.entries((r=s==null?void 0:s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=Ob[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=Ob[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:Bn(Bt({},s.events),{connected:void 0})}))}}}}const r4=["gl","events","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],ID=Z.exports.forwardRef(function(l,a){var u=l,{children:e,fallback:t,resize:r,style:i,events:s=lQ}=u,o=Os(u,["children","fallback","resize","style","events"]);Z.exports.useMemo(()=>LD(PK),[]);const c=UK(o.onPointerMissed),[h,{width:p,height:m}]=rQ(Bt({scroll:!0,debounce:{scroll:50,resize:0}},r)),y=Z.exports.useRef(null),g=Z.exports.useRef(null),[x,w]=Z.exports.useState(null),_=HK(Bn(Bt({},o),{onPointerMissed:c}),r4),A=GK(Bn(Bt({},o),{onPointerMissed:c}),r4),[C,T]=Z.exports.useState(!1),[D,I]=Z.exports.useState(!1);if(C)throw C;if(D)throw D;const B=Z.exports.useRef(null);return p>0&&m>0&&x&&(B.current||(B.current=ZK(x)),B.current.configure(Bn(Bt({},_),{onCreated:W=>{W.events.connect==null||W.events.connect(y.current),_.onCreated==null||_.onCreated(W)},size:{width:p,height:m},events:s})),B.current.render(Z.exports.createElement(SD,{set:I},Z.exports.createElement(Z.exports.Suspense,{fallback:Z.exports.createElement(OK,{set:T})},e)))),qw(()=>{const W=g.current;return w(W),()=>BD(W)},[]),Z.exports.createElement("div",la({ref:R1([y,h]),style:Bt({position:"relative",width:"100%",height:"100%",overflow:"hidden"},i)},A),Z.exports.createElement("canvas",{ref:R1([g,a]),style:{display:"block"}},t))}),sv=new ce,cE=new ce,uQ=new ce;function cQ(n,e,t){const r=sv.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function fQ(n,e){const t=sv.setFromMatrixPosition(n.matrixWorld),r=cE.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(uQ);return i.angleTo(s)>Math.PI/2}function hQ(n,e,t,r){const i=sv.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function dQ(n,e){if(e instanceof Ya)return e.zoom;if(e instanceof mr){const t=sv.setFromMatrixPosition(n.matrixWorld),r=cE.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r),o=2*Math.tan(i/2)*s;return 1/o}else return 1}function pQ(n,e,t){if(e instanceof mr||e instanceof Ya){const r=sv.setFromMatrixPosition(n.matrixWorld),i=cE.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const hA=n=>Math.abs(n)<1e-10?0:n;function ND(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=hA(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const mQ=(n=>e=>ND(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),gQ=(n=>(e,t)=>ND(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]),DD=Z.exports.forwardRef((C,A)=>{var T=C,{children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:c=!1,occlude:h,onOcclude:p,zIndexRange:m=[16777271,0],calculatePosition:y=cQ,as:g="div",wrapperClass:x,pointerEvents:w="auto"}=T,_=Os(T,["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"]);var D;const I=Nr(({gl:V})=>V),B=Nr(({camera:V})=>V),W=Nr(({scene:V})=>V),G=Nr(({size:V})=>V),L=Nr(({raycaster:V})=>V),[P]=Z.exports.useState(()=>document.createElement(g)),q=Z.exports.useRef(),z=Z.exports.useRef(null),ne=Z.exports.useRef(0),re=Z.exports.useRef([0,0]),le=Z.exports.useRef(null),F=Z.exports.useRef(null),X=(D=a==null?void 0:a.current)!==null&&D!==void 0?D:I.domElement.parentNode;Z.exports.useEffect(()=>{if(z.current){const V=q.current=wB(P);if(W.updateMatrixWorld(),c)P.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Q=y(z.current,B,G);P.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Q[0]}px,${Q[1]}px,0);transform-origin:0 0;`}return X&&(i?X.prepend(P):X.appendChild(P)),()=>{X&&X.removeChild(P),console.log("why?"),V.unmount()}}},[X,c]),Z.exports.useLayoutEffect(()=>{x&&(P.className=x)},[x]);const ie=Z.exports.useMemo(()=>c?{position:"absolute",top:0,left:0,width:G.width,height:G.height,transformStyle:"preserve-3d",pointerEvents:"none"}:Bt(Bt({position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none"},o&&{top:-G.height/2,left:-G.width/2,width:G.width,height:G.height}),t),[t,s,o,G,c]),ve=Z.exports.useMemo(()=>({position:"absolute",pointerEvents:w}),[w]);Z.exports.useLayoutEffect(()=>{if(c){var V;(V=q.current)==null||V.render(Z.exports.createElement("div",{ref:le,style:ie},Z.exports.createElement("div",{ref:F,style:ve},Z.exports.createElement("div",{ref:A,className:r,style:t,children:n}))))}else{var Q;(Q=q.current)==null||Q.render(Z.exports.createElement("div",{ref:A,style:ie,className:r,children:n}))}});const N=Z.exports.useRef(!0);return fh(()=>{if(z.current){B.updateMatrixWorld(),z.current.updateWorldMatrix(!0,!1);const V=c?re.current:y(z.current,B,G);if(c||Math.abs(ne.current-B.zoom)>e||Math.abs(re.current[0]-V[0])>e||Math.abs(re.current[1]-V[1])>e){const Q=fQ(z.current,B);let ue=!1;typeof h=="boolean"?h===!0&&(ue=[W]):Array.isArray(h)&&(ue=h.map(we=>we.current));const j=N.current;if(ue){const we=hQ(z.current,B,L,ue);N.current=we&&!Q}else N.current=!Q;if(j!==N.current&&(p?p(!N.current):P.style.display=N.current?"block":"none"),P.style.zIndex=`${pQ(z.current,B,m)}`,c){const[we,me]=[G.width/2,G.height/2],Ae=B.projectionMatrix.elements[5]*me,{isOrthographicCamera:Te,top:De,left:xe,bottom:Me,right:Ge}=B,be=mQ(B.matrixWorldInverse),oe=Te?`scale(${Ae})translate(${hA(-(Ge+xe)/2)}px,${hA((De+Me)/2)}px)`:`translateZ(${Ae}px)`;let $e=z.current.matrixWorld;u&&($e=B.matrixWorldInverse.clone().transpose().copyPosition($e).scale(z.current.scale),$e.elements[3]=$e.elements[7]=$e.elements[11]=0,$e.elements[15]=1),P.style.width=G.width+"px",P.style.height=G.height+"px",P.style.perspective=Te?"":`${Ae}px`,le.current&&F.current&&(le.current.style.transform=`${oe}${be}translate(${we}px,${me}px)`,F.current.style.transform=gQ($e,1/((l||10)/400)))}else{const we=l===void 0?1:dQ(z.current,B)*l;P.style.transform=`translate3d(${V[0]}px,${V[1]}px,0) scale(${we})`}re.current=V,ne.current=B.zoom}}}),Z.exports.createElement("group",la({},_,{ref:z}))});function wn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const i4=(n,e)=>(n%e+e)%e;class vQ extends Tc{constructor(e,t){super(),wn(this,"object",void 0),wn(this,"domElement",void 0),wn(this,"enabled",!0),wn(this,"target",new ce),wn(this,"minDistance",0),wn(this,"maxDistance",1/0),wn(this,"minZoom",0),wn(this,"maxZoom",1/0),wn(this,"minPolarAngle",0),wn(this,"maxPolarAngle",Math.PI),wn(this,"minAzimuthAngle",-1/0),wn(this,"maxAzimuthAngle",1/0),wn(this,"enableDamping",!1),wn(this,"dampingFactor",.05),wn(this,"enableZoom",!0),wn(this,"zoomSpeed",1),wn(this,"enableRotate",!0),wn(this,"rotateSpeed",1),wn(this,"enablePan",!0),wn(this,"panSpeed",1),wn(this,"screenSpacePanning",!0),wn(this,"keyPanSpeed",7),wn(this,"autoRotate",!1),wn(this,"autoRotateSpeed",2),wn(this,"reverseOrbit",!1),wn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),wn(this,"mouseButtons",{LEFT:Gh.ROTATE,MIDDLE:Gh.DOLLY,RIGHT:Gh.PAN}),wn(this,"touches",{ONE:jh.ROTATE,TWO:jh.DOLLY_PAN}),wn(this,"target0",void 0),wn(this,"position0",void 0),wn(this,"zoom0",void 0),wn(this,"_domElementKeyEvents",null),wn(this,"getPolarAngle",void 0),wn(this,"getAzimuthalAngle",void 0),wn(this,"setPolarAngle",void 0),wn(this,"setAzimuthalAngle",void 0),wn(this,"getDistance",void 0),wn(this,"listenToKeyEvents",void 0),wn(this,"saveState",void 0),wn(this,"reset",void 0),wn(this,"update",void 0),wn(this,"connect",void 0),wn(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof mr?this.object.zoom:1,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=_e=>{let fe=i4(_e,2*Math.PI),Qe=c.phi;Qe<0&&(Qe+=2*Math.PI),fe<0&&(fe+=2*Math.PI);let Je=Math.abs(fe-Qe);2*Math.PI-Je<Je&&(fe<Qe?fe+=2*Math.PI:Qe+=2*Math.PI),h.phi=fe-Qe,r.update()},this.setAzimuthalAngle=_e=>{let fe=i4(_e,2*Math.PI),Qe=c.theta;Qe<0&&(Qe+=2*Math.PI),fe<0&&(fe+=2*Math.PI);let Je=Math.abs(fe-Qe);2*Math.PI-Je<Je&&(fe<Qe?fe+=2*Math.PI:Qe+=2*Math.PI),h.theta=fe-Qe,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=_e=>{_e.addEventListener("keydown",Se),this._domElementKeyEvents=_e},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof mr?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof mr&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const _e=new ce,fe=new yi().setFromUnitVectors(e.up,new ce(0,1,0)),Qe=fe.clone().invert(),Je=new ce,yt=new yi,_t=2*Math.PI;return function(){const xt=r.object.position;_e.copy(xt).sub(r.target),_e.applyQuaternion(fe),c.setFromVector3(_e),r.autoRotate&&l===a.NONE&&P(G()),r.enableDamping?(c.theta+=h.theta*r.dampingFactor,c.phi+=h.phi*r.dampingFactor):(c.theta+=h.theta,c.phi+=h.phi);let Lt=r.minAzimuthAngle,At=r.maxAzimuthAngle;return isFinite(Lt)&&isFinite(At)&&(Lt<-Math.PI?Lt+=_t:Lt>Math.PI&&(Lt-=_t),At<-Math.PI?At+=_t:At>Math.PI&&(At-=_t),Lt<=At?c.theta=Math.max(Lt,Math.min(At,c.theta)):c.theta=c.theta>(Lt+At)/2?Math.max(Lt,c.theta):Math.min(At,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=p,c.radius=Math.max(r.minDistance,Math.min(r.maxDistance,c.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),_e.setFromSpherical(c),_e.applyQuaternion(Qe),xt.copy(r.target).add(_e),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,y||Je.distanceToSquared(r.object.position)>u||8*(1-yt.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Je.copy(r.object.position),yt.copy(r.object.quaternion),y=!1,!0):!1}})(),this.connect=_e=>{_e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=_e,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ft),r.domElement.addEventListener("pointerdown",$e),r.domElement.addEventListener("pointercancel",et),r.domElement.addEventListener("wheel",ee)},this.dispose=()=>{var _e,fe,Qe,Je,yt,_t;(_e=r.domElement)===null||_e===void 0||_e.removeEventListener("contextmenu",ft),(fe=r.domElement)===null||fe===void 0||fe.removeEventListener("pointerdown",$e),(Qe=r.domElement)===null||Qe===void 0||Qe.removeEventListener("pointercancel",et),(Je=r.domElement)===null||Je===void 0||Je.removeEventListener("wheel",ee),(yt=r.domElement)===null||yt===void 0||yt.ownerDocument.removeEventListener("pointermove",Ke),(_t=r.domElement)===null||_t===void 0||_t.ownerDocument.removeEventListener("pointerup",je),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Se)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new aA,h=new aA;let p=1;const m=new ce;let y=!1;const g=new nt,x=new nt,w=new nt,_=new nt,A=new nt,C=new nt,T=new nt,D=new nt,I=new nt,B=[],W={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function L(){return Math.pow(.95,r.zoomSpeed)}function P(_e){r.reverseOrbit?h.theta+=_e:h.theta-=_e}function q(_e){r.reverseOrbit?h.phi+=_e:h.phi-=_e}const z=(()=>{const _e=new ce;return function(Qe,Je){_e.setFromMatrixColumn(Je,0),_e.multiplyScalar(-Qe),m.add(_e)}})(),ne=(()=>{const _e=new ce;return function(Qe,Je){r.screenSpacePanning===!0?_e.setFromMatrixColumn(Je,1):(_e.setFromMatrixColumn(Je,0),_e.crossVectors(r.object.up,_e)),_e.multiplyScalar(Qe),m.add(_e)}})(),re=(()=>{const _e=new ce;return function(Qe,Je){const yt=r.domElement;if(yt&&r.object instanceof mr&&r.object.isPerspectiveCamera){const _t=r.object.position;_e.copy(_t).sub(r.target);let St=_e.length();St*=Math.tan(r.object.fov/2*Math.PI/180),z(2*Qe*St/yt.clientHeight,r.object.matrix),ne(2*Je*St/yt.clientHeight,r.object.matrix)}else yt&&r.object instanceof Ya&&r.object.isOrthographicCamera?(z(Qe*(r.object.right-r.object.left)/r.object.zoom/yt.clientWidth,r.object.matrix),ne(Je*(r.object.top-r.object.bottom)/r.object.zoom/yt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function le(_e){r.object instanceof mr&&r.object.isPerspectiveCamera?p/=_e:r.object instanceof Ya&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*_e)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function F(_e){r.object instanceof mr&&r.object.isPerspectiveCamera?p*=_e:r.object instanceof Ya&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/_e)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function X(_e){g.set(_e.clientX,_e.clientY)}function ie(_e){T.set(_e.clientX,_e.clientY)}function ve(_e){_.set(_e.clientX,_e.clientY)}function N(_e){x.set(_e.clientX,_e.clientY),w.subVectors(x,g).multiplyScalar(r.rotateSpeed);const fe=r.domElement;fe&&(P(2*Math.PI*w.x/fe.clientHeight),q(2*Math.PI*w.y/fe.clientHeight)),g.copy(x),r.update()}function V(_e){D.set(_e.clientX,_e.clientY),I.subVectors(D,T),I.y>0?le(L()):I.y<0&&F(L()),T.copy(D),r.update()}function Q(_e){A.set(_e.clientX,_e.clientY),C.subVectors(A,_).multiplyScalar(r.panSpeed),re(C.x,C.y),_.copy(A),r.update()}function ue(_e){_e.deltaY<0?F(L()):_e.deltaY>0&&le(L()),r.update()}function j(_e){let fe=!1;switch(_e.code){case r.keys.UP:re(0,r.keyPanSpeed),fe=!0;break;case r.keys.BOTTOM:re(0,-r.keyPanSpeed),fe=!0;break;case r.keys.LEFT:re(r.keyPanSpeed,0),fe=!0;break;case r.keys.RIGHT:re(-r.keyPanSpeed,0),fe=!0;break}fe&&(_e.preventDefault(),r.update())}function we(){if(B.length==1)g.set(B[0].pageX,B[0].pageY);else{const _e=.5*(B[0].pageX+B[1].pageX),fe=.5*(B[0].pageY+B[1].pageY);g.set(_e,fe)}}function me(){if(B.length==1)_.set(B[0].pageX,B[0].pageY);else{const _e=.5*(B[0].pageX+B[1].pageX),fe=.5*(B[0].pageY+B[1].pageY);_.set(_e,fe)}}function Ae(){const _e=B[0].pageX-B[1].pageX,fe=B[0].pageY-B[1].pageY,Qe=Math.sqrt(_e*_e+fe*fe);T.set(0,Qe)}function Te(){r.enableZoom&&Ae(),r.enablePan&&me()}function De(){r.enableZoom&&Ae(),r.enableRotate&&we()}function xe(_e){if(B.length==1)x.set(_e.pageX,_e.pageY);else{const Qe=it(_e),Je=.5*(_e.pageX+Qe.x),yt=.5*(_e.pageY+Qe.y);x.set(Je,yt)}w.subVectors(x,g).multiplyScalar(r.rotateSpeed);const fe=r.domElement;fe&&(P(2*Math.PI*w.x/fe.clientHeight),q(2*Math.PI*w.y/fe.clientHeight)),g.copy(x)}function Me(_e){if(B.length==1)A.set(_e.pageX,_e.pageY);else{const fe=it(_e),Qe=.5*(_e.pageX+fe.x),Je=.5*(_e.pageY+fe.y);A.set(Qe,Je)}C.subVectors(A,_).multiplyScalar(r.panSpeed),re(C.x,C.y),_.copy(A)}function Ge(_e){const fe=it(_e),Qe=_e.pageX-fe.x,Je=_e.pageY-fe.y,yt=Math.sqrt(Qe*Qe+Je*Je);D.set(0,yt),I.set(0,Math.pow(D.y/T.y,r.zoomSpeed)),le(I.y),T.copy(D)}function be(_e){r.enableZoom&&Ge(_e),r.enablePan&&Me(_e)}function oe(_e){r.enableZoom&&Ge(_e),r.enableRotate&&xe(_e)}function $e(_e){if(r.enabled!==!1){if(B.length===0){var fe,Qe;(fe=r.domElement)===null||fe===void 0||fe.ownerDocument.addEventListener("pointermove",Ke),(Qe=r.domElement)===null||Qe===void 0||Qe.ownerDocument.addEventListener("pointerup",je)}gt(_e),_e.pointerType==="touch"?He(_e):ct(_e)}}function Ke(_e){r.enabled!==!1&&(_e.pointerType==="touch"?rt(_e):ae(_e))}function je(_e){if(Pe(_e),B.length===0){var fe,Qe,Je;(fe=r.domElement)===null||fe===void 0||fe.releasePointerCapture(_e.pointerId),(Qe=r.domElement)===null||Qe===void 0||Qe.ownerDocument.removeEventListener("pointermove",Ke),(Je=r.domElement)===null||Je===void 0||Je.ownerDocument.removeEventListener("pointerup",je)}r.dispatchEvent(o),l=a.NONE}function et(_e){Pe(_e)}function ct(_e){let fe;switch(_e.button){case 0:fe=r.mouseButtons.LEFT;break;case 1:fe=r.mouseButtons.MIDDLE;break;case 2:fe=r.mouseButtons.RIGHT;break;default:fe=-1}switch(fe){case Gh.DOLLY:if(r.enableZoom===!1)return;ie(_e),l=a.DOLLY;break;case Gh.ROTATE:if(_e.ctrlKey||_e.metaKey||_e.shiftKey){if(r.enablePan===!1)return;ve(_e),l=a.PAN}else{if(r.enableRotate===!1)return;X(_e),l=a.ROTATE}break;case Gh.PAN:if(_e.ctrlKey||_e.metaKey||_e.shiftKey){if(r.enableRotate===!1)return;X(_e),l=a.ROTATE}else{if(r.enablePan===!1)return;ve(_e),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ae(_e){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;N(_e);break;case a.DOLLY:if(r.enableZoom===!1)return;V(_e);break;case a.PAN:if(r.enablePan===!1)return;Q(_e);break}}function ee(_e){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(_e.preventDefault(),r.dispatchEvent(s),ue(_e),r.dispatchEvent(o))}function Se(_e){r.enabled===!1||r.enablePan===!1||j(_e)}function He(_e){switch(Et(_e),B.length){case 1:switch(r.touches.ONE){case jh.ROTATE:if(r.enableRotate===!1)return;we(),l=a.TOUCH_ROTATE;break;case jh.PAN:if(r.enablePan===!1)return;me(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case jh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Te(),l=a.TOUCH_DOLLY_PAN;break;case jh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;De(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function rt(_e){switch(Et(_e),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;xe(_e),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Me(_e),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;be(_e),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;oe(_e),r.update();break;default:l=a.NONE}}function ft(_e){r.enabled!==!1&&_e.preventDefault()}function gt(_e){B.push(_e)}function Pe(_e){delete W[_e.pointerId];for(let fe=0;fe<B.length;fe++)if(B[fe].pointerId==_e.pointerId){B.splice(fe,1);return}}function Et(_e){let fe=W[_e.pointerId];fe===void 0&&(fe=new nt,W[_e.pointerId]=fe),fe.set(_e.pageX,_e.pageY)}function it(_e){const fe=_e.pointerId===B[0].pointerId?B[1]:B[0];return W[fe.pointerId]}t!==void 0&&this.connect(t),this.update()}}class fE extends Es{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new _Q(t)}),this.register(function(t){return new CQ(t)}),this.register(function(t){return new TQ(t)}),this.register(function(t){return new bQ(t)}),this.register(function(t){return new SQ(t)}),this.register(function(t){return new AQ(t)}),this.register(function(t){return new MQ(t)}),this.register(function(t){return new EQ(t)}),this.register(function(t){return new xQ(t)}),this.register(function(t){return new LQ(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Nl.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Uo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){t(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(Nl.decodeText(new Uint8Array(e,0,4))===FD){try{o[Fn.KHR_BINARY_GLTF]=new RQ(e)}catch(h){i&&i(h);return}s=o[Fn.KHR_BINARY_GLTF].content}else s=Nl.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new GQ(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](u);a[h.name]=h,o[h.name]=!0}if(l.extensionsUsed)for(let c=0;c<l.extensionsUsed.length;++c){const h=l.extensionsUsed[c],p=l.extensionsRequired||[];switch(h){case Fn.KHR_MATERIALS_UNLIT:o[h]=new wQ;break;case Fn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[h]=new kQ;break;case Fn.KHR_DRACO_MESH_COMPRESSION:o[h]=new PQ(l,this.dracoLoader);break;case Fn.KHR_TEXTURE_TRANSFORM:o[h]=new BQ;break;case Fn.KHR_MESH_QUANTIZATION:o[h]=new IQ;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function yQ(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Fn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class xQ{constructor(e){this.parser=e,this.name=Fn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new Mt(16777215);l.color!==void 0&&c.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new Ww(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new jw(c),u.distance=h;break;case"spot":u=new Gw(c),u.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class wQ{constructor(){this.name=Fn.KHR_MATERIALS_UNLIT}getMaterialType(){return Io}extendParams(e,t,r){const i=[];e.color=new Mt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture))}return Promise.all(i)}}class _Q{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new nt(a,a)}return Promise.all(s)}}class bQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Mt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class SQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class AQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Mt(a[0],a[1],a[2]),Promise.all(s)}}class MQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pc}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class EQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Mt(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture).then(function(l){l.encoding=sr})),Promise.all(s)}}class CQ{constructor(e){this.parser=e,this.name=Fn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=r.images[s.source],a=t.options.ktx2Loader;if(!a){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o,a)}}class TQ{constructor(e){this.parser=e,this.name=Fn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,a,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class LQ{constructor(e){this.name=Fn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([s,o.ready]).then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,h=i.byteStride,p=new ArrayBuffer(c*h),m=new Uint8Array(a[0],l,u);return o.decodeGltfBuffer(new Uint8Array(p),c,h,m,i.mode,i.filter),p})}else return null}}const FD="glTF",y0=12,s4={JSON:1313821514,BIN:5130562};class RQ{constructor(e){this.name=Fn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,y0);if(this.header={magic:Nl.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==FD)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-y0,i=new DataView(e,y0);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===s4.JSON){const l=new Uint8Array(e,y0+s,o);this.content=Nl.decodeText(l)}else if(a===s4.BIN){const l=y0+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class PQ{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Fn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const h=pA[c]||c.toLowerCase();a[h]=o[c]}for(const c in e.attributes){const h=pA[c]||c.toLowerCase();if(o[c]!==void 0){const p=r.accessors[e.attributes[c]],m=P1[p.componentType];u[h]=m,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(c){return new Promise(function(h){i.decodeDracoFile(c,function(p){for(const m in p.attributes){const y=p.attributes[m],g=l[m];g!==void 0&&(y.normalized=g)}h(p)},a,u)})})}}class BQ{constructor(){this.name=Fn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class dA extends Su{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Mt().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const u in a)l.uniforms[u]=a[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class kQ{constructor(){this.name=Fn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return dA}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new Mt(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture)),e.emissive=new Mt(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new Mt(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o))}return Promise.all(s)}createMaterial(e){const t=new dA(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=oh,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class IQ{constructor(){this.name=Fn.KHR_MESH_QUANTIZATION}}class Rd extends Au{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}}Rd.prototype.beforeStart_=Rd.prototype.copySampleValue_;Rd.prototype.afterEnd_=Rd.prototype.copySampleValue_;Rd.prototype.interpolate_=function(n,e,t,r){const i=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=o*2,l=o*3,u=r-e,c=(t-e)/u,h=c*c,p=h*c,m=n*l,y=m-l,g=-2*p+3*h,x=p-h,w=1-g,_=x-h+c;for(let A=0;A!==o;A++){const C=s[y+A+o],T=s[y+A+a]*u,D=s[m+A+o],I=s[m+A]*u;i[A]=w*C+_*T+g*D+x*I}return i};const NQ=new yi;class DQ extends Rd{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return NQ.fromArray(s).normalize().toArray(s),s}}const Qu={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},P1={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},o4={9728:hi,9729:_r,9984:w1,9985:Ew,9986:_1,9987:Cc},a4={33071:Ys,33648:Bm,10497:ja},l4={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},pA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},gf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},FQ={CUBICSPLINE:void 0,LINEAR:bd,STEP:Im},Ub={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function OQ(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Su({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Yf})),n.DefaultMaterial}function x0(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Vh(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function UQ(n,e,t){let r=!1,i=!1;for(let a=0,l=e.length;a<l;a++){const u=e[a];if(u.POSITION!==void 0&&(r=!0),u.NORMAL!==void 0&&(i=!0),r&&i)break}if(!r&&!i)return Promise.resolve(n);const s=[],o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];if(r){const c=u.POSITION!==void 0?t.getDependency("accessor",u.POSITION):n.attributes.position;s.push(c)}if(i){const c=u.NORMAL!==void 0?t.getDependency("accessor",u.NORMAL):n.attributes.normal;o.push(c)}}return Promise.all([Promise.all(s),Promise.all(o)]).then(function(a){const l=a[0],u=a[1];return r&&(n.morphAttributes.position=l),i&&(n.morphAttributes.normal=u),n.morphTargetsRelative=!0,n})}function zQ(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function HQ(n){const e=n.extensions&&n.extensions[Fn.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+u4(e.attributes):t=n.indices+":"+u4(n.attributes)+":"+n.mode,t}function u4(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function mA(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class GQ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new yQ,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!1?this.textureLoader=new eE(this.options.manager):this.textureLoader=new vg(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Uo(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};x0(s,a,i),Vh(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Fn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Nl.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=l4[i.type],u=P1[i.componentType],c=u.BYTES_PER_ELEMENT,h=c*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let g,x;if(m&&m!==h){const w=Math.floor(p/m),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+w+":"+i.count;let A=t.cache.get(_);A||(g=new u(a,w*m,i.count*m/c),A=new uh(g,m/c),t.cache.add(_,A)),x=new bc(A,l,p%m/c,y)}else a===null?g=new u(i.count*l):g=new u(a,p,i.count*l),x=new Ln(g,l,y);if(i.sparse!==void 0){const w=l4.SCALAR,_=P1[i.sparse.indices.componentType],A=i.sparse.indices.byteOffset||0,C=i.sparse.values.byteOffset||0,T=new _(o[1],A,i.sparse.count*w),D=new u(o[2],C,i.sparse.count*l);a!==null&&(x=new Ln(x.array.slice(),x.itemSize,x.normalized));for(let I=0,B=T.length;I<B;I++){const W=T[I];if(x.setX(W,D[I*l]),l>=2&&x.setY(W,D[I*l+1]),l>=3&&x.setZ(W,D[I*l+2]),l>=4&&x.setW(W,D[I*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,r=this.options,i=t.textures[e],s=t.images[i.source];let o=this.textureLoader;if(s.uri){const a=r.manager.getHandler(s.uri);a!==null&&(o=a)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,t,r){const i=this,s=this.json,o=this.options,a=s.textures[e],l=(t.uri||t.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const u=self.URL||self.webkitURL;let c=t.uri||"",h=!1;if(t.bufferView!==void 0)c=i.getDependency("bufferView",t.bufferView).then(function(m){h=!0;const y=new Blob([m],{type:t.mimeType});return c=u.createObjectURL(y),c});else if(t.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const p=Promise.resolve(c).then(function(m){return new Promise(function(y,g){let x=y;r.isImageBitmapLoader===!0&&(x=function(w){const _=new Qr(w);_.needsUpdate=!0,y(_)}),r.load(Nl.resolveURL(m,o.path),x,void 0,g)})}).then(function(m){h===!0&&u.revokeObjectURL(c),m.flipY=!1,a.name&&(m.name=a.name);const g=(s.samplers||{})[a.sampler]||{};return m.magFilter=o4[g.magFilter]||_r,m.minFilter=o4[g.minFilter]||Cc,m.wrapS=a4[g.wrapS]||ja,m.wrapT=a4[g.wrapT]||ja,i.associations.set(m,{textures:e}),m}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",c),null});return this.textureCache[l]=p,p}assignTexture(e,t,r){const i=this;return this.getDependency("texture",r.index).then(function(s){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),i.extensions[Fn.KHR_TEXTURE_TRANSFORM]){const o=r.extensions!==void 0?r.extensions[Fn.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const a=i.associations.get(s);s=i.extensions[Fn.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),i.associations.set(s,a)}}return e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new ch,Or.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Wi,Or.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return Su}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Fn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const h=i[Fn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else if(l[Fn.KHR_MATERIALS_UNLIT]){const h=i[Fn.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Mt(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",h.baseColorTexture)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Jf);const c=s.alphaMode||Ub.OPAQUE;if(c===Ub.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===Ub.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Io&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new nt(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Io&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Io&&(a.emissive=new Mt().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Io&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture)),Promise.all(u).then(function(){let h;return o===dA?h=i[Fn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):h=new o(a),s.name&&(h.name=s.name),h.map&&(h.map.encoding=sr),h.emissiveMap&&(h.emissiveMap.encoding=sr),Vh(h,s),t.associations.set(h,{materials:e}),s.extensions&&x0(i,h,s),h})}createUniqueName(e){const t=zn.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Fn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return c4(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=HQ(u),h=i[c];if(h)o.push(h.promise);else{let p;u.extensions&&u.extensions[Fn.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=c4(new nn,u,t),i[c]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?OQ(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],h=[];for(let m=0,y=c.length;m<y;m++){const g=c[m],x=o[m];let w;const _=u[m];if(x.mode===Qu.TRIANGLES||x.mode===Qu.TRIANGLE_STRIP||x.mode===Qu.TRIANGLE_FAN||x.mode===void 0)w=s.isSkinnedMesh===!0?new Z1(g,_):new si(g,_),w.isSkinnedMesh===!0&&!w.geometry.attributes.skinWeight.normalized&&w.normalizeSkinWeights(),x.mode===Qu.TRIANGLE_STRIP?w.geometry=f4(w.geometry,aN):x.mode===Qu.TRIANGLE_FAN&&(w.geometry=f4(w.geometry,b3));else if(x.mode===Qu.LINES)w=new vo(g,_);else if(x.mode===Qu.LINE_STRIP)w=new wu(g,_);else if(x.mode===Qu.LINE_LOOP)w=new Dw(g,_);else if(x.mode===Qu.POINTS)w=new gg(g,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(w.geometry.morphAttributes).length>0&&zQ(w,s),w.name=t.createUniqueName(s.name||"mesh_"+e),Vh(w,s),x.extensions&&x0(i,w,x),t.assignFinalMaterial(w),h.push(w)}for(let m=0,y=h.length;m<y;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return h[0];const p=new Pl;t.associations.set(p,{meshes:e});for(let m=0,y=h.length;m<y;m++)p.add(h[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new mr(eA.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Ya(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Vh(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let u=0,c=r.channels.length;u<c;u++){const h=r.channels[u],p=r.samplers[h.sampler],m=h.target,y=m.node!==void 0?m.node:m.id,g=r.parameters!==void 0?r.parameters[p.input]:p.input,x=r.parameters!==void 0?r.parameters[p.output]:p.output;i.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",g)),o.push(this.getDependency("accessor",x)),a.push(p),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],h=u[1],p=u[2],m=u[3],y=u[4],g=[];for(let w=0,_=c.length;w<_;w++){const A=c[w],C=h[w],T=p[w],D=m[w],I=y[w];if(A===void 0)continue;A.updateMatrix(),A.matrixAutoUpdate=!0;let B;switch(gf[I.path]){case gf.weights:B=Xm;break;case gf.rotation:B=eh;break;case gf.position:case gf.scale:default:B=$m;break}const W=A.name?A.name:A.uuid,G=D.interpolation!==void 0?FQ[D.interpolation]:bd,L=[];gf[I.path]===gf.weights?A.traverse(function(q){q.morphTargetInfluences&&L.push(q.name?q.name:q.uuid)}):L.push(W);let P=T.array;if(T.normalized){const q=mA(P.constructor),z=new Float32Array(P.length);for(let ne=0,re=P.length;ne<re;ne++)z[ne]=P[ne]*q;P=z}for(let q=0,z=L.length;q<z;q++){const ne=new B(L[q]+"."+gf[I.path],C.array,P,G);D.interpolation==="CUBICSPLINE"&&(ne.createInterpolant=function(le){const F=this instanceof eh?DQ:Rd;return new F(this.times,this.values,this.getValueSize()/3,le)},ne.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(ne)}}const x=r.name?r.name:"animation_"+e;return new Km(x,void 0,g)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(!!a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new ev:a.length>1?l=new Pl:a.length===1?l=a[0]:l=new Mn,l!==a[0])for(let u=0,c=a.length;u<c;u++)l.add(a[u]);if(s.name&&(l.userData.name=s.name,l.name=o),Vh(l,s),s.extensions&&x0(r,l,s),s.matrix!==void 0){const u=new Ot;u.fromArray(s.matrix),l.applyMatrix4(u)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new Pl;i.name&&(o.name=s.createUniqueName(i.name)),Vh(o,i),i.extensions&&x0(r,o,i);const a=i.nodes||[],l=[];for(let u=0,c=a.length;u<c;u++)l.push(OD(a[u],o,t,s));return Promise.all(l).then(function(){const u=c=>{const h=new Map;for(const[p,m]of s.associations)(p instanceof Or||p instanceof Qr)&&h.set(p,m);return c.traverse(p=>{const m=s.associations.get(p);m!=null&&h.set(p,m)}),h};return s.associations=u(o),o})}}function OD(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let u=0,c=o.joints.length;u<c;u++)l.push(r.getDependency("node",o.joints[u]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const u=[],c=[];for(let h=0,p=a.length;h<p;h++){const m=a[h];if(m){u.push(m);const y=new Ot;o.inverseBindMatrices!==void 0&&y.fromArray(o.inverseBindMatrices.array,h*16),c.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[h])}l.bind(new tv(u,c),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,u=a.length;l<u;l++){const c=a[l];o.push(OD(c,s,t,r))}}return Promise.all(o)})}function jQ(n,e,t){const r=e.attributes,i=new Zs;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new ce(l[0],l[1],l[2]),new ce(u[0],u[1],u[2])),a.normalized){const c=mA(P1[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new ce,l=new ce;for(let u=0,c=s.length;u<c;u++){const h=s[u];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const g=mA(P1[p.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Lc;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function c4(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=pA[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Vh(n,e),jQ(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?UQ(n,e.targets,t):n})}function f4(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===b3)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}class WQ extends Y3{constructor(e){super(e),this.type=Va}parse(e){const a=function(A,C){switch(A){case 1:console.error("THREE.RGBELoader Read Error: "+(C||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(C||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(C||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(C||""))}return-1},h=`
`,p=function(A,C,T){C=C||1024;let I=A.pos,B=-1,W=0,G="",L=String.fromCharCode.apply(null,new Uint16Array(A.subarray(I,I+128)));for(;0>(B=L.indexOf(h))&&W<C&&I<A.byteLength;)G+=L,W+=L.length,I+=128,L+=String.fromCharCode.apply(null,new Uint16Array(A.subarray(I,I+128)));return-1<B?(T!==!1&&(A.pos+=W+B+1),G+L.slice(0,B)):!1},m=function(A){const C=/^#\?(\S+)/,T=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,D=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,I=/^\s*FORMAT=(\S+)\s*$/,B=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,W={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let G,L;if(A.pos>=A.byteLength||!(G=p(A)))return a(1,"no header found");if(!(L=G.match(C)))return a(3,"bad initial token");for(W.valid|=1,W.programtype=L[1],W.string+=G+`
`;G=p(A),G!==!1;){if(W.string+=G+`
`,G.charAt(0)==="#"){W.comments+=G+`
`;continue}if((L=G.match(T))&&(W.gamma=parseFloat(L[1])),(L=G.match(D))&&(W.exposure=parseFloat(L[1])),(L=G.match(I))&&(W.valid|=2,W.format=L[1]),(L=G.match(B))&&(W.valid|=4,W.height=parseInt(L[1],10),W.width=parseInt(L[2],10)),W.valid&2&&W.valid&4)break}return W.valid&2?W.valid&4?W:a(3,"missing image size specifier"):a(3,"missing format specifier")},y=function(A,C,T){const D=C;if(D<8||D>32767||A[0]!==2||A[1]!==2||A[2]&128)return new Uint8Array(A);if(D!==(A[2]<<8|A[3]))return a(3,"wrong scanline width");const I=new Uint8Array(4*C*T);if(!I.length)return a(4,"unable to allocate buffer space");let B=0,W=0;const G=4*D,L=new Uint8Array(4),P=new Uint8Array(G);let q=T;for(;q>0&&W<A.byteLength;){if(W+4>A.byteLength)return a(1);if(L[0]=A[W++],L[1]=A[W++],L[2]=A[W++],L[3]=A[W++],L[0]!=2||L[1]!=2||(L[2]<<8|L[3])!=D)return a(3,"bad rgbe scanline format");let z=0,ne;for(;z<G&&W<A.byteLength;){ne=A[W++];const le=ne>128;if(le&&(ne-=128),ne===0||z+ne>G)return a(3,"bad scanline data");if(le){const F=A[W++];for(let X=0;X<ne;X++)P[z++]=F}else P.set(A.subarray(W,W+ne),z),z+=ne,W+=ne}const re=D;for(let le=0;le<re;le++){let F=0;I[B]=P[le+F],F+=D,I[B+1]=P[le+F],F+=D,I[B+2]=P[le+F],F+=D,I[B+3]=P[le+F],B+=4}q--}return I},g=function(A,C,T,D){const I=A[C+3],B=Math.pow(2,I-128)/255;T[D+0]=A[C+0]*B,T[D+1]=A[C+1]*B,T[D+2]=A[C+2]*B,T[D+3]=1},x=function(A,C,T,D){const I=A[C+3],B=Math.pow(2,I-128)/255;T[D+0]=P0.toHalfFloat(Math.min(A[C+0]*B,65504)),T[D+1]=P0.toHalfFloat(Math.min(A[C+1]*B,65504)),T[D+2]=P0.toHalfFloat(Math.min(A[C+2]*B,65504)),T[D+3]=P0.toHalfFloat(1)},w=new Uint8Array(e);w.pos=0;const _=m(w);if(_!==-1){const A=_.width,C=_.height,T=y(w.subarray(w.pos),A,C);if(T!==-1){let D,I,B,W;switch(this.type){case Wa:W=T.length/4;const G=new Float32Array(W*4);for(let P=0;P<W;P++)g(T,P*4,G,P*4);D=G,B=Wa;break;case Va:W=T.length/4;const L=new Uint16Array(W*4);for(let P=0;P<W;P++)x(T,P*4,L,P*4);D=L,B=Va;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:A,height:C,data:D,header:_.string,gamma:_.gamma,exposure:_.exposure,format:I,type:B}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case Wa:o.encoding=ua,o.minFilter=_r,o.magFilter=_r,o.generateMipmaps=!1,o.flipY=!0;break;case Va:o.encoding=ua,o.minFilter=_r,o.magFilter=_r,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const zb=new WeakMap;class VQ extends Es{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Uo(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(zb.has(e)){const l=zb.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),zb.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new nn;e.index&&t.setIndex(new Ln(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Ln(o,a))}return t}_loadLibrary(e,t){const r=new Uo(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=qQ.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function qQ(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(c){n.onModuleLoaded=function(h){c({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const h=c.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(h,p,m,u),g=y.attributes.map(x=>x.array.buffer);y.index&&g.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},g)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,u){const c=u.attributeIDs,h=u.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const g={index:null,attributes:[]};for(const x in c){const w=self[h[x]];let _,A;if(u.useUniqueIDs)A=c[x],_=a.GetAttributeByUniqueId(p,A);else{if(A=a.GetAttributeId(p,o[c[x]]),A===-1)continue;_=a.GetAttribute(p,A)}g.attributes.push(i(o,a,p,x,w,_))}return y===o.TRIANGULAR_MESH&&(g.index=r(o,a,p)),o.destroy(p),g}function r(o,a,l){const c=l.num_faces()*3,h=c*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,c).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,u,c,h){const p=h.num_components(),y=l.num_points()*p,g=y*c.BYTES_PER_ELEMENT,x=s(o,c),w=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,h,x,g,w);const _=new c(o.HEAPF32.buffer,w,y).slice();return o._free(w),{name:u,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Dy;const Hb=()=>{if(Dy)return Dy;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let y=0;y<h.length;++y){const g=h.charCodeAt(y);p[y]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let m=0;for(let y=0;y<h.length;++y)p[m++]=p[y]<60?r[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(h,p,m,y,g,x){const w=s.exports.sbrk,_=m+3&-4,A=w(_*y),C=w(g.length),T=new Uint8Array(s.exports.memory.buffer);T.set(g,C);const D=h(A,m,y,C,g.length);if(D===0&&x&&x(A,_,y),p.set(T.subarray(A,A+m*y)),w(A-w(0)),D!==0)throw new Error(`Malformed buffer data: ${D}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Dy={ready:o,supported:!0,decodeVertexBuffer(h,p,m,y,g){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,y,s.exports[u[g]])},decodeIndexBuffer(h,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,y)},decodeIndexSequence(h,p,m,y){l(s.exports.meshopt_decodeIndexSequence,h,p,m,y)},decodeGltfBuffer(h,p,m,y,g,x){l(s.exports[c[g]],h,p,m,y,s.exports[u[x]])}},Dy},h4=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function h2(n,e){const t=Nr(i=>i.gl),r=Bc(vg,h4(n)?Object.values(n):n);if(Z.exports.useLayoutEffect(()=>{e==null||e(r)},[e]),Z.exports.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),h4(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}h2.preload=n=>Bc.preload(vg,n);h2.clear=n=>Bc.clear(vg,n);const YQ=Z.exports.forwardRef((r,t)=>{var i=r,{makeDefault:n}=i,e=Os(i,["makeDefault"]);const s=Nr(({set:u})=>u),o=Nr(({camera:u})=>u),a=Nr(({size:u})=>u),l=Z.exports.useRef();return Z.exports.useLayoutEffect(()=>{const{current:u}=l;u&&!e.manual&&(u.aspect=a.width/a.height,u.updateProjectionMatrix())},[a,e]),Z.exports.useLayoutEffect(()=>{if(n&&l.current){const u=o;return s(()=>({camera:l.current})),()=>s(()=>({camera:u}))}},[l,n,s]),Z.exports.createElement("perspectiveCamera",la({ref:R1([l,t])},e))}),JQ=Z.exports.forwardRef((c,u)=>{var h=c,{makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a}=h,l=Os(h,["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"]);const p=Nr(D=>D.invalidate),m=Nr(D=>D.camera),y=Nr(D=>D.gl),g=Nr(D=>D.events),x=Nr(D=>D.set),w=Nr(D=>D.get),_=Nr(D=>D.performance),A=e||m,C=r||g.connected||y.domElement,T=Z.exports.useMemo(()=>new vQ(A),[A]);return fh(()=>{T.enabled&&T.update()},-1),Z.exports.useEffect(()=>(T.connect(C),()=>void T.dispose()),[C,t,T,p]),Z.exports.useEffect(()=>{const D=I=>{p(),t&&_.regress(),s&&s(I)};return T.addEventListener("change",D),o&&T.addEventListener("start",o),a&&T.addEventListener("end",a),()=>{o&&T.removeEventListener("start",o),a&&T.removeEventListener("end",a),T.removeEventListener("change",D)}},[s,o,a,T,p]),Z.exports.useEffect(()=>{if(n){const D=w().controls;return x({controls:T}),()=>x({controls:D})}},[n,T]),Z.exports.createElement("primitive",la({ref:u,object:T,enableDamping:i},l))});let Fy=null;function UD(n,e,t){return r=>{t&&t(r),n&&(Fy||(Fy=new VQ),Fy.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),r.setDRACOLoader(Fy)),e&&r.setMeshoptDecoder(typeof Hb=="function"?Hb():Hb)}}function hh(n,e=!0,t=!0,r){return Bc(fE,n,UD(e,t,r))}hh.preload=(n,e=!0,t=!0,r)=>Bc.preload(fE,n,UD(e,t,r));hh.clear=n=>Bc.clear(fE,n);function XQ(n){const e=n+"BufferGeometry";return Z.exports.forwardRef((o,s)=>{var a=o,{args:t,children:r}=a,i=Os(a,["args","children"]);return Z.exports.createElement("mesh",la({ref:s},i),Z.exports.createElement(e,{attach:"geometry",args:t}),r)})}const $Q=XQ("icosahedron"),Gb={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"};var KQ=`#define GLSLIFY 1
varying vec3 vWorldPosition;void main(){vec4 worldPosition=modelMatrix*vec4(position,1.0);vWorldPosition=worldPosition.xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}`,QQ=`#define GLSLIFY 1
#define ENVMAP_TYPE_CUBE_UV
varying vec3 vWorldPosition;uniform float radius;uniform float height;
#ifdef ENVMAP_TYPE_CUBE
uniform samplerCube cubemap;
#else
uniform sampler2D cubemap;
#endif
float diskIntersect(in vec3 ro,in vec3 rd,vec3 c,vec3 n,float r){vec3 o=ro-c;float t=-dot(n,o)/dot(rd,n);vec3 q=o+rd*t;return(dot(q,q)<r*r)? t : 1e6;}float sphereIntersect(in vec3 ro,in vec3 rd,in vec3 ce,float ra){vec3 oc=ro-ce;float b=dot(oc,rd);float c=dot(oc,oc)-ra*ra;float h=b*b-c;if(h<0.0)-1.0;h=sqrt(h);return-b+h;}vec3 project(){vec3 p=normalize(vWorldPosition);vec3 camPos=cameraPosition;camPos.y-=height;float intersection=sphereIntersect(camPos,p,vec3(0.),radius);if(intersection>0.){vec3 h=vec3(0.0,-height,0.0);float intersection2=diskIntersect(camPos,p,h,vec3(0.0,-1.0,0.0),radius);p=(camPos+min(intersection,intersection2)*p)/radius;}else{p=vec3(0.0,1.0,0.0);}return p;}
#include <common>
#include <cube_uv_reflection_fragment>
void main(){vec3 projectedWorldPosition=project();
#ifdef ENVMAP_TYPE_CUBE
vec3 outcolor=textureCube(cubemap,projectedWorldPosition).rgb;
#else
vec3 direction=normalize(projectedWorldPosition);vec2 uv=equirectUv(direction);vec3 outcolor=texture2D(cubemap,uv).rgb;
#endif
gl_FragColor=vec4(outcolor,1.0);
#include <tonemapping_fragment>
#include <encodings_fragment>
}`;const ZQ="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",eZ=n=>n&&n.isCubeTexture,tZ=n=>n.current&&n.current.isScene,hE=n=>tZ(n)?n.current:n;function dE({scene:n,background:e=!1,map:t}){const r=Nr(i=>i.scene);return Z.exports.useLayoutEffect(()=>{if(t){const i=hE(n||r),s=i.background,o=i.environment;return e!=="only"&&(i.environment=t),e&&(i.background=t),()=>{e!=="only"&&(i.environment=o),e&&(i.background=s)}}},[r,n,t,e]),null}function zD({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,extensions:r}){if(t){if(!(t in Gb))throw new Error("Preset must be one of: "+Object.keys(Gb).join(", "));n=Gb[t],e=ZQ}const i=Array.isArray(n),o=Bc(i?q3:WQ,i?[n]:n,l=>{l.setPath(e),r&&r(l)}),a=i?o[0]:o;return a.mapping=i?_c:Pm,a}function HD(r){var i=r,{background:n=!1,scene:e}=i,t=Os(i,["background","scene"]);const s=zD(t),o=Nr(a=>a.scene);return Z.exports.useLayoutEffect(()=>{const a=hE(e||o),l=a.background,u=a.environment;return n!=="only"&&(a.environment=s),n&&(a.background=s),()=>{n!=="only"&&(a.environment=u),n&&(a.background=l)}},[s,n,e,o]),null}function nZ({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,scene:a,files:l,path:u,preset:c=void 0,extensions:h}){const p=Nr(_=>_.gl),m=Nr(_=>_.scene),y=Z.exports.useRef(null),[g]=Z.exports.useState(()=>new mg),x=Z.exports.useMemo(()=>{const _=new X1(r);return _.texture.type=Va,_},[r]);Z.exports.useLayoutEffect(()=>{i===1&&y.current.update(p,g);const _=hE(a||m),A=_.background,C=_.environment;return o!=="only"&&(_.environment=x.texture),o&&(_.background=x.texture),()=>{o!=="only"&&(_.environment=C),o&&(_.background=A)}},[n,g,x.texture,a,m,o,i,p]);let w=1;return fh(()=>{(i===1/0||w<i)&&(y.current.update(p,g),w++)}),Z.exports.createElement(Z.exports.Fragment,null,tQ(Z.exports.createElement(Z.exports.Fragment,null,n,Z.exports.createElement("cubeCamera",{ref:y,args:[e,t,x]}),l||c?Z.exports.createElement(HD,{background:!0,files:l,preset:c,path:u,extensions:h}):s?Z.exports.createElement(dE,{background:!0,map:s,extensions:h}):null),g))}function rZ(n){var e,t,r,i;const s=zD(n),o=n.map||s,a=eZ(o),l=Z.exports.useMemo(()=>{var g,x;const _=((g=a?(x=o.image[0])==null?void 0:x.width:o.image.width)!==null&&g!==void 0?g:1024)/4,A=Math.floor(Math.log2(_)),C=Math.pow(2,A),T=3*Math.max(C,16*7),D=4*C;return[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/T}`,`#define CUBEUV_TEXEL_HEIGHT ${1/D}`,`#define CUBEUV_MAX_MIP ${A}.0`,""]},[]),u=Z.exports.useMemo(()=>l.join(`
`)+QQ,[l]),c=Z.exports.useMemo(()=>({cubemap:{value:null},height:{value:15},radius:{value:60}}),[]),h=Z.exports.useRef(null),p=(e=n.ground)==null?void 0:e.height,m=(t=n.ground)==null?void 0:t.radius,y=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return Z.exports.useEffect(()=>void(p&&(h.current.uniforms.height.value=p)),[p]),Z.exports.useEffect(()=>void(m&&(h.current.uniforms.radius.value=m)),[m]),Z.exports.useEffect(()=>void(h.current.uniforms.cubemap.value=o),[o]),Z.exports.createElement(Z.exports.Fragment,null,Z.exports.createElement(dE,la({},n,{map:o})),Z.exports.createElement($Q,{scale:y,args:[1,16]},Z.exports.createElement("shaderMaterial",{ref:h,side:Oo,vertexShader:KQ,fragmentShader:u,uniforms:c})))}function iZ(n){return n.ground?Z.exports.createElement(rZ,n):n.map?Z.exports.createElement(dE,n):n.children?Z.exports.createElement(nZ,n):Z.exports.createElement(HD,n)}const d4=new Ot,p4=new Ot,Oy=[],jb=new si;class sZ extends Pl{constructor(){super(),this.color=new Mt("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return(e=this.instance.current)==null?void 0:e.geometry}raycast(e,t){const r=this.instance.current;if(!r||!r.geometry||!r.material)return;jb.geometry=r.geometry;const i=r.matrixWorld;let s=r.userData.instances.indexOf(this.instanceKey);if(!(s===-1||s>r.count)){r.getMatrixAt(s,d4),p4.multiplyMatrices(i,d4),jb.matrixWorld=p4,jb.raycast(e,Oy);for(let o=0,a=Oy.length;o<a;o++){const l=Oy[o];l.instanceId=s,l.object=this,t.push(l)}Oy.length=0}}}var GD={exports:{}},oZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aZ=oZ,lZ=aZ;function jD(){}function WD(){}WD.resetWarningCache=jD;var uZ=function(){function n(r,i,s,o,a,l){if(l!==lZ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WD,resetWarningCache:jD};return t.PropTypes=t,t};GD.exports=uZ();var w0=GD.exports;w0.func.isRequired,w0.arrayOf(w0.oneOfType([w0.element,w0.func])).isRequired;let nu,Wb;const VD=Z.exports.createContext(null),m4=new Ot,g4=new Ot,cZ=new Ot;new Mt;const v4=new ce,y4=new yi,x4=new ce,B1=Z.exports.forwardRef((i,r)=>{var s=i,{context:n,children:e}=s,t=Os(s,["context","children"]);Z.exports.useMemo(()=>LD({Position:sZ}),[]);const o=Z.exports.useRef(),{subscribe:a,getParent:l}=Z.exports.useContext(n||VD);return Z.exports.useLayoutEffect(()=>a(o),[]),Z.exports.createElement("position",la({instance:l(),instanceKey:o,ref:R1([r,o])},t),e)}),qD=Z.exports.forwardRef((o,s)=>{var a=o,{children:n,range:e,limit:t=1e3,frames:r=1/0}=a,i=Os(a,["children","range","limit","frames"]);const[{context:l,instance:u}]=Z.exports.useState(()=>{const _=Z.exports.createContext(null);return{context:_,instance:Z.exports.forwardRef((A,C)=>Z.exports.createElement(B1,la({context:_},A,{ref:C})))}}),c=Z.exports.useRef(null),[h,p]=Z.exports.useState([]),[[m,y]]=Z.exports.useState(()=>{const _=new Float32Array(t*16);for(nu=0;nu<t;nu++)cZ.identity().toArray(_,nu*16);return[_,new Float32Array([...new Array(t*3)].map(()=>1))]});Z.exports.useEffect(()=>{c.current.instanceMatrix.needsUpdate=!0});let g=0,x=0;fh(()=>{if(r===1/0||g<r){for(c.current.updateMatrix(),c.current.updateMatrixWorld(),m4.copy(c.current.matrixWorld).invert(),x=Math.min(t,e!==void 0?e:t,h.length),c.current.count=x,c.current.instanceMatrix.updateRange.count=x*16,c.current.instanceColor.updateRange.count=x*3,nu=0;nu<h.length;nu++)Wb=h[nu].current,Wb.matrixWorld.decompose(v4,y4,x4),g4.compose(v4,y4,x4).premultiply(m4),g4.toArray(m,nu*16),c.current.instanceMatrix.needsUpdate=!0,Wb.color.toArray(y,nu*3),c.current.instanceColor.needsUpdate=!0;g++}});const w=Z.exports.useMemo(()=>({getParent:()=>c,subscribe:_=>(p(A=>[...A,_]),()=>p(A=>A.filter(C=>C.current!==_.current)))}),[]);return Z.exports.createElement("instancedMesh",la({userData:{instances:h},matrixAutoUpdate:!1,ref:R1([s,c]),args:[null,null,0],raycast:()=>null},i),Z.exports.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:m.length/16,array:m,itemSize:16,usage:Kf}),Z.exports.createElement("instancedBufferAttribute",{attach:"instanceColor",count:y.length/3,array:y,itemSize:3,usage:Kf}),typeof n=="function"?Z.exports.createElement(l.Provider,{value:w},n(u)):Z.exports.createElement(VD.Provider,{value:w},n))}),fZ=()=>{let n=mt(y=>y.floors);const e=mt(y=>y.updateObject),t=mt.getState().scene.textures,r={planks:{meister:{repeat:new nt(4,2),rotate:-1.5707963268},parky:{repeat:new nt(2,4),rotate:null}},visgraat:{parky:{repeat:new nt(1,1),rotate:-1.5707963268}}},i=[];t.length&&(n=n.filter(y=>!t.filter(x=>x.floorName===y.name).length));const s=[],o=[],a=[];n.forEach(y=>{a.push({floorName:y.name,brand:y.brand,pattern:y.pattern,amount:y.numberOfTextures});for(let g=0;g<y.numberOfTextures;g++)s.push(`/textures/${y.category}/${y.texture}_${g<=8?"0":""}${g+1}.jpg`),o.push(`/textures/${y.category}/${y.texture}_${g<=8?"0":""}${g+1}_normal.jpg`)});const l=h2(s),u=h2(o);let c=0,h=0,p=[],m=[];l.forEach((y,g)=>{const{floorName:x,brand:w,pattern:_,amount:A}=a[c],{repeat:C,rotate:T}=r[_][w],D=u[g];y.repeat=C,T&&(y.rotation=T),y.wrapS=ja,y.wrapT=ja,D.repeat=C,T&&(D.rotation=T),D.wrapS=ja,D.wrapT=ja,p.push(y),m.push(D),h++,A===h&&(h=0,c++,i.push({floorName:x,textures:p,normalMaps:m}),p=[],m=[])}),e("scene","textures",t.concat(i))},hZ=()=>(fZ(),H($n,{})),YD=({scene:n})=>{const{camera:e}=Nr(),t=Z.exports.useRef(),[r,i]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),[s,o]=Z.exports.useState(localStorage.getItem("device")==="screen"),a=r?Ec(localStorage.getItem("room")):null;Z.exports.useEffect(()=>{if(a&&r)return localStorage.getItem("screenType")==="floor"||!s?void 0:(a.on("camera change",h=>{const{x:p,y:m,z:y}=h.cameraPosition;e.position.setX(p),e.position.setY(m),e.position.setZ(y);const{rotX:g,rotY:x,rotZ:w}=h.cameraRotation,_=new Rc(g,x,w,"XYZ");e.rotation.set(_)}),()=>{a==null||a.disconnect()})},[a]);let l=0;const u=h=>{!r||(l++,a.emit("camera change",{cameraPosition:h.target.object.position,cameraRotation:h.target.object.rotation}),l===60&&(a.emit("active",{status:"active"}),l=0))},c={floor:{maxDistance:60,minDistance:2,maxPolarAngle:Math.PI*.45,target:[0,0,0]},door:{maxDistance:60,minDistance:2,maxPolarAngle:Math.PI*.65,target:[0,0,0],enabled:!1}};return Ie($n,{children:[H(JQ,Bn(Bt({},c[n]),{ref:t,makeDefault:!0,onChange:h=>{localStorage.getItem("device")==="config"&&u(h)}})),H(YQ,{fov:50})]})},dZ=()=>{const{nodes:n}=hh("/plank/plank-transformed.glb"),e=mt(P=>P.config.refresh),t=mt(P=>P.config.planksLayingPattern),r=mt(P=>P.scene.textures),i=mt(P=>P.parquet),{totalLength:s,totalWidth:o}=i,a=Z.exports.useRef(!1),l=Z.exports.useRef(),u=localStorage.getItem("device"),c=localStorage.getItem("screenType"),h=mt(P=>P.selectedFloor);let{height:p,width:m,length:y,name:g}=h;if(p=p/100,m=m/100,y=y/100,u==="screen"&&c==="floor"){const P=window.screen.height,q=window.screen.width,z=localStorage.getItem("screenSize"),ne=Math.sqrt(Math.pow(q,2)+Math.pow(P,2))/z,re=75*Math.PI/180,le=2*Math.tan(re/2)*5;m=15*.3937*ne/window.innerHeight*le,y=110*.3937*ne/window.innerHeight*le}const x=r.find(P=>P.floorName===g),w=x.textures,_=x.normalMaps,A=n.Cube.geometry,C=[];w.forEach((P,q)=>{const z=new Su({envMapIntensity:1.2,toneMapped:!1,map:P,normalMap:_[q],normalScale:new nt(.5,.5)}),ne=new Fm(A,z,50);C.push(ne)});const T=Z.exports.useRef(C.map(()=>Z.exports.createRef()));let D,I;switch(t){case"halfOffset":D=2,I=1;break;case"thirdOffset":D=3,I=0;break;case"fourthOffset":D=4,I=0;break;default:D=2,I=1;break}const B=[],W=-(s*y/2),G=-(o/2*m);for(let P=0;P<o;P++){let q,z=G+P*m;if(P%2===0)for(let ne=0;ne<s+I;ne++)q=W+0+y*ne,B.push({x:q,z});else for(let ne=0;ne<s;ne++)q=W+y/D+y*ne,B.push({x:q,z})}const L=P=>{TWEEN.removeAll();let q={};const z=new Mn;z.scale.set(y/2,p,m/2);const ne={y:P?20:0};B.forEach((re,le)=>{const F=Math.floor(Math.random()*C.length);T.current[F].current.dispose(),q=Bn(Bt({},q),{[F]:q[F]+1||0});const X=q[F],ie=()=>{z.position.set(re.x,ne.y,re.z),z.updateMatrix(),T.current[F].current.setMatrixAt(X,z.matrix),T.current[F].current.instanceMatrix.needsUpdate=!0},ve=new TWEEN.Tween(ne).to({y:0},700).easing(TWEEN.Easing.Quadratic.Out).onUpdate(()=>{ie()}),N=P?200+500*Math.random():0;ve.delay(N),ve.start()})};return Z.exports.useEffect(()=>(L(!0),a.current=!0,()=>{TWEEN.removeAll()}),[e]),Z.exports.useEffect(()=>{(a.current=!1)||(L(!1),a.current=!0)},[t,h]),fh(P=>{TWEEN.update()}),H("group",{children:H("group",{ref:l,children:C.map((P,q)=>(P.instanceMatrix.needsUpdate=!0,H("instancedMesh",Bn(Bt({ref:T.current[q]},P),{castShadow:!0}),q)))})})},pZ=()=>{const n=mt(q=>q.config),{herringboneTexture:e,refresh:t,floorType:r,floorBrand:i}=n,s=mt(q=>q.scene.textures),o=mt(q=>q.herringbone),{totalLength:a,totalWidth:l,totalLengthWithRoom:u,totalWidthWithRoom:c}=o,h=Z.exports.useRef(!1),p=localStorage.getItem("device"),m=localStorage.getItem("screenType"),y=mt(q=>q.selectedFloor);let{height:g,width:x,length:w,name:_}=y;if(g=g/100,x=x/100,w=w/100,p==="screen"&&m==="floor"){const q=window.screen.height,z=window.screen.width,ne=localStorage.getItem("screenSize"),re=Math.sqrt(Math.pow(z,2)+Math.pow(q,2))/ne,le=75*Math.PI/180,F=2*Math.tan(le/2)*5;x=7*.3937*re/window.innerHeight*F;const ie=44*.3937*re/window.innerHeight*F;cm*.3937*re/window.innerHeight*F,w=ie}const A=s.find(q=>q.floorName===_),C=A.textures,T=A.normalMaps,D=new xu(x,g,w),I=[];C.forEach((q,z)=>{const ne=new Su({toneMapped:!1,map:q,normalMap:T[z],normalScale:new nt(.4,.4)}),re=new Fm(D,ne,5e3);I.push(re)});const B=[];C.forEach((q,z)=>{const ne=new Su({toneMapped:!1,map:q,normalMap:T[z],normalScale:new nt(.4,.4)}),re=new Fm(D,ne,5e3);B.push(re)});const W=Z.exports.useRef(I.map(()=>Z.exports.createRef())),G=Z.exports.useRef(B.map(()=>Z.exports.createRef())),L=[];for(let q=0;q<l;q++){const z=q*-x,ne=q*x;for(let re=0;re<a;re++){let le,F;re%2===0?(le=z+re*(w/2),F=ne+re*(w/2),L.push({x:le,z:F,direction:1})):(le=z+(re-1)*(w/2)+(w/2+x/2),F=ne+(re-1)*(w/2)+(w/2-x/2),L.push({x:le,z:F,direction:2}))}}const P=q=>{TWEEN.removeAll();let z={};const ne=new Mn,re={y:q?20:0};L.forEach((le,F)=>{const X=Math.floor(Math.random()*(I.length-1-0+1)),ie=le.direction===1?W:G;ie.current[X].current.dispose(),z=Bn(Bt({},z),{[X]:z[X]+1||0});const ve=z[X],N=()=>{ne.position.set(le.x,re.y,le.z);const ue=F%2==0?0:-Math.PI*.5;ne.rotation.set(0,ue,0),ne.updateMatrix(),ie.current[X].current.setMatrixAt(ve,ne.matrix),ie.current[X].current.instanceMatrix.needsUpdate=!0},V=new TWEEN.Tween(re).to({y:0},700).easing(TWEEN.Easing.Quadratic.Out).onUpdate(()=>{N()}),Q=q?200+500*Math.random():0;V.delay(Q),V.start()})};return Z.exports.useEffect(()=>(P(!0),h.current=!0,()=>{TWEEN.removeAll()}),[t]),Z.exports.useEffect(()=>{(h.current=!1)||(P(!1),h.current=!0)},[y]),fh(q=>{TWEEN.update()}),H($n,{children:Ie("group",{position:[-23,0,-15],rotation:[0,Math.PI*.25,0],children:[I.map((q,z)=>(q.instanceMatrix.needsUpdate=!0,H("instancedMesh",Bt({ref:W.current[z]},q),z))),B.map((q,z)=>(q.instanceMatrix.needsUpdate=!0,H("instancedMesh",Bt({ref:G.current[z]},q),z)))]})})},mZ=()=>{const{nodes:n,materials:e}=hh("plank/chevron-transformed.glb"),t=n.Cube.geometry,[r,i]=Z.exports.useState(),s=Z.exports.useRef();Z.exports.useEffect(()=>{o()},[]),Z.exports.useLayoutEffect(()=>{!s.current||s.current.children.forEach(a=>{let l={y:a.position.y};const u=500*Math.random(),c=new TWEEN.Tween(l).to({y:0},700).easing(TWEEN.Easing.Quadratic.Out).onUpdate(()=>{a.position.y=l.y});c.delay(u),c.start()})},[r]);const o=()=>{const a=[];for(let u=0;u<10;u++)for(let c=0;c<50;c++)a.push(H(B1,{position:[-1.95359+7.8143*u,20,1.4152*c],rotation:[0,-Math.PI/4,0]},u+1*c+1*Math.random())),a.push(H(B1,{position:[1.95359+7.8143*u,20,1.4152*c],rotation:[-Math.PI,-Math.PI/4,0]},u+1*c+1*Math.random()));const l=Ie(qD,{ref:s,geometry:t,children:[H("meshStandardMaterial",{color:"red"}),a.map(u=>u)]});i(l)};return fh(a=>{TWEEN.update()}),H($n,{children:H("group",{rotation:[0,Math.PI,0],children:r})})},gZ=()=>{const{nodes:n,materials:e}=hh("plank/chevron-L-transformed.glb"),t=n.Cube015.geometry,[r,i]=Z.exports.useState(),s=Z.exports.useRef();Z.exports.useEffect(()=>{o()},[]),Z.exports.useLayoutEffect(()=>{!s.current||s.current.children.forEach(a=>{let l={y:a.position.y};const u=500*Math.random(),c=new TWEEN.Tween(l).to({y:0},700).easing(TWEEN.Easing.Quadratic.Out).onUpdate(()=>{a.position.y=l.y});c.delay(u),c.start()})},[r]);const o=()=>{const a=[];for(let u=0;u<10;u++)for(let c=0;c<50;c++)a.push(H(B1,{position:[4.46852+17.8741*u,20,2.95902*c],rotation:[0,.663225,0]},u+1*c+1*Math.random())),a.push(H(B1,{position:[-4.46852+17.8741*u,20,2.95902*c],rotation:[0,-.663225,Math.PI]},u+1*c+1*Math.random()));const l=Ie(qD,{ref:s,geometry:t,children:[H("meshStandardMaterial",{color:"red"}),a.map(u=>u)]});i(l)};return fh(a=>{TWEEN.update()}),H($n,{children:H("group",{rotation:[0,Math.PI,0],children:r})})},vZ=()=>{const n=Z.exports.useRef(),{camera:e}=Nr(),t=mt(i=>i.scene.textures),r=mt(i=>i.selectedFloor);return Z.exports.useEffect(()=>{n.current&&(n.current.shadow.mapSize=new nt(1024,1024)),e.position.x=-4,e.position.y=10,e.position.z=5},[n]),Ie($n,{children:[t.length>0&&r.pattern==="planks"&&H(dZ,{}),t.length>0&&r.pattern==="visgraat"&&H(pZ,{}),t.length>0&&r.pattern==="chevronS"&&H(mZ,{}),t.length>0&&r.pattern==="chevronL"&&H(gZ,{}),H(YD,{scene:"floor"}),H(iZ,{preset:"apartment"}),H("pointLight",{ref:n,castShadow:!0,position:[0,40,0],intensity:.1,power:2}),Ie("mesh",{scale:[140,.5,140],position:[0,-1.5,0],receiveShadow:!0,children:[H("boxGeometry",{}),H("shadowMaterial",{opacity:.1})]})]})},pE=()=>{const[n,e]=Z.exports.useState(localStorage.getItem("screenType"));return H($n,{children:H(ID,{shadows:!0,camera:{position:n==="floor"?[0,5,0]:[0,5,10]},children:Ie(Z.exports.Suspense,{fallback:H(DD,{children:H("h1",{children:"Loading..."})}),children:[H(vZ,{}),H(hZ,{})]})})})},yZ=()=>{const{nodes:n,materials:e}=hh("doors/door-photoshop-v2.glb"),t=mt(a=>a.config.doorOpenValue),r=Z.exports.useRef(),i=Z.exports.useRef(),{camera:s,size:o}=Nr();return Z.exports.useEffect(()=>{if(i.current!==null){let a=s.position.z-i.current.position.z,c=new Zs().setFromObject(i.current).getSize(new ce).y;s.fov=2*Math.atan(c/(2*a))*(180/Math.PI),s.updateProjectionMatrix()}},[i]),Ie("group",{ref:i,scale:[2.2,2.2,2.2],position:[0,.3,0],children:[H("mesh",{geometry:n.Cube.geometry,material:e["Material.002"],position:[1.01,.02,-.05],rotation:[0,-t,0],receiveShadow:!0}),H("mesh",{ref:r,geometry:n.Cube001.geometry,material:e.frameTexture})]})},xZ=()=>{const{nodes:n,materials:e}=hh("doors/door-creme-photoshop.glb"),t=mt(o=>o.config.doorOpenValue);Z.exports.useRef();const r=Z.exports.useRef(),{camera:i,size:s}=Nr();return Z.exports.useEffect(()=>{if(r.current!==null){let o=i.position.z-r.current.position.z,u=new Zs().setFromObject(r.current).getSize(new ce).y;i.fov=2*Math.atan(u/(2*o))*(180/Math.PI),i.updateProjectionMatrix()}},[r]),Ie("group",{ref:r,scale:[2.2,2.2,2.2],position:[0,.3,0],children:[H("mesh",{rotation:[0,-t,0],position:[1.01,.02,-.05],geometry:n.Cube.geometry,material:e["Material.002"],receiveShadow:!0}),H("mesh",{geometry:n.Cube001.geometry,material:e.frameTexture})]})},wZ=()=>{const{nodes:n,materials:e}=hh("doors/doorhandle.glb"),t=mt(r=>r.config.doorOpenValue);return H("group",{scale:[2.2,2.2,2.2],position:[0,.3,0],children:H("group",{rotation:[0,-t,0],position:[1.01,.02,-.05],children:Ie("group",{rotation:[-Math.PI/2,-1.57,0],scale:[.1,.01,.1],castShadow:!0,children:[H("mesh",{geometry:n.Cylinder001.geometry,material:e["Aluminium Ani.001"],castShadow:!0}),H("mesh",{geometry:n.Cylinder001_1.geometry,material:e["Aluminium.001"],castShadow:!0}),H("mesh",{geometry:n.Cylinder001_2.geometry,material:e["Matt Black.001"],castShadow:!0}),H("mesh",{geometry:n.Cylinder001_3.geometry,material:e["Aluminium Ani"],castShadow:!0}),H("mesh",{geometry:n.Cylinder001_4.geometry,material:e.Aluminium,castShadow:!0}),H("mesh",{geometry:n.Cylinder001_5.geometry,material:e["Matt Black"],castShadow:!0})]})})})},_Z=()=>{const n=Z.exports.useRef(),e=mt(r=>r.selectedDoor);mt(r=>r.config.currentDoor);const t=mt(r=>r.config.showBlackbg);return Z.exports.useEffect(()=>{n.current},[n]),Ie($n,{children:[e.id===1&&H(yZ,{}),e.id===2&&H(xZ,{}),t&&Ie($n,{children:[Ie("mesh",{rotation:[0,0,0],scale:[20,11,.1],position:[10+2.4,0,0],children:[H("planeGeometry",{}),H("meshBasicMaterial",{color:"black"})]}),Ie("mesh",{rotation:[0,0,0],scale:[20,11,.1],position:[-10-2.4,0,0],children:[H("planeGeometry",{}),H("meshBasicMaterial",{color:"black"})]})]}),H(wZ,{}),H("ambientLight",{intensity:1}),H("directionalLight",{intensity:1.25,position:[30,10,-30]}),H("directionalLight",{intensity:1.25,position:[0,10,0]}),H("directionalLight",{intensity:1.25,position:[-30,10,30]}),H("pointLight",{ref:n,castShadow:!0,position:[0,10,10],intensity:.1,power:100}),H(YD,{scene:"door"})]})},mE=()=>{const[n,e]=Z.exports.useState(localStorage.getItem("screenType"));return H(ID,{shadows:!0,camera:{position:n==="floor"?[0,5,0]:[0,0,10]},onCreated:({gl:t})=>{t.physicallyCorrectLights=!0,t.toneMappingExposure=1},children:H(Z.exports.Suspense,{fallback:H(DD,{children:H("h1",{children:"Loading..."})}),children:H(_Z,{})})})};var w4=[{name:"Eik Caledonia LD150 Premium 6421",category:"laminate",texture:"6421_laminate_LD150_Diele",id:"ld1506421",height:80,width:198,length:1288,thumbnail:"/thumbnails/laminate/ld1506421.jpg",brand:"meister",pattern:"planks",numberOfTextures:8},{name:"Eik Gebarsten Licht LC55 6258",category:"laminate",texture:"6258_laminate_LC55_Diele",id:"lc556258",height:80,width:198,length:1288,thumbnail:"/thumbnails/laminate/lc556258.jpg",brand:"meister",pattern:"planks",numberOfTextures:8},{name:"Eik Gebarsten Terra LD 150 Premium 6439",category:"laminate",texture:"6439_laminate_LD150_Diele",id:"ld1506439",height:80,width:198,length:1288,thumbnail:"/thumbnails/laminate/ld1506439.jpg",brand:"meister",pattern:"planks",numberOfTextures:8},{name:"Eik Marrakech LC55 6396",category:"laminate",texture:"6396_laminate_LC55_Diele",id:"lc556396",height:70,width:198,length:1288,thumbnail:"/thumbnails/laminate/lc556396.jpg",brand:"meister",pattern:"planks",numberOfTextures:8},{name:"Eik Relax Pure LD150 Premium 6863",category:"laminate",texture:"6863_laminate_LD150_Diele",id:"ld1506863",height:80,width:198,length:1288,thumbnail:"/thumbnails/laminate/ld1506863.jpg",brand:"meister",pattern:"planks",numberOfTextures:8},{name:"Eik Taverna LD150 Premium 6428",category:"laminate",texture:"6428_laminate_LD150_Diele",id:"ld1506428",height:80,width:198,length:1288,thumbnail:"/thumbnails/laminate/ld1506428.jpg",brand:"meister",pattern:"planks",numberOfTextures:8},{name:"Veldeik licht LL150 Premium 6843",category:"laminate",texture:"6843_laminate_LL150_Diele",id:"ll1506843",height:80,width:198,length:1288,thumbnail:"/thumbnails/laminate/ll1506843.jpg",brand:"meister",pattern:"planks",numberOfTextures:8}];const bZ=n=>Z.exports.createElement("svg",Bt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-refresh",width:"1em",height:"1em",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},n),Z.exports.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Z.exports.createElement("path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"}),Z.exports.createElement("path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"})),SZ=n=>Z.exports.createElement("svg",Bt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-down",width:"1em",height:"1em",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},n),Z.exports.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Z.exports.createElement("polyline",{points:"6 9 12 15 18 9"})),AZ=({socket:n})=>{const e=mt(T=>T.config),t=mt(T=>T.updateObject),{screenMode:r,plankTexture:i,herringboneTexture:s,floorPattern:o,floorType:a,floorBrands:l}=e,[u,c]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),[h,p]=Z.exports.useState(null),[m,y]=Z.exports.useState(null),[g,x]=Z.exports.useState({brand:!0,type:!0,pattern:!0,color:!0}),w=(T,D,I)=>{t(T,D,I),u&&(n.emit("active",{status:"active"}),n.emit("store change",{object:T,field:D,value:I}))},_=T=>{let D;const I=A.filter(B=>{if(B.category===a)return l.includes(B.name)});if(l.includes(T)){if(I.length===1)return;D=l.filter(B=>B!==T)}else D=l.concat(T);w("config","floorBrands",D)};Z.exports.useEffect(()=>{p(!1),y(!1),l.forEach(T=>{const D=A.find(I=>I.category!==a?!1:I.name===T);!D||(D.patterns.includes("planks")&&p(!0),D.patterns.includes("herringbone")&&y(!0))})},[l,a]);const A=[{name:"meister",logo:"/images/logo_meister.svg",bgimage:"/images/meister_bg.jpg",category:"laminate",patterns:["planks"]},{name:"parky",logo:"/images/logo_parky.png",bgimage:"/images/parky_bg.jpg",category:"parquet",patterns:["planks","herringbone"]},{name:"the twelve",logo:"/images/logo_thetwelve.png",bgimage:"/images/parky_bg.jpg",category:"parquet",patterns:["planks"]},{name:"cabbani",logo:"/images/logo_cabbani.png",bgimage:"/images/parky_bg.jpg",category:"parquet",patterns:["planks","herringbone","chevron-S","chevon-L"]},{name:"floorify",logo:"/images/logo_floorify.png",bgimage:"/images/floorify_bg.jpeg",category:"vinyl",patterns:["planks","herringbone"]}],C=T=>{w("config","floorType",T.target.value)};return Ie($n,{children:[H(EZ,{children:H(CZ,{onClick:()=>w("config","refresh",Math.random()*1e6+1),children:H(bZ,{})})}),Ie(TZ,{children:[Ie(zy,{children:[H(Uy,{children:"Vloertype"}),Ie(MZ,{value:a,name:"floortype",id:"floortype",onChange:T=>C(T),children:[H("option",{value:"parquet",children:"Parket"}),H("option",{value:"laminate",children:"Laminaat"}),H("option",{value:"vinyl",children:"Vinyl"})]})]}),Ie(zy,{children:[H(Uy,{children:"Merken"}),Ie(Vb,{children:[H(qb,{open:g.brand,onClick:()=>x(Bn(Bt({},g),{brand:!g.brand})),children:A.map(T=>{if(T.category===a&&!!l.includes(T.name))return` ${T.name},`})}),H(Yb,{open:g.brand,children:A.map((T,D)=>{if(T.category===a)return H(_0,{active:l.includes(T.name),onClick:()=>_(T.name),bgimage:T.bgimage,children:H(Jb,{children:H("img",{src:T.logo,alt:T.name})})},D)})})]})]}),Ie(zy,{children:[H(Uy,{children:"Patroon"}),Ie(Vb,{children:[H(qb,{open:g.pattern,onClick:()=>x(Bn(Bt({},g),{pattern:!g.pattern})),children:o}),H(Yb,{open:g.pattern,children:Ie($n,{children:[h&&H(_0,{active:o==="planks",onClick:()=>o==="planks"?null:w("config","floorPattern","planks"),bgimage:"/images/pattern_planks.svg"}),m&&H(_0,{active:o==="herringbone",onClick:()=>o==="herringbone"?null:w("config","floorPattern","herringbone"),bgimage:"/images/pattern_herringbone.svg"})]})})]})]}),Ie(zy,{children:[H(Uy,{children:"Houtsoort"}),Ie(Vb,{children:[H(qb,{open:g.color,onClick:()=>x(Bn(Bt({},g),{color:!g.color})),children:w4.find(T=>T.id===i).name}),H(Yb,{open:g.color,children:o==="planks"&&w4.map((T,D)=>{if(!!l.includes(T.brand)&&T.category===a&&T.pattern===o)return o==="planks"?Ie(_0,{bgimage:T.thumbnail,active:i===T.id,onClick:()=>i===T.id?null:w("config","plankTexture",T.id),children:[H(_4,{src:A.find(I=>I.name===T.brand).logo,alt:""}),H(Jb,{children:H("p",{children:T.name})})]},D):Ie(_0,{bgimage:T.thumbnail,active:s===T.id,onClick:()=>s===T.id?null:w("config","herringboneTexture",T.id),children:[H(_4,{src:A.find(I=>I.name===T.brand).logo,alt:""}),H(Jb,{children:H("p",{children:T.name})})]},D)})})]})]})]})]})},Uy=ke.label`
  font-size: 0.9rem;
  text-transform: uppercase;
  color: #aaa;
`,MZ=ke.select`
  margin: 4px 0;
  width: 100%;
  padding: 0 12px;
  border: 1px solid #aaa;
  border-radius: 4px;
  height: 40px;
  background-image: url("images/arrow-down.png");
  background-position: right 20px center;
  background-repeat: no-repeat;
  background-size: 10px auto;
  appearance: none;
  outline: none;
  font-size: 1.05rem;
`,EZ=ke.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
`,CZ=ke.div`
  margin: 1rem;
  cursor: pointer;
  svg {
    width: 35px;
    height: 35px;
  }
`;ke.div`
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 1rem;
  margin: 1rem;
  svg {
    width: 35px;
    height: 35px;
  }
`;ke.div`
  position: relative;
  width: 70px;
  cursor: pointer;
`;ke.div`
  width: 30px;
  height: 30px;
  background-color: #bb5018;
  border-radius: 50%;
  position: absolute;
  top: -7.5px;
  left: 0;
  transform: ${({right:n})=>n?"translateX(40px)":null};
  transition: all 0.15s ease-in-out;

  -webkit-box-shadow: 3px 0px 10px 1px rgba(204, 204, 204, 1);
  -moz-box-shadow: 3px 0px 10px 1px rgba(204, 204, 204, 1);
  box-shadow: 3px 0px 10px 1px rgba(204, 204, 204, 1);
`;ke.div`
  width: 100%;
  height: 15px;
  border-radius: 20px;
  background-color: #d0d0d0;
`;const Vb=ke.div`
  width: 100%;
`,TZ=ke.div`
  padding: 1rem;
  overflow: auto;
`,zy=ke.div`
  margin-bottom: 1rem;
`,qb=ke.div`
  width: 100%;
  margin: 4px 0;
  padding: 0 12px;
  border-radius: 4px;
  height: 40px;
  border: 1px solid #aaa;
  background-image: url("images/arrow-down.png");
  background-position: right 20px center;
  background-repeat: no-repeat;
  background-size: 10px auto;
  cursor: pointer;
  display: flex;
  align-items: center;
  font-size: 1.05rem;
  text-transform: capitalize;
`,Yb=ke.div`
  display: ${({open:n})=>n?"flex":"none"};
  flex-direction: row;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-top: 0.5rem;
`,_0=ke.div`
  position: relative;
  background-color: #bbbbbb;
  background-image: ${({bgimage:n})=>`url(${n})`};
  background-size: 210%;
  background-position: center;
  flex: 1 1 calc(33% - 0.5rem);
  max-width: calc(33%);
  border-radius: 4px;
  overflow: hidden;
  height: 120px;
  display: flex;
  border: ${({active:n})=>n?"3px solid #bb5018":"3px solid white"};
  cursor: pointer;
`,Jb=ke.div`
  width: 100%;
  margin-top: auto;
  background-color: rgba(0, 0, 0, 0.2);
  padding: 0.25rem 1rem;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;

  p {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: white;
    font-size: 0.9rem;
  }

  h3 {
    color: white;
    font-weight: 500;
  }
  img {
    width: 100%;
    height: 40px;
    object-fit: contain;
  }
`,_4=ke.img`
  width: 80px;
  object-fit: contain;
  position: absolute;
  top: 5px;
  right: 5px;
  background-color: rgba(0, 0, 0, 0.2);
  padding: 5px;
`,LZ=({socket:n})=>{const e=mt(u=>u.updateObject),t=mt(u=>u.config.doorOpen),r=mt(u=>u.config.showFrame),[i,s]=Z.exports.useState({model:!0}),[o,a]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),l=(u,c,h)=>{e(u,c,h),o&&(n.emit("active",{status:"active"}),n.emit("store change",{object:u,field:c,value:h}))};return H($n,{children:Ie(PZ,{children:[Ie(RZ,{children:[Ie(BZ,{open:i.model,onClick:()=>s(Bn(Bt({},i),{model:!i.model})),children:["Deur Model ",H(SZ,{})]}),H(kZ,{open:i.model,children:H(IZ,{children:H(NZ,{children:"Deur 1"})})})]}),H("input",{type:"checkbox",onClick:()=>l("config","doorOpen",!t)}),H("label",{children:"Open deur"}),H("br",{}),H("input",{type:"checkbox",onClick:()=>l("config","showFrame",!r)}),H("label",{children:"Verberg deurlijst"})]})})},RZ=ke.div`
  width: 100%;
`,PZ=ke.div`
  padding: 1rem;
  overflow: auto;
`,BZ=ke.div`
  display: flex;
  justify-content: space-between;
  padding: 0.75rem;
  color: white;
  white-space: nowrap;
  font-size: 1.3rem;
  font-weight: 500;
  background: #bb5018;
  border-radius: 7px;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  cursor: pointer;

  svg {
    width: 25px;
    height: 25px;
    stroke: #ffffff;
    stroke-width: 2px;
    transform: ${({open:n})=>n?"rotate(180deg)":null};
    transition: transform 0.2s ease-in-out;
  }
`,kZ=ke.div`
  display: ${({open:n})=>n?"flex":"none"};
  flex-direction: row;
  flex-wrap: wrap;
  gap: 0.5rem;
  max-height: 300px;
  overflow: auto;
`,IZ=ke.div`
  position: relative;
  background-color: #bbbbbb;
  background-image: ${({bgimage:n})=>`url(${n})`};
  background-size: 210%;
  background-position: center;
  flex: 1 1 calc(33% - 0.5rem);
  max-width: calc(33%);
  border-radius: 10px;
  overflow: hidden;
  height: 120px;
  display: flex;
  border: ${({active:n})=>n?"5px solid #bb5018":"5px solid white"};
  cursor: pointer;
`,NZ=ke.p`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 0;
  text-align: center;
`,DZ=({configurator:n})=>{let e=Ka();const[t,r]=Z.exports.useState(500),[i,s]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),o=i?Ec(localStorage.getItem("room")):null;return Z.exports.useEffect(()=>{if(o&&i)return o.emit("configurator change",{configurator:n},localStorage.getItem("room")),()=>{o==null||o.disconnect()}},[o]),console.log(o),H($n,{children:Ie(FZ,{maxWidth:t,children:[H(OZ,{children:Ie(UZ,{onClick:()=>e("/filters"),children:[H(G1,{}),"Instellingen"]})}),n==="floor"&&H(AZ,{socket:o}),n==="door"&&H(LZ,{socket:o}),n==="closet"&&H($n,{children:H("h4",{children:"Kast"})})]})})},FZ=ke.div`
  position: relative;
  height: 100vh;
  width: ${({maxWidth:n})=>n}px;
  min-width: ${({maxWidth:n})=>n}px;
  background-color: #ffffff;
  transition: width 0.4s ease-in-out, min-width 0.4s ease-in-out;
  overflow-y: auto;
  margin-left: auto;
`,OZ=ke.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 0.5rem;
  margin-bottom: 2rem;
  margin-right: 0.5rem;
  svg {
    width: 30px;
    height: 30px;
    cursor: pointer;
  }
`;ke.div`
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
  padding: 0.5rem;
  background-color: white;
  cursor: pointer;
  svg {
    width: 30px;
    height: 30px;
    cursor: pointer;
  }
`;const UZ=ke.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
`,zZ=()=>{const n=mt(o=>o.config.showRoom),e=mt(o=>o.updateObject),[t,r]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),i=t?Ec(localStorage.getItem("room")):null,s=(o,a,l)=>{e(o,a,l),t&&(i.emit("active",{status:"active"}),i.emit("store change",{object:o,field:a,value:l}))};return H(HZ,{children:Ie(GZ,{children:[H(JD,{active:!n,onClick:()=>n?s("config","showRoom",!1):null,children:"Vloer"}),H(jZ,{active:n,onClick:()=>n?null:s("config","showRoom",!0),children:"Kamer"})]})})},HZ=ke.div`
  position: absolute;
  right: 30px;
  top: 30px;
  z-index: 1;
`,GZ=ke.div`
  width: 250px;
  height: 60px;
  background-color: white;
  display: flex;
  cursor: pointer;
`,JD=ke.div`
  background-color: ${({active:n})=>n?"#bb5018":"#EAEAEA"};
  color: ${({active:n})=>n?"#ffffff":"#000000"};
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  flex: 1 1 50%;
  text-transform: uppercase;
  font-weight: 500;
  transition: .5s;

  &:hover {
    background-color: ${({active:n})=>n?"#9f4414":"#d1d1d1"}; 
  }
`,jZ=ke(JD)``,WZ=()=>{const n=mt(r=>r.config.screenMode),[e,t]=Z.exports.useState(localStorage.getItem("configurator"));return Ie($n,{children:[Ie("div",{style:{display:"flex"},children:[Ie("div",{style:{position:"relative",width:"100%"},children:[e==="door"&&H(mE,{}),e==="closet"&&H("h1",{children:"Kast"}),e==="floor"&&n==="3d"&&H(pE,{}),e==="floor"&&n==="picture"&&H(oW,{})]}),H(DZ,{configurator:e})]}),e==="floor"&&n==="3d"&&H(zZ,{})]})};var VZ="/assets/video.efd20d36.mp4";const qZ=n=>Z.exports.createElement("svg",Bt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-settings",width:"1em",height:"1em",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},n),Z.exports.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Z.exports.createElement("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),Z.exports.createElement("circle",{cx:12,cy:12,r:3})),YZ=()=>{const n=Ka(),[e,t]=Z.exports.useState(!0);let r=null,i=!1;const s=Z.exports.useRef(),o=l=>{if(clearTimeout(r),i==!0)return document.body.style.cursor="default",t(!0);i=!1,r=setTimeout(()=>{i=!0,document.body.style.cursor="none",t(!1)},l)};return window.addEventListener("mousemove",()=>{o(5e3)}),Z.exports.useEffect(()=>{o(5e3)},[]),H(JZ,{children:e&&H(XZ,{ref:s,onClick:()=>{n("/")},children:H(qZ,{})})})},JZ=ke.div`
  position: absolute;
  left: 0;
  bottom: 0;
  z-index: 12;
`,XZ=ke.div`
  margin: 1rem;
  padding: 0.3rem;
  background-color: #bb5018;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.5s ease-in-out;
  svg {
    stroke: white;
    cursor: pointer;
    height: 70px;
    width: 70px;
    animation: rotation 1s ease-in-out;
  }

  @keyframes rotation {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(180deg);
    }
  }
`,$Z=()=>{const[n,e]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),[t,r]=Z.exports.useState(localStorage.getItem("device")==="screen"),i=n?Ec(localStorage.getItem("room")):null,s=mt(h=>h.floors),o=mt(h=>h.selectedFloor),a=mt(h=>h.client.vierkantemeters),l=mt(h=>h.updateFloors),u=mt(h=>h.updateSelectedFloor),c=mt(h=>h.updateObject);return console.log(s),Z.exports.useEffect(()=>{if(console.log("in useEffect"),i&&n)return console.log("eerste if"),localStorage.getItem("screenType")==="floor"||!t?void 0:(i.on("selecteded floor",h=>{console.log("floor",h);const{obj:p}=h;u(p)}),i.on("get floors",h=>{const{floors:p}=h;console.log("floors",p),l(p)}),i.on("get meters",h=>{console.log("meters",h);const{meters:p}=h;c("client","vierkantemeters",p)}),()=>{i==null||i.disconnect()})},[i]),Z.exports.useEffect(()=>{},[a]),Ie($n,{children:[H(KZ,{children:o&&s.map(({room:h,id:p})=>H(QZ,{style:{zIndex:o.room===h?"10":"1"},render:h},p))}),H(ZZ,{children:H("p",{children:Object.keys(o).length!==0?`${o.name} | ${o.price_incl} \u20AC/M\xB2 | \u20AC${(o.price_incl*a).toFixed(2)} voor ${a}M\xB2 (${Math.ceil(a/o.m2_per_box)} dozen)`:"Geen vloer geselecteerd"})})]})},KZ=ke.div`
  height: 100vh;
  overflow: hidden;
  position: fixed;
  width: 100%;
`,QZ=ke.div`
  height: 100vh;
  width: 100vw;
  overflow: hidden;
  background-image: ${({render:n})=>`url(${n})`};
  background-repeat: no-repeat;
  background-size: cover;
  position: absolute;
  top: 0;
  left: 0;
`,ZZ=ke.div`
  height: 55px;
  background: #fff;
  border-top: 2px solid #a14d0d;
  position: absolute;
  bottom: 0;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: end;
  z-index: 11;

  p {
    padding: 10px 10px 10px 40px;
    color: rgb(14, 14, 14);
    font-weight: 600;
    font-size: 20px;
  }
`,eee=()=>{const n=Ec(localStorage.getItem("room")),[e,t]=Z.exports.useState("floor"),r=mt(c=>c.updateObject),i=mt(c=>c.resetState);mt(c=>c.config.screenMode);const s=mt(c=>c.config.showRoom),[o,a]=Z.exports.useState(!1),[l,u]=Z.exports.useState(localStorage.getItem("screenType"));return Z.exports.useEffect(()=>{if(n){let c;const h=()=>{l!=="floor"&&(c=setInterval(()=>{a(!0),clearInterval(c)},6e7))};return h(),n.on("configurator change",p=>{t(p.configurator),i("config")}),n.on("store change",({object:p,field:m,value:y})=>{r(p,m,y)}),n.on("active",()=>{clearInterval(c),c=0,a(!1),h()}),()=>{n.disconnect()}}},[n]),Ie($n,{children:[o?H($n,{children:Ie(tee,{width:"100%",height:"100%",autoPlay:!0,muted:!0,loop:!0,children:[H("source",{src:VZ,type:"video/mp4"}),"Your browser does not support the video tag."]})}):Ie($n,{children:[e==="door"&&H(mE,{}),e==="closet"&&H("h1",{children:"Kast"}),e==="floor"&&s===!1&&H(pE,{}),e==="floor"&&s===!0&&H($Z,{})]}),H(YZ,{})]})},tee=ke.video`
  height: 100vh;
  background: #1C1B1B;
  overflow: hidden;
  position: absolute;
`;var _x=[{name:"Eik Caledonia LD150 Premium 6421",category:"laminaat",texture:"6421_laminate_LD150_Diele",id:"ld1506421",height:80,width:198,length:1288,thumbnail:"/testimgs/thumbnails/ld1506421.jpg",room:"/testimgs/rooms/ld1506421.jpg",brand:"meister",pattern:"planks",numberOfTextures:8,color:"licht",price_incl:22.74,m2_per_box:2.55},{name:"Eik Gebarsten Licht LC55 6258",category:"laminaat",texture:"6258_laminate_LC55_Diele",id:"lc556258",height:80,width:198,length:1288,thumbnail:"/testimgs/thumbnails/lc556258.jpg",room:"/testimgs/rooms/lc556258.jpg",brand:"meister",pattern:"planks",numberOfTextures:8,color:"donker",price_incl:16.46,m2_per_box:3.06},{name:"Eik Gebarsten Terra LD 150 Premium 6439",category:"laminaat",texture:"6439_laminate_LD150_Diele",id:"ld1506439",height:80,width:198,length:1288,thumbnail:"/testimgs/thumbnails/ld1506439.jpg",room:"/testimgs/rooms/ld1506439.jpg",brand:"meister",pattern:"planks",numberOfTextures:8,color:"licht",price_incl:22.74,m2_per_box:2.55},{name:"Eik Marrakech LC55 6396",category:"laminaat",texture:"6396_laminate_LC55_Diele",id:"lc556396",height:70,width:198,length:1288,thumbnail:"/testimgs/thumbnails/lc556396.jpg",room:"/testimgs/rooms/lc556396.jpg",brand:"meister",pattern:"planks",numberOfTextures:8,color:"licht",price_incl:16.46,m2_per_box:3.06},{name:"Eik Relax Pure LD150 Premium 6863",category:"laminaat",texture:"6863_laminate_LD150_Diele",id:"ld1506863",height:80,width:198,length:1288,thumbnail:"/testimgs/thumbnails/ld1506863.jpg",room:"/testimgs/rooms/ld1506863.jpg",brand:"meister",pattern:"planks",numberOfTextures:8,color:"licht",price_incl:22.74,m2_per_box:2.55},{name:"Eik Taverna LD150 Premium 6428",category:"laminaat",texture:"6428_laminate_LD150_Diele",id:"ld1506428",height:80,width:198,length:1288,thumbnail:"/testimgs/thumbnails/ld1506428.jpg",room:"/testimgs/rooms/ld1506428.jpg",brand:"meister",pattern:"planks",numberOfTextures:8,color:"donker",price_incl:22.74,m2_per_box:2.55},{name:"Veldeik licht LL150 Premium 6843",category:"laminaat",texture:"6843_laminate_LL150_Diele",id:"ll1506843",height:80,width:198,length:1288,thumbnail:"/testimgs/thumbnails/ll1506843.jpg",room:"/testimgs/rooms/ll1506843.jpg",brand:"meister",pattern:"planks",numberOfTextures:8,color:"licht",price_incl:28.59,m2_per_box:2.71},{name:"Parky 0002 valley oak rustic lich q01",category:"parket",texture:"SUXB198",id:"SUXB198",height:80,width:198,length:1288,thumbnail:"/testimgs/thumbnails/ll1506843.jpg",room:"/testimgs/rooms/ll1506843.jpg",brand:"parky",pattern:"planks",numberOfTextures:8,color:"licht",price_incl:22.74,m2_per_box:2.55},{name:"parky 0003 europian oak premium swing q01",category:"parket",texture:"SWXB101",id:"SWXB101",height:10,width:121,length:593,thumbnail:"/testimgs/thumbnails/ll1506843.jpg",room:"/testimgs/rooms/ll1506843.jpg",brand:"parky",pattern:"visgraat",numberOfTextures:10,color:"licht",price_incl:22.74,m2_per_box:2.55}],nee="/assets/filterArrow.4e034591.svg";const ree=({onClick:n,itemName:e,itemContent:t,isActive:r})=>Ie($n,{children:[Ie(oee,{onClick:n,children:[e,H("div",{}),H(aee,{isActive:r,children:H("img",{src:nee})})]}),H(lee,{itemName:e,isActive:r,children:H(see,{id:e,children:t})})]}),XD=({items:n,multiple:e})=>{const[t,r]=Z.exports.useState(),[i,s]=Z.exports.useState([]);let o=[...n].map(l=>({name:l.name,active:!1}));Z.exports.useEffect(()=>{s(o)},[]);const a=l=>{if(r(l===t?null:l),e){let u=i.findIndex(h=>h.name===l),c=[...i];c[u].active=!c[u].active,s(c)}};return H(iee,{children:n.map((l,u)=>{let c=t===l.name;return e&&(c=i.some(h=>h.name===l.name&&h.active)),H(ree,{onClick:()=>a(l.name),itemName:l.name,itemContent:l.content,isActive:c},u)})})},iee=ke.div`
  overlow: hidden;
  margin-top: 100px;
  margin-bottom: 25px;
`,see=ke.div`
  padding: 8px;
`,oee=ke.button`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  height: 10px;
  font-size: 24px;
  cursor: pointer;
  margin-top: 30px;
  background: transparent;
  border: none;
  color: rgb(14, 14, 14);

  div {
    border-top: 1px solid;
    width: 100%;
    margin: 0 10px;
  }
`,aee=ke.span`
  transform: rotate(${n=>n.isActive?-90:0}deg);
  transition: all 0.2s;
`,lee=ke.div`
  position: relative;
  overflow: hidden;
  height: ${n=>`${n.isActive?"fit-content":"0px"}`};
  transition: height 0.35s;
  font-size: 12px;
`,sc=({items:n,handleFilter:e,getter:t,setter:r})=>H("div",{style:{display:"flex",flexFlow:"column"},children:n.map(i=>Ie(uee,{style:{display:i.count>0?"block":"none"},children:[H("input",{type:"checkbox",name:i.name,onChange:s=>e(s.target.name,t,r)})," ",i.name," (",i.count,")"]},i.id))}),uee=ke.label`
  font-size: 18px;
  margin-bottom: 10px;
  text-transform: capitalize;
  cursor: pointer;

  &:first-child {
    margin-top: 10px;
  }

  &:last-child {
    margin-bottom: 0px;
  }
`;var gE="/assets/trash.2349f041.svg";const cee=({setPopup:n,setListCheck:e,listCheck:t,useOnClickOutside:r,socket:i})=>{const[s,o]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),a=mt(y=>y.floors),l=mt(y=>y.updateSelectedFloor),u=mt(y=>y.deleteFloor),c=mt(y=>y.client.vierkantemeters),h=Ka(),p=Z.exports.useRef();r(p,()=>{n(!1),e(!1)});const m=async()=>{if(l(a[0]),!s)return h("/view");await i.emit("get floors",a),await i.emit("selecteded floor",a[0]),await i.emit("get meters",c),h("/view")};return H(fee,{children:Ie(hee,{ref:p,children:[Ie(dee,{children:[H("span",{children:a.length})," vloeren geselecteerd"]}),H(pee,{children:a.map(y=>Ie(mee,{children:[Ie("div",{children:[H("img",{src:y.thumbnail,alt:y.name}),H("p",{children:y.name})]}),H("button",{onClick:()=>u(y),children:H("img",{src:gE,alt:"trash/delete icon",width:22})})]},y.id))}),a.length===0&&H("p",{children:"Selecteer een vloer"}),Ie(gee,{children:[H("button",{style:{background:"#C0C0C0"},onClick:()=>{n(!1),e(!1)},children:"terug"}),a.length>=1&&!t&&H("button",{onClick:()=>m(),children:"start"})]})]})})},fee=ke.div`
  position: fixed;
  width: 100vw;
  height: 100vh;
  top: 0;
  background-color: rgba(14, 14, 14, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
`,hee=ke.div`
  background: white;
  padding: 25px;
  gap: 30px;
  flex-flow: column;
  display: flex;
`,dee=ke.h2`
  font-family: "Petrona";
  font-weight: 500;
  font-size: 24px;

  span {
    font-weight: 700;
    color: #bb5018;
  }
`,pee=ke.ul`
  max-height: 400px;
  overflow: scroll;
  -ms-overflow-style: none;
  scrollbar-width: none;
`,mee=ke.li`
  list-style: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 15px;
  margin-bottom: 15px;

  div {
    display: flex;
    align-items: center;

    img {
      width: 40px;
      height: 40px;
      margin-right: 10px;
    }
  }

  button {
    border: none;
    background: white;
    cursor: pointer;
  }
`,gee=ke.div`
  display: flex;
  justify-content: space-between;

  button {
    background-color: rgb(187, 80, 24);
    font-weight: 300;
    padding: 10px 20px;
    color: rgb(255, 255, 255);
    border: none;
    text-transform: uppercase;
    cursor: pointer;
    font-size: 15px;
  }
`;var $D="/assets/check.501a1ec4.svg";const vee=()=>{mt(e=>e.client.vierkantemeters);const n=mt(e=>e.updateObject);return Ie(yee,{children:[H(xee,{children:"Klant oppervlakte (m\xB2)"}),H(wee,{children:"optioneel*"}),H(_ee,{type:"text",onChange:e=>n("client","vierkantemeters",e.target.value)})]})},yee=ke.div`
  background: #fff;
  padding: 30px 20px;
  width: 330px;
  margin-top: 40px;
`,xee=ke.p`
  font-weight: 600;
  font-size: 20px;
  margin-bottom: 5px;
`,wee=ke.p`
  font-weight: 400;
  font-size: 12px;
  margin-bottom: 5px;
`,_ee=ke.input`
  border: 1px solid #989898;
  padding: 10px;
  width: 100%;

  &:after {
    content: "M2"
    
  }
`,bee=({setter:n,getter:e})=>Ie($n,{children:[Ie("p",{style:{marginBottom:"10px"},children:["Maximum prijs: \u20AC",e]}),H(See,{type:"range",value:e,onInput:t=>n(t.target.value)})]}),See=ke.input`
  -webkit-appearance: none;
  width: 100%;
  background: transparent;

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    -webkit-appearance: none;
    border: 1px solid #000000;
    height: 16px;
    width: 36px;
    border-radius: 3px;
    background: #ffffff;
    cursor: pointer;
    margin-top: -5px;
    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  }

  &::-moz-range-thumb {
    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
    border: 1px solid #000000;
    height: 16px;
    width: 36px;
    border-radius: 3px;
    background: #ffffff;
    cursor: pointer;
  }

  &::-ms-thumb {
    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
    border: 1px solid #000000;
    height: 16px;
    width: 36px;
    border-radius: 3px;
    background: #ffffff;
    cursor: pointer;
  }

  &:focus {
    outline: none;
  }

  &::-ms-track {
    width: 100%;
    cursor: pointer;

    background: transparent;
    border-color: transparent;
    color: transparent;

    width: 100%;
    height: 8.4px;
    cursor: pointer;
    background: transparent;
    border-color: transparent;
    border-width: 16px 0;
    color: transparent;
  }

  &::-webkit-slider-runnable-track {
    width: 100%;
    height: 8.4px;
    cursor: pointer;
    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
    background: #3071a9;
    border-radius: 1.3px;
    border: 0.2px solid #010101;
  }

  &:focus::-webkit-slider-runnable-track {
    background: #9f4414;
  }

  &::-moz-range-track {
    width: 100%;
    height: 8.4px;
    cursor: pointer;
    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
    background: #9f4414;
    border-radius: 1.3px;
    border: 0.2px solid #010101;
  }

  &::-ms-fill-lower {
    background: #9f4414;
    border: 0.2px solid #010101;
    border-radius: 2.6px;
    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  }

  &:focus::-ms-fill-lower {
    background: #9f4414;
  }

  &::-ms-fill-upper {
    background: #9f4414;
    border: 0.2px solid #010101;
    border-radius: 2.6px;
    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  }

  &:focus::-ms-fill-upper {
    background: #9f4414;
  }
`,Aee=()=>{const n=Ka(),[e,t]=Z.exports.useState(_x),[r,i]=Z.exports.useState(!1),[s,o]=Z.exports.useState(100),[a,l]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),[u,c]=Z.exports.useState(!1),[h,p]=Z.exports.useState([]),[m,y]=Z.exports.useState([]),[g,x]=Z.exports.useState([]),[w,_]=Z.exports.useState([]),[A,C]=Z.exports.useState([]),T=mt(F=>F.floors),D=mt(F=>F.filterFloor),I=mt(F=>F.resetFloor),B=a?Ec(localStorage.getItem("room")):null;Z.exports.useEffect(()=>{if(A.length===0&&t(_x),A.length||s){const F=_x.filter(X=>h.length?A.includes(X.category):!0).filter(X=>m.length?A.includes(X.brand):!0).filter(X=>w.length?A.includes(X.pattern):!0).filter(X=>g.length?A.includes(X.color):!0).filter(X=>X.price_incl<parseInt(s));t(F)}},[A,s]);const W=()=>{e.map(F=>{if(T.includes(F))return null;D(F)})},G=(F,X)=>e.filter(ve=>F.includes(X==="vloertype"?ve.category:X==="merken"?ve.brand:X==="kleuren"?ve.color:ve.pattern)).length,L=(F,X,ie)=>{X.includes(F)?(ie(X.filter(ve=>ve!==F)),C(A.filter(ve=>ve!==F))):(ie([...X,F]),C([...A,F]))},P=[{id:1,name:"laminaat",count:G("laminaat","vloertype"),type:"vloertypes"},{id:2,name:"parket",count:G("parket","vloertype"),type:"vloertypes"},{id:3,name:"vinyl",count:G("vinyl","vloertype"),type:"vloertypes"}],q=[{id:1,name:"meister",count:G("meister","merken"),type:"merken"},{id:2,name:"brico",count:G("brico","merken"),type:"merken"},{id:3,name:"parky",count:G("parky","merken"),type:"merken"}],z=[{id:1,name:"licht",count:G("licht","kleuren"),type:"kleuren"},{id:2,name:"donker",count:G("donker","kleuren"),type:"kleuren"}],ne=[{id:1,name:"visgraat",count:G("visgraat","legpatronen"),type:"legpatronen"},{id:2,name:"planks",count:G("planks","legpatronen"),type:"legpatronen"},{id:3,name:"chevron",count:G("chevron","legpatronen"),type:"legpatronen"}];let re=[{name:"Vloertypes",content:H(sc,{items:P,handleFilter:L,getter:h,setter:p})},{name:"Merken",content:H(sc,{items:q,handleFilter:L,getter:m,setter:y})},{name:"Kleuren",content:H(sc,{items:z,handleFilter:L,getter:g,setter:x})},{name:"Legpatronen",content:H(sc,{items:ne,handleFilter:L,getter:w,setter:_})}];const le=(F,X)=>{Z.exports.useEffect(()=>{const ie=ve=>{!F.current||F.current.contains(ve.target)||X(ve)};return document.addEventListener("mousedown",ie),document.addEventListener("touchstart",ie),()=>{document.removeEventListener("mousedown",ie),document.removeEventListener("touchstart",ie)}},[F,X])};return Ie("div",{children:[Ie(Mee,{children:[Ie(Eee,{children:[Ie(Cee,{children:[Ie(Tee,{onClick:()=>n("/"),children:[H(G1,{}),"Terug keren"]}),A.length>0&&H(Lee,{onClick:()=>W(),children:"Alles selecteren"})]}),Ie(Ree,{children:["Er zijn ",H("span",{children:e.length})," vloeren gevonden met uw specificaties"]}),H(Pee,{children:e.map(F=>Ie(Bee,{bgimage:F.thumbnail,active:T.includes(F),onClick:()=>D(F),children:[T.includes(F)&&H(kee,{children:H("img",{src:$D,alt:"selected icon"})}),Ie(Iee,{children:[Ie(Nee,{children:[F.name," | ",F.brand]}),Ie(Dee,{children:["\u20AC",F.price_incl," / m\xB2"]})]})]},F.id))})]}),Ie(Fee,{children:[H(Oee,{onClick:()=>I(),children:"Lijst leeg maken"}),H(XD,{multiple:!0,items:re}),H(bee,{setter:o,getter:s}),H(vee,{}),Ie(Uee,{children:[H(zee,{onClick:()=>{i(!0),c(!0)},children:"lijst"}),H("button",{onClick:()=>i(!0),children:"verder gaan"})]})]})]}),r&&H(cee,{socket:B,setPopup:i,setListCheck:c,listCheck:u,useOnClickOutside:le})]})},Mee=ke.div`
  display: flex;
`,Eee=ke.div`
  padding: 25px 35px 35px;
`,Cee=ke.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 40px
`,Tee=ke.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
`,Lee=ke.button`
  font-size: 15px;
  color: #ffffff;
  padding: 16px 30px;
  border: none;
  cursor: pointer;
  text-transform: uppercase;
  background: #BB5018;
`,Ree=ke.p`
  font-size: 20px;
  margin-bottom: 35px;
  width: 65%;
 
  @media (min-width: 900px) {
    width: 100%;
  }

  span {
    font-weight: bold;
    color: #9f4414;
  }
`,Pee=ke.div`
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  gap: 115px 35px;
  padding-bottom: 80px;
  cursor: pointer;

  @media (min-width: 1040px) {
    grid-template-columns: repeat(2, 1fr);
  }

  @media (min-width: 1370px) {
    grid-template-columns: repeat(3, 1fr);
  }

  @media (min-width: 1660px) {
    grid-template-columns: repeat(4, 1fr);
  }
`,Bee=ke.div`
  height: 229px;
  width: 273px;
  background-image: ${({bgimage:n})=>`url(${n})`};
  background-size: 210%;
  background-position: center;
  position: relative;
  border: ${({active:n})=>n?"3px solid #bb5018":"3px solid white"};
`,kee=ke.div`
  width: 26px;
  background: #BB5018;
  position: absolute;
  top: 10px;
  right: 10px;
  display: flex;
  align-items: end;
  border-radius: 50%;
`,Iee=ke.div`
  position: absolute;
  bottom: -45px;
  width: 100%;
  height: 45px;
  display: flex;
  flex-flow: column;

`,Nee=ke.p`
  font-size: 14px;
  font-weight: 500;
  color: rgb(14, 14, 14);
  padding: 10px 10px 10px 0;
  text-overflow: ellipsis;
  max-width: 260px;
  text-transform: uppercase;
`,Dee=ke.p`
  font-size: 22px;
  font-weight: 500;
`,Fee=ke.div`
  width: 411px;
  background-color: #fcf6f3;
  position: fixed;
  right: 0;
  height: 100vh;
  padding: 25px 35px;
  overflow-y: scroll;
`,Oee=ke.button`
  font-size: 15px;
  background-color: #141414;
  color: #fff;
  padding: 16px 30px;
  font-weight: 300;
  border: none;
  cursor: pointer;
  transition: .5s;
  position: absolute;
  right: 35px;
  text-transform: uppercase;

  &:hover {
    background: #72300e;
  }
`,Uee=ke.div`
  display: flex;
  justify-content: space-between;
  margin-top: 20px;

  button {
    background: #BB5018;
    color: white;
    border: none;
    padding: 16px 30px;
    font-size: 15px;
    font-weight: 300;
    text-transform: uppercase;
    cursor: pointer;
    transition: .5s;

    &:hover {
      background-color: #9f4414
    }
  }
`,zee=ke.button`
  background-color: #E48655 !important;
  transition: .5s;

  &:hover {
    background-color: #9f4414 !important
  }
`,Yw=(n,e)=>{Z.exports.useEffect(()=>{const t=r=>{!n.current||n.current.contains(r.target)||e(r)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[n,e])};var Xb=[{id:1,name:"Deur 1",brand:"merk 1",thumbnail:"/testimgs/door-thumbnails/deur1.png",model:"type 1",material:"materiaal 1",color:"kleur 1",houtsoort:"houtsoort 1",price_incl:"0.00"},{id:2,name:"Deur 2",brand:"merk 2",thumbnail:"/testimgs/door-thumbnails/deur2.png",model:"type 2",material:"materiaal 2",color:"kleur 2",houtsoort:"houtsoort 2",price_incl:"0.00"}];const Hee=({setPopup:n,setListCheck:e,listCheck:t,useOnClickOutside:r,socket:i})=>{const[s,o]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),a=mt(m=>m.doors),l=mt(m=>m.updateSelectedDoor),u=mt(m=>m.deleteDoor);mt(m=>m.client.vierkantemeters);const c=Ka(),h=Z.exports.useRef();r(h,()=>{n(!1),e(!1)});const p=async()=>{if(l(a[0]),!s)return c("/door");c("/door")};return H(Gee,{children:Ie(jee,{ref:h,children:[Ie(Wee,{children:[H("span",{children:a.length})," vloeren geselecteerd"]}),H(Vee,{children:a.map(m=>Ie(qee,{children:[Ie("div",{children:[H("img",{src:m.thumbnail,alt:m.name}),H("p",{children:m.name})]}),H("button",{onClick:()=>u(m),children:H("img",{src:gE,alt:"trash/delete icon",width:22})})]},m.id))}),a.length===0&&H("p",{children:"Selecteer een vloer"}),Ie(Yee,{children:[H("button",{style:{background:"#C0C0C0"},onClick:()=>{n(!1),e(!1)},children:"terug"}),a.length>=1&&!t&&H("button",{onClick:()=>p(),children:"start"})]})]})})},Gee=ke.div`
  position: fixed;
  width: 100vw;
  height: 100vh;
  top: 0;
  background-color: rgba(14, 14, 14, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
`,jee=ke.div`
  background: white;
  padding: 25px;
  gap: 30px;
  flex-flow: column;
  display: flex;
`,Wee=ke.h2`
  font-family: "Petrona";
  font-weight: 500;
  font-size: 24px;

  span {
    font-weight: 700;
    color: #bb5018;
  }
`,Vee=ke.ul`
  max-height: 400px;
  overflow: scroll;
  -ms-overflow-style: none;
  scrollbar-width: none;
`,qee=ke.li`
  list-style: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 15px;
  margin-bottom: 15px;

  div {
    display: flex;
    align-items: center;

    img {
      width: 40px;
      height: 40px;
      margin-right: 10px;
    }
  }

  button {
    border: none;
    background: white;
    cursor: pointer;
  }
`,Yee=ke.div`
  display: flex;
  justify-content: space-between;

  button {
    background-color: rgb(187, 80, 24);
    font-weight: 300;
    padding: 10px 20px;
    color: rgb(255, 255, 255);
    border: none;
    text-transform: uppercase;
    cursor: pointer;
    font-size: 15px;
  }
`,Jee=()=>{const n=Ka(),[e,t]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),[r,i]=Z.exports.useState(!1),[s,o]=Z.exports.useState(Xb),[a,l]=Z.exports.useState(!1),[u,c]=Z.exports.useState([]),[h,p]=Z.exports.useState([]),[m,y]=Z.exports.useState([]),[g,x]=Z.exports.useState([]),[w,_]=Z.exports.useState([]),[A,C]=Z.exports.useState([]),T=mt(F=>F.doors),D=mt(F=>F.resetDoor),I=e?Ec(localStorage.getItem("room")):null,B=mt(F=>F.filterDoor);Z.exports.useEffect(()=>{if(A.length===0&&o(Xb),A.length){const F=Xb.filter(X=>u.length?A.includes(X.model):!0).filter(X=>h.length?A.includes(X.material):!0).filter(X=>g.length?A.includes(X.brand):!0).filter(X=>w.length?A.includes(X.color):!0).filter(X=>m.length?A.includes(X.houtsoort):!0);o(F)}},[A]);const W=()=>{s.map(F=>{if(T.includes(F))return null;B(F)})},G=(F,X)=>s.filter(ve=>F.includes(X==="deurtypes"?ve.model:X==="materialen"?ve.material:X==="merken"?ve.brand:X==="kleuren"?ve.color:X==="houtsoorten"?ve.houtsoort:null)).length,L=(F,X,ie)=>{X.includes(F)?(ie(X.filter(ve=>ve!==F)),C(A.filter(ve=>ve!==F))):(ie([...X,F]),C([...A,F]))},P=[{id:1,name:"type 1",count:G("type 1","deurtypes"),type:"deurtypes"},{id:2,name:"type 2",count:G("type 2","deurtypes"),type:"deurtypes"}],q=[{id:1,name:"materiaal 1",count:G("materiaal 1","materialen"),type:"materialen"},{id:2,name:"materiaal 2",count:G("materiaal 2","materialen"),type:"materialen"}],z=[{id:1,name:"merk 1",count:G("merk 1","merken"),type:"merken"},{id:2,name:"merk 2",count:G("merk 2","merken"),type:"merken"}],ne=[{id:1,name:"kleur 1",count:G("kleur 1","kleuren"),type:"kleuren"},{id:2,name:"kleur 2",count:G("kleur 2","kleuren"),type:"kleuren"}],re=[{id:1,name:"houtsoort 1",count:G("houtsoort 1","houtsoorten"),type:"houtsoorten"},{id:2,name:"houtsoort 2",count:G("houtsoort 2","houtsoorten"),type:"houtsoorten"}];let le=[{name:"Modellen",content:H(sc,{items:P,handleFilter:L,getter:u,setter:c})},{name:"Materialen",content:H(sc,{items:q,handleFilter:L,getter:h,setter:p})},{name:"Merken",content:H(sc,{items:z,handleFilter:L,getter:g,setter:x})},{name:"Kleuren",content:H(sc,{items:ne,handleFilter:L,getter:w,setter:_})},{name:"houtsoorten",content:H(sc,{items:re,handleFilter:L,getter:m,setter:y})}];return Ie("div",{children:[Ie(Xee,{children:[Ie($ee,{children:[Ie(Kee,{children:[Ie(Qee,{onClick:()=>n("/"),children:[H(G1,{}),"Terug keren"]}),A.length>0&&H(Zee,{onClick:()=>W(),children:"Alles selecteren"})]}),Ie(ete,{children:["Er zijn ",H("span",{children:s.length})," deuren gevonden met uw specificaties"]}),H(tte,{children:s.map(F=>Ie(nte,{bgimage:F.thumbnail,active:T.includes(F),onClick:()=>B(F),children:[T.includes(F)&&H(rte,{children:H("img",{src:$D,alt:"selected icon"})}),Ie(ite,{children:[Ie(ste,{children:[F.name," | ",F.brand]}),Ie(ote,{children:["\u20AC",F.price_incl]})]})]},F.id))})]}),Ie(ate,{children:[H(lte,{onClick:()=>D(),children:"Lijst leeg maken"}),H(XD,{multiple:!0,items:le}),Ie(ute,{children:[H(cte,{onClick:()=>{l(!0),i(!0)},children:"lijst"}),H("button",{onClick:()=>l(!0),children:"verder gaan"})]})]})]}),a&&H(Hee,{socket:I,setPopup:l,setListCheck:i,listCheck:r,useOnClickOutside:Yw})]})},Xee=ke.div`
  display: flex;
`,$ee=ke.div`
  padding: 25px 35px 35px;
`,Kee=ke.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 40px;
`,Qee=ke.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
`,Zee=ke.button`
  font-size: 15px;
  color: #ffffff;
  padding: 16px 30px;
  border: none;
  cursor: pointer;
  text-transform: uppercase;
  background: #bb5018;
`,ete=ke.p`
  font-size: 20px;
  margin-bottom: 35px;
  width: 65%;

  @media (min-width: 900px) {
    width: 100%;
  }

  span {
    font-weight: bold;
    color: #9f4414;
  }
`,tte=ke.div`
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  gap: 115px 35px;
  padding-bottom: 80px;
  cursor: pointer;

  @media (min-width: 1040px) {
    grid-template-columns: repeat(2, 1fr);
  }

  @media (min-width: 1370px) {
    grid-template-columns: repeat(3, 1fr);
  }

  @media (min-width: 1660px) {
    grid-template-columns: repeat(4, 1fr);
  }
`,nte=ke.div`
  height: 229px;
  width: 273px;
  background-image: ${({bgimage:n})=>`url(${n})`};
  background-size: 210%;
  background-position: center;
  position: relative;
  border: ${({active:n})=>n?"3px solid #bb5018":"3px solid white"};
`,rte=ke.div`
  width: 26px;
  height: 26px;
  padding: 3px;
  background: #bb5018;
  position: absolute;
  top: 10px;
  right: 10px;
  display: flex;
  border-radius: 50%;
`,ite=ke.div`
  position: absolute;
  bottom: -45px;
  width: 100%;
  height: 45px;
  display: flex;
  flex-flow: column;
`,ste=ke.p`
  font-size: 14px;
  font-weight: 500;
  color: rgb(14, 14, 14);
  padding: 10px 10px 10px 0;
  text-overflow: ellipsis;
  max-width: 260px;
  text-transform: uppercase;
`,ote=ke.p`
  font-size: 22px;
  font-weight: 500;
`,ate=ke.div`
  width: 411px;
  background-color: #fcf6f3;
  position: fixed;
  right: 0;
  height: 100vh;
  padding: 25px 35px;
  overflow-y: scroll;
`,lte=ke.button`
  font-size: 15px;
  background-color: #141414;
  color: #fff;
  padding: 16px 30px;
  font-weight: 300;
  border: none;
  cursor: pointer;
  transition: 0.5s;
  position: absolute;
  right: 35px;
  text-transform: uppercase;

  &:hover {
    background: #72300e;
  }
`,ute=ke.div`
  display: flex;
  justify-content: space-between;
  margin-top: 20px;

  button {
    background: #bb5018;
    color: white;
    border: none;
    padding: 16px 30px;
    font-size: 15px;
    font-weight: 300;
    text-transform: uppercase;
    cursor: pointer;
    transition: 0.5s;

    &:hover {
      background-color: #9f4414;
    }
  }
`,cte=ke.button`
  background-color: #e48655 !important;
  transition: 0.5s;

  &:hover {
    background-color: #9f4414 !important;
  }
`;var KD="/assets/chevron-up.10c38d97.svg";const fte="Left",hte="Right",dte="Up",pte="Down",im={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},gA={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},b4="mousemove",S4="mouseup",mte="touchend",gte="touchmove",vte="touchstart";function yte(n,e,t,r){return n>e?t>0?hte:fte:r>0?pte:dte}function A4(n,e){if(e===0)return n;const t=Math.PI/180*e,r=n[0]*Math.cos(t)+n[1]*Math.sin(t),i=n[1]*Math.cos(t)-n[0]*Math.sin(t);return[r,i]}function xte(n,e){const t=c=>{const h="touches"in c;h&&c.touches.length>1||n((p,m)=>{m.trackMouse&&!h&&(document.addEventListener(b4,r),document.addEventListener(S4,o));const{clientX:y,clientY:g}=h?c.touches[0]:c,x=A4([y,g],m.rotationAngle);return m.onTouchStartOrOnMouseDown&&m.onTouchStartOrOnMouseDown({event:c}),Object.assign(Object.assign(Object.assign({},p),gA),{initial:x.slice(),xy:x,start:c.timeStamp||0})})},r=c=>{n((h,p)=>{const m="touches"in c;if(m&&c.touches.length>1)return h;if(c.timeStamp-h.start>p.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;const{clientX:y,clientY:g}=m?c.touches[0]:c,[x,w]=A4([y,g],p.rotationAngle),_=x-h.xy[0],A=w-h.xy[1],C=Math.abs(_),T=Math.abs(A),D=(c.timeStamp||0)-h.start,I=Math.sqrt(C*C+T*T)/(D||1),B=[_/(D||1),A/(D||1)],W=yte(C,T,_,A),G=typeof p.delta=="number"?p.delta:p.delta[W.toLowerCase()]||im.delta;if(C<G&&T<G&&!h.swiping)return h;const L={absX:C,absY:T,deltaX:_,deltaY:A,dir:W,event:c,first:h.first,initial:h.initial,velocity:I,vxvy:B};L.first&&p.onSwipeStart&&p.onSwipeStart(L),p.onSwiping&&p.onSwiping(L);let P=!1;return(p.onSwiping||p.onSwiped||p[`onSwiped${W}`])&&(P=!0),P&&p.preventScrollOnSwipe&&p.trackTouch&&c.cancelable&&c.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:L,swiping:!0})})},i=c=>{n((h,p)=>{let m;if(h.swiping&&h.eventData){if(c.timeStamp-h.start<p.swipeDuration){m=Object.assign(Object.assign({},h.eventData),{event:c}),p.onSwiped&&p.onSwiped(m);const y=p[`onSwiped${m.dir}`];y&&y(m)}}else p.onTap&&p.onTap({event:c});return p.onTouchEndOrOnMouseUp&&p.onTouchEndOrOnMouseUp({event:c}),Object.assign(Object.assign(Object.assign({},h),gA),{eventData:m})})},s=()=>{document.removeEventListener(b4,r),document.removeEventListener(S4,o)},o=c=>{s(),i(c)},a=(c,h)=>{let p=()=>{};if(c&&c.addEventListener){const m=Object.assign(Object.assign({},im.touchEventOptions),h.touchEventOptions),y=[[vte,t,m],[gte,r,Object.assign(Object.assign({},m),h.preventScrollOnSwipe?{passive:!1}:{})],[mte,i,m]];y.forEach(([g,x,w])=>c.addEventListener(g,x,w)),p=()=>y.forEach(([g,x])=>c.removeEventListener(g,x))}return p},u={ref:c=>{c!==null&&n((h,p)=>{if(h.el===c)return h;const m={};return h.el&&h.el!==c&&h.cleanUpTouch&&(h.cleanUpTouch(),m.cleanUpTouch=void 0),p.trackTouch&&c&&(m.cleanUpTouch=a(c,p)),Object.assign(Object.assign(Object.assign({},h),{el:c}),m)})}};return e.trackMouse&&(u.onMouseDown=t),[u,a]}function wte(n,e,t,r){return!e.trackTouch||!n.el?(n.cleanUpTouch&&n.cleanUpTouch(),Object.assign(Object.assign({},n),{cleanUpTouch:void 0})):n.cleanUpTouch?e.preventScrollOnSwipe!==t.preventScrollOnSwipe||e.touchEventOptions.passive!==t.touchEventOptions.passive?(n.cleanUpTouch(),Object.assign(Object.assign({},n),{cleanUpTouch:r(n.el,e)})):n:Object.assign(Object.assign({},n),{cleanUpTouch:r(n.el,e)})}function _te(n){const{trackMouse:e}=n,t=Z.exports.useRef(Object.assign({},gA)),r=Z.exports.useRef(Object.assign({},im)),i=Z.exports.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},im),n);let s;for(s in im)r.current[s]===void 0&&(r.current[s]=im[s]);const[o,a]=Z.exports.useMemo(()=>xte(l=>t.current=l(t.current,r.current),{trackMouse:e}),[e]);return t.current=wte(t.current,r.current,i.current,a),o}const bte={delta:10,preventScrollOnSwipe:!1,trackTouch:!0,trackMouse:!0,rotationAngle:0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Ste=({handleNextSlide:n})=>{const e=mt(i=>i.selectedFloor.room),t=mt(i=>i.floors),r=_te(Bt({onSwipedLeft:i=>n("volgende"),onSwipedRight:i=>n("vorige")},bte));return H(Ate,Bn(Bt({},r),{children:t.map(({room:i,id:s})=>H(Mte,{style:{zIndex:e===i?"10":"1"},render:i},s))}))},Ate=ke.div`
  height: 100vh;
  overflow: hidden;
  position: fixed;
  width: 100%;
  z-index: 10;
`,Mte=ke.div`
  height: 100vh;
  width: 100vw;
  overflow: hidden;
  background-image: ${({render:n})=>`url(${n})`};
  background-repeat: no-repeat;
  background-size: cover;
  position: absolute;
  top: 0;
  left: 0;
`,QD=({link:n})=>{const e=Ka();return Ie(Ete,{onClick:()=>e(n),children:[H(G1,{}),H("p",{children:"Terug keren"})]})},Ete=ke.div`
  cursor: pointer;
  margin: 50px;
  position: fixed;
  z-index: 11;
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 500;
`;var vE={exports:{}},ZD=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}},Cte=ZD,yE=Object.prototype.toString,xE=function(n){return function(e){var t=yE.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}}(Object.create(null));function Fd(n){return n=n.toLowerCase(),function(t){return xE(t)===n}}function wE(n){return Array.isArray(n)}function d2(n){return typeof n=="undefined"}function Tte(n){return n!==null&&!d2(n)&&n.constructor!==null&&!d2(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}var eF=Fd("ArrayBuffer");function Lte(n){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&eF(n.buffer),e}function Rte(n){return typeof n=="string"}function Pte(n){return typeof n=="number"}function tF(n){return n!==null&&typeof n=="object"}function bx(n){if(xE(n)!=="object")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}var Bte=Fd("Date"),kte=Fd("File"),Ite=Fd("Blob"),Nte=Fd("FileList");function _E(n){return yE.call(n)==="[object Function]"}function Dte(n){return tF(n)&&_E(n.pipe)}function Fte(n){var e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||yE.call(n)===e||_E(n.toString)&&n.toString()===e)}var Ote=Fd("URLSearchParams");function Ute(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function zte(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function bE(n,e){if(!(n===null||typeof n=="undefined"))if(typeof n!="object"&&(n=[n]),wE(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.call(null,n[i],i,n)}function vA(){var n={};function e(i,s){bx(n[s])&&bx(i)?n[s]=vA(n[s],i):bx(i)?n[s]=vA({},i):wE(i)?n[s]=i.slice():n[s]=i}for(var t=0,r=arguments.length;t<r;t++)bE(arguments[t],e);return n}function Hte(n,e,t){return bE(e,function(i,s){t&&typeof i=="function"?n[s]=Cte(i,t):n[s]=i}),n}function Gte(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}function jte(n,e,t,r){n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,t&&Object.assign(n.prototype,t)}function Wte(n,e,t){var r,i,s,o={};e=e||{};do{for(r=Object.getOwnPropertyNames(n),i=r.length;i-- >0;)s=r[i],o[s]||(e[s]=n[s],o[s]=!0);n=Object.getPrototypeOf(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e}function Vte(n,e,t){n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return r!==-1&&r===t}function qte(n){if(!n)return null;var e=n.length;if(d2(e))return null;for(var t=new Array(e);e-- >0;)t[e]=n[e];return t}var Yte=function(n){return function(e){return n&&e instanceof n}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),Cs={isArray:wE,isArrayBuffer:eF,isBuffer:Tte,isFormData:Fte,isArrayBufferView:Lte,isString:Rte,isNumber:Pte,isObject:tF,isPlainObject:bx,isUndefined:d2,isDate:Bte,isFile:kte,isBlob:Ite,isFunction:_E,isStream:Dte,isURLSearchParams:Ote,isStandardBrowserEnv:zte,forEach:bE,merge:vA,extend:Hte,trim:Ute,stripBOM:Gte,inherits:jte,toFlatObject:Wte,kindOf:xE,kindOfTest:Fd,endsWith:Vte,toArray:qte,isTypedArray:Yte,isFileList:Nte},Pp=Cs;function M4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var nF=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(Pp.isURLSearchParams(t))i=t.toString();else{var s=[];Pp.forEach(t,function(l,u){l===null||typeof l=="undefined"||(Pp.isArray(l)?u=u+"[]":l=[l],Pp.forEach(l,function(h){Pp.isDate(h)?h=h.toISOString():Pp.isObject(h)&&(h=JSON.stringify(h)),s.push(M4(u)+"="+M4(h))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Jte=Cs;function Jw(){this.handlers=[]}Jw.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Jw.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Jw.prototype.forEach=function(e){Jte.forEach(this.handlers,function(r){r!==null&&e(r)})};var Xte=Jw,$te=Cs,Kte=function(e,t){$te.forEach(e,function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])})},rF=Cs;function Zm(n,e,t,r,i){Error.call(this),this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}rF.inherits(Zm,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var iF=Zm.prototype,sF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(n){sF[n]={value:n}});Object.defineProperties(Zm,sF);Object.defineProperty(iF,"isAxiosError",{value:!0});Zm.from=function(n,e,t,r,i,s){var o=Object.create(iF);return rF.toFlatObject(n,o,function(l){return l!==Error.prototype}),Zm.call(o,n.message,e,t,r,i),o.name=n.name,s&&Object.assign(o,s),o};var wg=Zm,oF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wl=Cs;function Qte(n,e){e=e||new FormData;var t=[];function r(s){return s===null?"":wl.isDate(s)?s.toISOString():wl.isArrayBuffer(s)||wl.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function i(s,o){if(wl.isPlainObject(s)||wl.isArray(s)){if(t.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);t.push(s),wl.forEach(s,function(l,u){if(!wl.isUndefined(l)){var c=o?o+"."+u:u,h;if(l&&!o&&typeof l=="object"){if(wl.endsWith(u,"{}"))l=JSON.stringify(l);else if(wl.endsWith(u,"[]")&&(h=wl.toArray(l))){h.forEach(function(p){!wl.isUndefined(p)&&e.append(c,r(p))});return}}i(l,c)}}),t.pop()}else e.append(o,r(s))}return i(n),e}var aF=Qte,$b=wg,Zte=function(e,t,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(new $b("Request failed with status code "+r.status,[$b.ERR_BAD_REQUEST,$b.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},Hy=Cs,ene=Hy.isStandardBrowserEnv()?function(){return{write:function(t,r,i,s,o,a){var l=[];l.push(t+"="+encodeURIComponent(r)),Hy.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),Hy.isString(s)&&l.push("path="+s),Hy.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){var r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),tne=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},nne=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},rne=tne,ine=nne,lF=function(e,t){return e&&!rne(t)?ine(e,t):t},Kb=Cs,sne=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],one=function(e){var t={},r,i,s;return e&&Kb.forEach(e.split(`
`),function(a){if(s=a.indexOf(":"),r=Kb.trim(a.substr(0,s)).toLowerCase(),i=Kb.trim(a.substr(s+1)),r){if(t[r]&&sne.indexOf(r)>=0)return;r==="set-cookie"?t[r]=(t[r]?t[r]:[]).concat([i]):t[r]=t[r]?t[r]+", "+i:i}}),t},E4=Cs,ane=E4.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),r;function i(s){var o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){var a=E4.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),yA=wg,lne=Cs;function uF(n){yA.call(this,n==null?"canceled":n,yA.ERR_CANCELED),this.name="CanceledError"}lne.inherits(uF,yA,{__CANCEL__:!0});var Xw=uF,une=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""},b0=Cs,cne=Zte,fne=ene,hne=nF,dne=lF,pne=one,mne=ane,gne=oF,Zu=wg,vne=Xw,yne=une,C4=function(e){return new Promise(function(r,i){var s=e.data,o=e.headers,a=e.responseType,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}b0.isFormData(s)&&b0.isStandardBrowserEnv()&&delete o["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(h+":"+p)}var m=dne(e.baseURL,e.url);c.open(e.method.toUpperCase(),hne(m,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function y(){if(!!c){var w="getAllResponseHeaders"in c?pne(c.getAllResponseHeaders()):null,_=!a||a==="text"||a==="json"?c.responseText:c.response,A={data:_,status:c.status,statusText:c.statusText,headers:w,config:e,request:c};cne(function(T){r(T),u()},function(T){i(T),u()},A),c=null}}if("onloadend"in c?c.onloadend=y:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(y)},c.onabort=function(){!c||(i(new Zu("Request aborted",Zu.ECONNABORTED,e,c)),c=null)},c.onerror=function(){i(new Zu("Network Error",Zu.ERR_NETWORK,e,c,c)),c=null},c.ontimeout=function(){var _=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",A=e.transitional||gne;e.timeoutErrorMessage&&(_=e.timeoutErrorMessage),i(new Zu(_,A.clarifyTimeoutError?Zu.ETIMEDOUT:Zu.ECONNABORTED,e,c)),c=null},b0.isStandardBrowserEnv()){var g=(e.withCredentials||mne(m))&&e.xsrfCookieName?fne.read(e.xsrfCookieName):void 0;g&&(o[e.xsrfHeaderName]=g)}"setRequestHeader"in c&&b0.forEach(o,function(_,A){typeof s=="undefined"&&A.toLowerCase()==="content-type"?delete o[A]:c.setRequestHeader(A,_)}),b0.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),a&&a!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(w){!c||(i(!w||w&&w.type?new vne:w),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),s||(s=null);var x=yne(m);if(x&&["http","https","file"].indexOf(x)===-1){i(new Zu("Unsupported protocol "+x+":",Zu.ERR_BAD_REQUEST,e));return}c.send(s)})},xne=null,as=Cs,T4=Kte,L4=wg,wne=oF,_ne=aF,bne={"Content-Type":"application/x-www-form-urlencoded"};function R4(n,e){!as.isUndefined(n)&&as.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function Sne(){var n;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(n=C4),n}function Ane(n,e,t){if(as.isString(n))try{return(e||JSON.parse)(n),as.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var $w={transitional:wne,adapter:Sne(),transformRequest:[function(e,t){if(T4(t,"Accept"),T4(t,"Content-Type"),as.isFormData(e)||as.isArrayBuffer(e)||as.isBuffer(e)||as.isStream(e)||as.isFile(e)||as.isBlob(e))return e;if(as.isArrayBufferView(e))return e.buffer;if(as.isURLSearchParams(e))return R4(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=as.isObject(e),i=t&&t["Content-Type"],s;if((s=as.isFileList(e))||r&&i==="multipart/form-data"){var o=this.env&&this.env.FormData;return _ne(s?{"files[]":e}:e,o&&new o)}else if(r||i==="application/json")return R4(t,"application/json"),Ane(e);return e}],transformResponse:[function(e){var t=this.transitional||$w.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&as.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?L4.from(o,L4.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xne},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};as.forEach(["delete","get","head"],function(e){$w.headers[e]={}});as.forEach(["post","put","patch"],function(e){$w.headers[e]=as.merge(bne)});var SE=$w,Mne=Cs,Ene=SE,Cne=function(e,t,r){var i=this||Ene;return Mne.forEach(r,function(o){e=o.call(i,e,t)}),e},cF=function(e){return!!(e&&e.__CANCEL__)},P4=Cs,Qb=Cne,Tne=cF,Lne=SE,Rne=Xw;function Zb(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Rne}var Pne=function(e){Zb(e),e.headers=e.headers||{},e.data=Qb.call(e,e.data,e.headers,e.transformRequest),e.headers=P4.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),P4.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||Lne.adapter;return t(e).then(function(i){return Zb(e),i.data=Qb.call(e,i.data,i.headers,e.transformResponse),i},function(i){return Tne(i)||(Zb(e),i&&i.response&&(i.response.data=Qb.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},ea=Cs,fF=function(e,t){t=t||{};var r={};function i(c,h){return ea.isPlainObject(c)&&ea.isPlainObject(h)?ea.merge(c,h):ea.isPlainObject(h)?ea.merge({},h):ea.isArray(h)?h.slice():h}function s(c){if(ea.isUndefined(t[c])){if(!ea.isUndefined(e[c]))return i(void 0,e[c])}else return i(e[c],t[c])}function o(c){if(!ea.isUndefined(t[c]))return i(void 0,t[c])}function a(c){if(ea.isUndefined(t[c])){if(!ea.isUndefined(e[c]))return i(void 0,e[c])}else return i(void 0,t[c])}function l(c){if(c in t)return i(e[c],t[c]);if(c in e)return i(void 0,e[c])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return ea.forEach(Object.keys(e).concat(Object.keys(t)),function(h){var p=u[h]||s,m=p(h);ea.isUndefined(m)&&p!==l||(r[h]=m)}),r},hF={version:"0.27.2"},Bne=hF.version,_f=wg,AE={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){AE[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var B4={};AE.transitional=function(e,t,r){function i(s,o){return"[Axios v"+Bne+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(e===!1)throw new _f(i(o," has been removed"+(t?" in "+t:"")),_f.ERR_DEPRECATED);return t&&!B4[o]&&(B4[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function kne(n,e,t){if(typeof n!="object")throw new _f("options must be an object",_f.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(n),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new _f("option "+s+" must be "+l,_f.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new _f("Unknown option "+s,_f.ERR_BAD_OPTION)}}var Ine={assertOptions:kne,validators:AE},dF=Cs,Nne=nF,k4=Xte,I4=Pne,Kw=fF,Dne=lF,pF=Ine,Bp=pF.validators;function eg(n){this.defaults=n,this.interceptors={request:new k4,response:new k4}}eg.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Kw(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&pF.assertOptions(r,{silentJSONParsing:Bp.transitional(Bp.boolean),forcedJSONParsing:Bp.transitional(Bp.boolean),clarifyTimeoutError:Bp.transitional(Bp.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(s=s&&m.synchronous,i.unshift(m.fulfilled,m.rejected))});var o=[];this.interceptors.response.forEach(function(m){o.push(m.fulfilled,m.rejected)});var a;if(!s){var l=[I4,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(o),a=Promise.resolve(t);l.length;)a=a.then(l.shift(),l.shift());return a}for(var u=t;i.length;){var c=i.shift(),h=i.shift();try{u=c(u)}catch(p){h(p);break}}try{a=I4(u)}catch(p){return Promise.reject(p)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};eg.prototype.getUri=function(e){e=Kw(this.defaults,e);var t=Dne(e.baseURL,e.url);return Nne(t,e.params,e.paramsSerializer)};dF.forEach(["delete","get","head","options"],function(e){eg.prototype[e]=function(t,r){return this.request(Kw(r||{},{method:e,url:t,data:(r||{}).data}))}});dF.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(Kw(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}eg.prototype[e]=t(),eg.prototype[e+"Form"]=t(!0)});var Fne=eg,One=Xw;function tg(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var t=this;this.promise.then(function(r){if(!!t._listeners){var i,s=t._listeners.length;for(i=0;i<s;i++)t._listeners[i](r);t._listeners=null}}),this.promise.then=function(r){var i,s=new Promise(function(o){t.subscribe(o),i=o}).then(r);return s.cancel=function(){t.unsubscribe(i)},s},n(function(i){t.reason||(t.reason=new One(i),e(t.reason))})}tg.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};tg.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};tg.prototype.unsubscribe=function(e){if(!!this._listeners){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}};tg.source=function(){var e,t=new tg(function(i){e=i});return{token:t,cancel:e}};var Une=tg,zne=function(e){return function(r){return e.apply(null,r)}},Hne=Cs,Gne=function(e){return Hne.isObject(e)&&e.isAxiosError===!0},N4=Cs,jne=ZD,Sx=Fne,Wne=fF,Vne=SE;function mF(n){var e=new Sx(n),t=jne(Sx.prototype.request,e);return N4.extend(t,Sx.prototype,e),N4.extend(t,e),t.create=function(i){return mF(Wne(n,i))},t}var zo=mF(Vne);zo.Axios=Sx;zo.CanceledError=Xw;zo.CancelToken=Une;zo.isCancel=cF;zo.VERSION=hF.version;zo.toFormData=aF;zo.AxiosError=wg;zo.Cancel=zo.CanceledError;zo.all=function(e){return Promise.all(e)};zo.spread=zne;zo.isAxiosError=Gne;vE.exports=zo;vE.exports.default=zo;var qne=vE.exports;const Yne=({handleAddFloors:n,setAddPopup:e})=>{const[t,r]=Z.exports.useState(""),[i,s]=Z.exports.useState([]),o=mt(u=>u.floors),a=Z.exports.useRef();Yw(a,()=>e(!1));const l=u=>{i.includes(u)?s(i.filter(c=>c!==u)):s([...i,u])};return H(Jne,{children:Ie(Xne,{ref:a,children:[H($ne,{children:"Vloer toevoegen"}),H(Kne,{type:"text",placeholder:"zoek...",onChange:u=>r(u.target.value)}),H(Zne,{children:_x.filter(u=>{if(t==="")return u;if(u.name.toLocaleLowerCase().includes(t.toLocaleLowerCase()))return u}).map(u=>o.find(h=>h.id===u.id)?H(D4,{active:i.includes(u),children:Ie("div",{children:[H("img",{src:u.thumbnail,alt:u.name}),H("p",{style:{textDecoration:"line-through"},children:u.name})]})},u.id):H(D4,{active:i.includes(u),children:Ie("div",{onClick:()=>l(u),children:[H("img",{src:u.thumbnail,alt:u.name}),H("p",{children:u.name})]})},u.id))}),Ie(Qne,{children:[H("button",{style:{background:"#C0C0C0"},onClick:()=>e(!1),children:"terug"}),H("button",{onClick:()=>n(i),children:"toevoegen"})]})]})})},Jne=ke.div`
  position: absolute;
  top: 0;
  background-color: rgba(0, 0, 0, 0.5);
  width: 100%;
  height: 100vh;
  z-index: 12;
  display: flex;
  align-items: center;
  justify-content: center;
`,Xne=ke.div`
  background: white;
  padding: 30px 35px;
`,$ne=ke.h2`
  font-family: "Petrona";
  font-weight: 500;
  font-size: 24px;
  margin-bottom: 10px;
`,Kne=ke.input`
  margin-bottom: 15px;
  padding: 10px;
  width: 100%;
  border: rgb(14, 14, 14) solid 1px;
`,Qne=ke.div`
  display: flex;
  justify-content: space-between;

  button {
    background-color: rgb(187, 80, 24);
    font-weight: 300;
    font-size: 15px;
    padding: 10px 20px;
    color: rgb(255, 255, 255);
    border: none;
    text-transform: uppercase;
    cursor: pointer;
  }
`,Zne=ke.ul`
  max-height: 300px;
  overflow: scroll;
  -ms-overflow-style: none;
  scrollbar-width: none;
  margin-bottom: 32px;
`,D4=ke.li`
  list-style: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 15px;
  margin-bottom: 15px;

  div {
    display: flex;
    align-items: center;
    cursor: pointer;

    img {
      width: 40px;
      height: 40px;
      margin-right: 10px;
      border: ${({active:n})=>n?"3px solid #bb5018":"3px solid white"};
      cursor: pointer;
    }
  }
`,ere=({delFloorQuew:n,setDelFloorQuew:e,setDelPopup:t,handleFloorRemove:r})=>{const i=Z.exports.useRef();return Yw(i,()=>t(!1)),H(tre,{children:Ie(nre,{style:{width:"534px"},ref:i,children:[H(rre,{children:"Verwijder vloer"}),Ie("p",{style:{marginBottom:"32px"},children:["Ben je zeker dat je"," ",H("span",{style:{color:"#BB5018",fontWeight:"700"},children:n.name})," wilt verwijderen uit de lijst van geselecteerde items?"]}),Ie(ire,{children:[H("button",{style:{background:"#C0C0C0"},onClick:()=>{e(null),t(!1)},children:"nee"}),H("button",{onClick:()=>r(n),children:"ja"})]})]})})},tre=ke.div`
  position: absolute;
  top: 0;
  background-color: rgba(0, 0, 0, 0.5);
  width: 100%;
  height: 100vh;
  z-index: 12;
  display: flex;
  align-items: center;
  justify-content: center;
`,nre=ke.div`
  background: white;
  padding: 30px 35px;
`,rre=ke.h2`
  font-family: "Petrona";
  font-weight: 500;
  font-size: 24px;
  margin-bottom: 10px;
`,ire=ke.div`
  display: flex;
  justify-content: space-between;

  button {
    background-color: rgb(187, 80, 24);
    font-weight: 300;
    font-size: 15px;
    padding: 10px 20px;
    color: rgb(255, 255, 255);
    border: none;
    text-transform: uppercase;
    cursor: pointer;
  }
`;var sre="/assets/plus.06d6af05.svg";const ore=({setAddPopup:n,setDelFloorQuew:e,setDelPopup:t,socket:r})=>{const[i,s]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),o=mt(c=>c.floors),a=mt(c=>c.selectedFloor),l=mt(c=>c.updateSelectedFloor),u=c=>{!i||r.emit("selecteded floor",c)};return Ie(are,{children:[H(lre,{onClick:()=>n(!0),children:H("img",{src:sre,alt:"toevoeg knop met plus icon"})}),H(ure,{children:o.map(c=>Ie("li",{onClick:()=>{l(c),u(c)},style:{border:a.name===c.name?"solid 2px red":"solid 2px rgba(0, 0, 0, 0)"},children:[H("img",{src:c.thumbnail,width:150}),o.length>1&&H("button",{onClick:()=>{e(c),t(!0)},children:H("img",{src:gE,alt:"del vuilbak icon"})})]},c.id))})]})},are=ke.div`
  display: flex;
  align-items: center;
  height: 80%;
  overflow: scroll;
  padding-right: 40px;
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
`,lre=ke.button`
  background: #bb5018;
  border: none;
  margin: 0 40px;
  width: 74px;
  height: 74px;
  color: #ffffff;
  font-size: 71px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  padding: 0 20px;
`,ure=ke.ul`
  display: flex;
  list-style: none;
  gap: 40px;

  li {
    position: relative;
    width: 154px;
    height: 154px;

    &:last-child {
      margin-right: 35px;
    }

    img {
      width: 150px;
      height: 150px;
    }

    button {
      position: absolute;
      right: 5px;
      top: 5px;
      width: 29px;
      height: 29px;
      background-color: #c0c0c0;
      border-radius: 50%;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;

      img {
        width: 20px;
        height: 20px;
      }
    }
  }
`,cre=({socket:n})=>{const[e,t]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),r=mt(o=>o.config.showRoom),i=mt(o=>o.updateObject),s=(o,a,l)=>{i(o,a,l),e&&(n.emit("active",{status:"active"}),n.emit("store change",{object:o,field:a,value:l}))};return H(fre,{children:Ie(hre,{onClick:()=>{i("config","refresh",Math.random()*1e6+1)},children:[H(gF,{active:!r,onClick:()=>s("config","showRoom",!1),children:"Vloer"}),H(dre,{active:r,onClick:()=>s("config","showRoom",!0),children:"Kamer"})]})})},fre=ke.div`
  position: fixed;
  right: 30px;
  top: 30px;
  z-index: 11;
`,hre=ke.div`
  width: 250px;
  height: 60px;
  background-color: white;
  display: flex;
  cursor: pointer;
`,gF=ke.div`
  background-color: ${({active:n})=>n?"#bb5018":"#EAEAEA"};
  color: ${({active:n})=>n?"#ffffff":"#000000"};
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  flex: 1 1 50%;
  text-transform: uppercase;
  font-weight: 500;
  transition: 0.5s;

  &:hover {
    background-color: ${({active:n})=>n?"#9f4414":"#d1d1d1"};
  }
`,dre=ke(gF)``,pre=()=>{const[n,e]=Z.exports.useState(!1),t=mt(o=>o.selectedFloor),r=mt(o=>o.config.planksLayingPattern),i=mt(o=>o.updateObject),s=["halfOffset","thirdOffset","fourthOffset"];return Ie(mre,{floorSlider:n,children:[H(gre,{floorSlider:n,onClick:()=>e(!n),children:H("img",{src:KD,width:45,alt:"arrow icon"})}),H(vre,{floorSlider:n,children:t.pattern==="planks"&&s.map(o=>H(yre,{active:r===o,onClick:()=>i("config","planksLayingPattern",o),children:H("img",{src:`./patterns/${o}.jpg`,alt:"floor icon"})}))})]})},mre=ke.div`
  position: absolute;
  top: 150px;
  right: 0;
  width: 90px;
  background: #f2f0f0;
  padding: 10px;
`,gre=ke.button`
  width: 70px;
  height: 70px;
  background: #ae5629;
  border: none;
  color: white;

  img {
    transition: 0.2s;
    transform: rotate(${({floorSlider:n})=>n?-180:-90}deg);
  }
`,vre=ke.div`
  display: ${({floorSlider:n})=>n?"block":"none"};
`,yre=ke.button`
  border: ${({active:n})=>n?"2px solid red":"none"};
  margin-top: 20px;
  width: 70px;
  height: 70px;

  img {
    width: 100%;
    height: 100%;
  }
`,xre=()=>{const[n,e]=Z.exports.useState(localStorage.getItem("room")!=="no-room"),[t,r]=Z.exports.useState(!1);Z.exports.useState(localStorage.getItem("configurator"));const i=mt(W=>W.client.vierkantemeters),s=mt(W=>W.floors),o=mt(W=>W.deleteFloor),a=mt(W=>W.setFloors),l=mt(W=>W.selectedFloor),u=mt(W=>W.updateSelectedFloor),[c,h]=Z.exports.useState(!1),[p,m]=Z.exports.useState(!1),y=mt(W=>W.config.showRoom),[g,x]=Z.exports.useState(null),w=n?Ec(localStorage.getItem("room")):null,_=Ka(),A=mt(W=>W.updateObject),C=mt(W=>W.offerte.offertenummer),T=W=>{o(W),setTimeout(()=>{let L;G.length>1&&G[0].name===W.name?L=G[1]:L=G[0],u(L),h(!1)},500);let G=mt.getState().floors;mt.subscribe(()=>{G=mt.getState().floors},L=>L.floors),console.log(G),w.emit("get floors",G),w.emit("selecteded floor",G[0])},D=W=>{const G=s.concat(W);a(G),m(!1),n&&w.emit("get floors",G)},I=W=>{let G=s.indexOf(l),L;W==="vorige"&&(G--,G===-1?L=s[s.length-1]:L=s[G]),W==="volgende"&&(G++,G>=s.length?L=s[0]:L=s[G]),u(L),n&&w.emit("selecteded floor",L)},B=async()=>{C!==""||await qne.post("https://martens.fluxwebdesign2.be/wp-json/martens/v1/create_offerte",{}).then(function(W){A("offerte","offertenummer",W.data.offertenummer)}).catch(function(W){console.log(W)}),_("/offerte")};return H($n,{children:Ie("div",{style:{position:"relative",width:"100%"},children:[H(QD,{link:"/filters"}),H(wre,{onClick:()=>B(),children:"offerte"}),H(cre,{socket:w}),y&&H(Ste,{handleNextSlide:I}),H(pE,{}),!y&&H(pre,{}),Ie(_re,{sliderOpen:t,children:[Ie(bre,{children:[H("div",{children:Ie(Sre,{children:[l.name," | ",l.price_incl," \u20AC/m\xB2",Ie(Are,{sliderOpen:t,children:[" ","| \u20AC",(l.price_incl*i).toFixed(2)," voor ",i,"m\xB2 (",Math.ceil(i/l.m2_per_box)," dozen)"]})]})}),Ie(Mre,{sliderOpen:t,children:[H("button",{onClick:W=>I("vorige"),children:"\u2190 vorige"}),H("button",{onClick:W=>I("volgende"),children:"volgende \u2192"})]})]}),H(Ere,{sliderOpen:t,onClick:()=>r(!t),children:H("img",{src:KD,alt:"arrow slider icon"})}),t&&H(ore,{socket:w,setAddPopup:m,setDelFloorQuew:x,setDelPopup:h})]}),c&&H(ere,{delFloorQuew:g,setDelFloorQuew:x,setDelPopup:h,handleFloorRemove:T}),p&&H(Yne,{handleAddFloors:D,setAddPopup:m})]})})},wre=ke.button`
  position: fixed;
  right: 300px;
  top: 30px;
  z-index: 11;
  background-color: #fff;
  color: #000000;
  width: 125px;
  height: 60px;
  border: none;
  font-size: 20px;
  text-transform: uppercase;
  cursor: pointer;
  transition: 0.3s;

  &:hover {
    background: #b0b0b0;
  }
`,_re=ke.div`
  position: fixed;
  z-index: 11;
  background: #fff;
  border-top: 2px solid #a14d0d;
  bottom: 0;
  height: ${({sliderOpen:n})=>n?"224px":"55px"};
  width: 100%;
`,bre=ke.div`
  display: flex;
  align-items: center;
  gap: 30px;
  justify-content: space-between;
`,Sre=ke.p`
  padding: 10px 10px 10px 40px;
  color: rgb(14, 14, 14);
  font-weight: 600;
  font-size: 20px;
  position: relative;
  top: ${({sliderOpen:n})=>n?"0px":"7px"};
`,Are=ke.span`
  display: ${({sliderOpen:n})=>n?"contents":"none"};
`,Mre=ke.div`
  display: ${({sliderOpen:n})=>n?"none":"flex"};
  align-items: center;
  gap: 20px;
  position: relative;
  top: 7px;
  margin-right: 165px;

  button {
    border: none;
    padding: 10px;
    font-weight: 300;
    font-size: 15px;
    text-transform: capitalize;
    background-color: #a14d0d;
    font-weight: 300;
    font-size: 15px;
    padding: 10px 20px;
    cursor: pointer;
    color: #ffffff;
  }
`,Ere=ke.button`
  position: absolute;
  height: ${({sliderOpen:n})=>n?"20%":"100%"};
  top: ${({sliderOpen:n})=>n?" -45px":"0px"};
  width: 154px;
  border: none;
  right: 0;
  background: rgba(187, 80, 24);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;

  img {
    transform: rotate(${({sliderOpen:n})=>n?180:0}deg);
    width: 35%;
  }
`,Cre=()=>{const n=mt(a=>a.config.doorOpenValue),e=mt(a=>a.config.showBlackbg),t=mt(a=>a.updateSelectedDoor),r=mt(a=>a.updateObject),i=mt(a=>a.doors),[s,o]=Z.exports.useState(!0);return Ie($n,{children:[H(QD,{link:"/door-filters"}),H(mE,{}),Ie(Tre,{children:[Ie(Lre,{onClick:()=>o(!s),children:[s?"verberg":"toon"," settings"]}),s&&Ie($n,{children:[H(Bre,{children:i.map(a=>H(kre,{onClick:()=>t(a),children:a.name}))}),H(Rre,{children:Ie(F4,{children:[H(O4,{onClick:()=>r("config","doorOpenValue",0),children:"gesloten"}),H(Pre,{type:"range",min:"0",max:"2",step:"0.001",value:n,onChange:a=>r("config","doorOpenValue",a.target.value),id:"doorRange",name:"doorRange"}),H(O4,{onClick:()=>r("config","doorOpenValue",2),children:"open"})]})}),Ie(F4,{children:["zwarte achtergrond:"," ",H("input",{type:"checkbox",name:"",id:"",checked:e,onChange:()=>r("config","showBlackbg",!e)})]})]})]})]})},Tre=ke.div`
  position: absolute;
  top: 10px;
  right: 0;
  padding: 1rem;
`,Lre=ke.p`
  color: brown;
  text-align: right;
  margin-bottom: 1rem;
  cursor: pointer;
`,Rre=ke.div`
  display: flex;
  gap: 1rem;
`,F4=ke.div`
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  background-color: #dfdfdf;
  gap: 1rem;
`,O4=ke.p`
  cursor: pointer;
`,Pre=ke.input``,Bre=ke.div`
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  width: 100%;
`,kre=ke.div`
  background-color: brown;
  color: white;
  padding: 0.5rem 1rem;
  width: 100%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
`,Ire=()=>{const n=mt(t=>t.updateObject),e=mt(t=>t.offerte.isKlant);return Ie(Nre,{children:[Ie(U4,{children:[H("input",{type:"radio",name:"status",id:"Openstaand",checked:e,onChange:t=>n("offerte","isKlant",!0)}),"Klant"]}),Ie(U4,{children:[H("input",{type:"radio",name:"status",id:"Gesloten",checked:!e,onChange:t=>n("offerte","isKlant",!1)}),"Bedrijf"]})]})},Nre=ke.div`
  display: flex;
  gap: 20px;
  margin-bottom: 15px;
`,U4=ke.div`
  display: flex;
  gap: 10px;

  input {
    transform: scale(1.5); 
  }
`,Dre=({setFormPopup:n,formPicker:e})=>{const t=mt(a=>a.updateObject),r=mt(a=>a.offerte),[i,s]=Z.exports.useState(""),o=a=>{a.preventDefault(),n(!1)};return Ie($n,{children:[H(Fre,{children:"Klant informatie"}),H(Ire,{}),Ie(Ore,{onSubmit:a=>o(a),children:[Ie("label",{htmlFor:"naam",children:[r.isKlant?"Volledige naam":"Bedrijfs naam",H("input",{type:"text",name:"naam",id:"naam",placeholder:r.isKlant?"Volledige naam":"Bedrijfs naam",value:r.naam,onChange:a=>t("offerte","naam",a.target.value),required:!0})]}),Ie("label",{htmlFor:"email",children:["Email",H("input",{type:"email",name:"email",id:"email",placeholder:"Email",value:r.email,onChange:a=>t("offerte","email",a.target.value),required:!0})]}),i&&H("p",{children:i}),Ie("label",{htmlFor:"straat + nr",children:["Straat + Nr",H("input",{type:"text",name:"straat + nr",id:"straat + nr",placeholder:"Straat + Nr",value:r.straat,onChange:a=>t("offerte","straat",a.target.value),required:!0})]}),Ie("label",{htmlFor:"postcode + gemeente",children:["Postcode + Gemeente",H("input",{type:"text",name:"postcode + gemeente",id:"postcode + gemeente",placeholder:"Postcode + Gemeente",value:r.gemeente,onChange:a=>t("offerte","gemeente",a.target.value),required:!0})]}),Ie("label",{htmlFor:"land",children:["Land",H("input",{type:"text",name:"land",id:"land",placeholder:"Land",value:r.land,onChange:a=>t("offerte","land",a.target.value),required:!0})]}),!r.isKlant&&Ie("label",{htmlFor:"nummer",children:["Nummer",H("input",{type:"text",name:"nummer",id:"nummer",placeholder:"BTW-Nummer",value:r.nummer,onChange:a=>t("offerte","nummer",a.target.value),required:!0})]}),Ie(Ure,{children:[H("button",{onClick:()=>n(!1),children:"Cancel"}),H("button",{children:"Opslaan"})]})]})]})},Fre=ke.h1`
  margin-bottom: 10px;
`,Ore=ke.form`
  display: flex;
  flex-flow: column;
  gap: 20px;

  label {
    display: flex;
    flex-flow: column;

    input {
      padding: 8px;
      margin-top: 5px;
    }
  }
`,Ure=ke.div`
  display: flex;
  justify-content: space-between;
  margin-top: 10px;

  button {
    background-color: rgb(187,80,24);
    font-weight: 300;
    padding: 10px 20px;
    color: rgb(255,255,255);
    border: none;
    text-transform: uppercase;
    cursor: pointer;
    font-size: 15px;

    &:hover {
        background: rgb(149, 64, 20);
    }

    &:first-child {
      background: rgb(192, 192, 192);

      &:hover {
        background: rgb(149, 149, 149);
      }
    }
  }
`,zre=({setFormPopup:n})=>{const e=mt(i=>i.updateObject),t=mt(i=>i.offerte),r=i=>{i.preventDefault(),n(!1)};return Ie($n,{children:[H(Hre,{children:"Notities"}),Ie(Gre,{onSubmit:i=>r(i),children:[Ie("label",{htmlFor:"notities",children:["Notities",H("textarea",{name:"notities",id:"notities",style:{lineHeight:1.5},value:t.notities,onChange:i=>e("offerte","notities",i.target.value),rows:5,cols:5})]}),Ie(jre,{children:[H("button",{onClick:()=>n(!1),children:"Cancel"}),H("button",{children:"Opslaan"})]})]})]})},Hre=ke.h1`
  margin-bottom: 10px;
`,Gre=ke.form`
  display: flex;
  flex-flow: column;
  gap: 20px;

  label {
    display: flex;
    flex-flow: column;

    input {
      padding: 8px;
      margin-top: 5px;
    }
  }
`,jre=ke.div`
  display: flex;
  justify-content: space-between;
  margin-top: 10px;

  button {
    background-color: rgb(187,80,24);
    font-weight: 300;
    padding: 10px 20px;
    color: rgb(255,255,255);
    border: none;
    text-transform: uppercase;
    cursor: pointer;
    font-size: 15px;

    &:hover {
        background: rgb(149, 64, 20);
    }

    &:first-child {
      background: rgb(192, 192, 192);

      &:hover {
        background: rgb(149, 149, 149);
      }
    }
  }
`,Wre=({setFormPopup:n,formPicker:e})=>{const t=Z.exports.useRef();return Yw(t,()=>n(!1)),H(Vre,{children:Ie(qre,{ref:t,children:[e==="klant"&&H(Dre,{setFormPopup:n,formPicker:e}),e==="notities"&&H(zre,{setFormPopup:n})]})})},Vre=ke.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(14, 14, 14, .4);
  display: flex;
  align-items: center;
  justify-content: center;
`,qre=ke.div`
  background: white;
  padding: 25px 35px;
  width: 450px;
`;var Yre="/assets/logo.ccab5f97.png";const z4=({floors:n,handleDownloadPdf:e,index:t})=>{const r=mt(_=>_.client.vierkantemeters),[i,s]=Z.exports.useState(!1),[o,a]=Z.exports.useState(""),[l,u]=Z.exports.useState(0),[c,h]=Z.exports.useState(0),[p,m]=Z.exports.useState(""),y=Z.exports.useRef(),g=mt(_=>_.offerte);mt(_=>_.updateObject);const x=Ka();Z.exports.useEffect(()=>{var C;const _=(C=y.current)==null?void 0:C.clientHeight,A=2012-_;u(A)},[g.generatePdf]),Z.exports.useEffect(()=>{if(c===0){let _=0;for(let A=0;A<n.length;A++)_+=Math.ceil(r/n[A].m2_per_box)*(n[A].m2_per_box*n[A].price_incl);h(_.toFixed(2))}},[]);const w=_=>{const{naam:A,email:C,straat:T,gemeente:D,land:I}=g;!!A&&!!C&&!!T&&!!D&&!!I?(m(""),_==="pdf"&&e(),_==="email"&&console.log("stuur email")):m("gelieve alle klant/bedrijf velden in te vullen.")};return Ie($n,{children:[Ie(Jre,{ref:y,children:[g.generatePdf&&Ie(Xre,{children:[H("img",{src:Yre,alt:"Martens Hout logo"}),Ie("div",{children:[H("p",{children:"https://www.martenshout.be/nl"}),H("p",{children:"info@martenshout.be"}),H("p",{children:"Hoogmolendijk 4, 2900 Schoten"})]})]}),Ie($re,{children:[Ie(Kre,{children:["Offerte ",g.offertenummer,"/",t]}),!g.generatePdf&&Ie(Qre,{children:[H(Zre,{onClick:()=>x("/view"),children:"terug gaan"}),H(H4,{onClick:()=>w("pdf"),children:"pdf"}),H(H4,{onClick:()=>w("email"),children:"email"})]})]}),p!==""&&H("p",{children:p}),Ie(eie,{children:[Ie(tie,{children:[Ie(Gy,{children:[Ie(jy,{generatePdf:g.generatePdf,children:[H("p",{children:"Info"}),!g.generatePdf&&H(Wy,{style:{visibility:"hidden"},children:"Aanpassen"})]}),Ie(nie,{children:[Ie("div",{children:[H("p",{children:"Offertenummer:"}),H("p",{children:"Datum:"}),H("p",{children:"Vervaldatum:"})]}),Ie("div",{children:[H("p",{children:g.offertenummer}),H("p",{children:g.datum}),H("p",{children:g.vervaldatum})]})]})]}),Ie(Gy,{children:[Ie(jy,{generatePdf:g.generatePdf,children:[H("p",{children:"Notities"}),!g.generatePdf&&H(Wy,{onClick:()=>{s(!0),a("notities")},children:"Aanpassen"})]}),H(G4,{children:H(lie,{children:g.notities===""?"Geen Notities ingevoerd":g.notities})})]})]}),Ie(Gy,{children:[Ie(jy,{generatePdf:g.generatePdf,children:[H("p",{children:g.isKlant?"Klant":"Bedrijf"}),!g.generatePdf&&H(Wy,{onClick:()=>{s(!0),a("klant")},children:"Aanpassen"})]}),Ie(G4,{children:[H("p",{children:g.naam?g.naam:"geen naam"}),H("p",{children:g.email?g.email:"geen email"}),H("p",{children:g.straat?g.straat:"geen straat + nr"}),H("p",{children:g.gemeente?g.gemeente:"geen gemeente"}),H("p",{children:g.land?g.land:"geen land"}),!g.isKlant&&H(rie,{children:g.nummer?g.nummer:"geen BTW-nummer"})]})]})]}),Ie(Gy,{children:[Ie(jy,{generatePdf:g.generatePdf,children:[H("p",{children:"Producten"}),!g.generatePdf&&H(Wy,{style:{visibility:"hidden"},children:"Aanpassen"})]}),Ie(iie,{children:[H("p",{children:"Aantal dozen"}),H("p",{children:"Omschrijving"}),H(e5,{children:"BTW"}),H(e5,{children:"Prijs/doos"}),H(e5,{children:"Totaal(incl. BTW)"})]}),H(sie,{children:n.map(_=>Ie("div",{children:[H("p",{children:Math.ceil(r/_.m2_per_box)}),Ie(oie,{style:{border:"none"},children:[H("img",{src:_.thumbnail,alt:_.name,width:40}),H("p",{children:_.name})]}),H(t5,{children:"21%"}),Ie(t5,{children:["\u20AC",(_.m2_per_box*_.price_incl).toFixed(2)]}),Ie(t5,{children:["\u20AC",(Math.ceil(r/_.m2_per_box)*(_.m2_per_box*_.price_incl)).toFixed(2)]})]}))})]}),Ie(aie,{children:[Ie("div",{children:[H("p",{children:"Totaal excl. BTW"}),Ie("p",{children:["\u20AC",(c-c/100*21).toFixed(2)]})]}),Ie("div",{children:[H("p",{children:"21% BTW"}),Ie("p",{children:["\u20AC",(c/100*21).toFixed(2)]})]}),Ie("div",{children:[H("p",{children:"Totaal incl. BTW"}),Ie("p",{children:["\u20AC",c]})]})]})]}),H(uie,{generatePdf:g.generatePdf,children:n.map(_=>Ie("div",{children:[H("p",{style:{"page-break-before":"always"},children:_.name}),H("img",{src:_.room,alt:_.name})]}))}),H("br",{}),H("br",{}),H("br",{}),i&&H(Wre,{setFormPopup:s,formPicker:o})]})},Jre=ke.div`
  padding: 30px;
`,Xre=ke.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
`,$re=ke.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 25px;
`,Kre=ke.h2`
  font-weight: 400;
`,Qre=ke.div`
  display: flex;
  gap: 15px;

  button {
    border: none;
    padding: 12px 15px;
    cursor: pointer;
  }
`,Zre=ke.button`
  border: none;
  padding: 12px 15px;
  background-color: transparent;
  color: rgb(14,14,14);
  text-transform: uppercase;
`,H4=ke.button`
  border: none;
  padding: 12px 15px;
  background-color: #9f4414;
  color: white;
  text-transform: uppercase;

  &:hover {
    transition: .3s;
    background: #843911;
  }
`,eie=ke.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-gap: 25px;
  margin-bottom: 30px;
`,tie=ke.div`
  display: flex;
  flex-flow: column;
  gap: 20px;
`,Gy=ke.div`
  border: solid 1px #9f9f9f;
`,jy=ke.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: ${({generatePdf:n})=>n?"white":"linear-gradient(#FCFDFD, #EBEAEA)"};
  border-bottom: #9f9f9f solid 1px;

  p {
    padding-left: 10px;
    font-weight: bold;
    margin: ${({generatePdf:n})=>n?"10px 0":"0"};
  }
`,Wy=ke.button`
  background: transparent;
  border: none;
  height: 100%;
  padding: 10px;
  border-left: solid 1px #9f9f9f;
  font-size: 15px;
  cursor: pointer;

  &:hover {
    transition: .3s;
    background: #b9b9b9;
  }
`,G4=ke.div`
  padding: 10px;
  display: flex;
  flex-flow: column;
  gap: 10px;
  text-transform: capitalize;

  p {
    margin-bottom: 3px;
  }
`,nie=ke.div`
  display: grid;
  grid-template-columns: 1fr 1.5fr;
  padding: 10px 10px;

  div {
    margin: auto 0;
    height: 100%;

    p {
      margin-bottom: 10px;
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
`;ke.p`
  font-weight: bold;
  font-size: 20px;
`;const rie=ke.p`
  margin-top: 0;
`,iie=ke.div`
  display: grid;
  grid-template-columns: 1fr 3fr 1fr 1fr 1fr;

  p {
    border-right: solid #9f9f9f 1px;
    border-bottom: solid #9f9f9f 1px;
    padding: 10px;

    &:last-child {
      border-right: none;
    }
  }
`,e5=ke.p`
display: flex;
justify-content: end;
`,sie=ke.div`
  div {
    display: grid;
    grid-template-columns: 1fr 3fr 1fr 1fr 1fr;
    padding: 10px;
    align-items: center;
    border-top: solid 1px #9f9f9f;
  
    &:first-child {
      border-top: none;
    }
  }
`,oie=ke.div`
  border: none;
  display: flex;
  align-items: center;
`,t5=ke.p`
  display: flex;
  justify-content: end;
  padding-right: 5px;
`,aie=ke.div`
  display: flex;
  margin-top: 25px;
  flex-flow: column;
  align-items: end;

  div {
    display: grid;
    grid-template-columns: 2fr 1fr;
    width: 280px;
    margin-bottom: 10px;

    &:first-child {
      border-top: solid 1px #141414;
      padding-top: 5px;
    }

    &:nth-child(2) {
      border-bottom: solid 1px #141414;
      padding-bottom: 5px;
    }

    p {
      &:last-child {
        justify-self: end;
      }
    }
  }
`,lie=ke.p`
  width: 600px;
  line-height: 1.2;
  text-transform: lowercase;
`,uie=ke.div`
  margin-top: 25px;
  margin-bottom: ${({generatePdf:n})=>n?"389px":"0px"};
  padding: 30px;

  div {
    margin-top: 35px;

    p {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 5px; 
    }

    img {
      width: 100%;
      height: 100%;
    }
  }
`,cie="modulepreload",j4={},fie="/",xA=function(e,t){return!t||t.length===0?e():Promise.all(t.map(r=>{if(r=`${fie}${r}`,r in j4)return;j4[r]=!0;const i=r.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":cie,i||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),i)return new Promise((a,l)=>{o.addEventListener("load",a),o.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function cr(n){return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(n)}var fo=Uint8Array,ho=Uint16Array,k1=Uint32Array,Qw=new fo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zw=new fo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wA=new fo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vF=function(n,e){for(var t=new ho(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new k1(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},yF=vF(Qw,2),xF=yF[0],_A=yF[1];xF[28]=258,_A[258]=28;var wF=vF(Zw,0),hie=wF[0],W4=wF[1],bA=new ho(32768);for(var Cr=0;Cr<32768;++Cr){var vf=(Cr&43690)>>>1|(Cr&21845)<<1;vf=(vf&52428)>>>2|(vf&13107)<<2,vf=(vf&61680)>>>4|(vf&3855)<<4,bA[Cr]=((vf&65280)>>>8|(vf&255)<<8)>>>1}var gu=function(n,e,t){for(var r=n.length,i=0,s=new ho(e);i<r;++i)++s[n[i]-1];var o=new ho(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new ho(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],c=e-n[i],h=o[n[i]-1]++<<c,p=h|(1<<c)-1;h<=p;++h)a[bA[h]>>>l]=u}else for(a=new ho(r),i=0;i<r;++i)a[i]=bA[o[n[i]-1]++]>>>15-n[i];return a},th=new fo(288);for(var Cr=0;Cr<144;++Cr)th[Cr]=8;for(var Cr=144;Cr<256;++Cr)th[Cr]=9;for(var Cr=256;Cr<280;++Cr)th[Cr]=7;for(var Cr=280;Cr<288;++Cr)th[Cr]=8;var I1=new fo(32);for(var Cr=0;Cr<32;++Cr)I1[Cr]=5;var die=gu(th,9,0),pie=gu(th,9,1),mie=gu(I1,5,0),gie=gu(I1,5,1),n5=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},_l=function(n,e,t){var r=e/8>>0;return(n[r]|n[r+1]<<8)>>>(e&7)&t},r5=function(n,e){var t=e/8>>0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>>(e&7)},ME=function(n){return(n/8>>0)+(n&7&&1)},_F=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof ho?ho:n instanceof k1?k1:fo)(t-e);return r.set(n.subarray(e,t)),r},vie=function(n,e,t){var r=n.length,i=!e||t,s=!t||t.i;t||(t={}),e||(e=new fo(r*3));var o=function(j){var we=e.length;if(j>we){var me=new fo(Math.max(we*2,j));me.set(e),e=me}},a=t.f||0,l=t.p||0,u=t.b||0,c=t.l,h=t.d,p=t.m,m=t.n,y=r*8;do{if(!c){t.f=a=_l(n,l,1);var g=_l(n,l+1,3);if(l+=3,g)if(g==1)c=pie,h=gie,p=9,m=5;else if(g==2){var A=_l(n,l,31)+257,C=_l(n,l+10,15)+4,T=A+_l(n,l+5,31)+1;l+=14;for(var D=new fo(T),I=new fo(19),B=0;B<C;++B)I[wA[B]]=_l(n,l+B*3,7);l+=C*3;var W=n5(I),G=(1<<W)-1;if(!s&&l+T*(W+7)>y)break;for(var L=gu(I,W,1),B=0;B<T;){var P=L[_l(n,l,G)];l+=P&15;var x=P>>>4;if(x<16)D[B++]=x;else{var q=0,z=0;for(x==16?(z=3+_l(n,l,3),l+=2,q=D[B-1]):x==17?(z=3+_l(n,l,7),l+=3):x==18&&(z=11+_l(n,l,127),l+=7);z--;)D[B++]=q}}var ne=D.subarray(0,A),re=D.subarray(A);p=n5(ne),m=n5(re),c=gu(ne,p,1),h=gu(re,m,1)}else throw"invalid block type";else{var x=ME(l)+4,w=n[x-4]|n[x-3]<<8,_=x+w;if(_>r){if(s)throw"unexpected EOF";break}i&&o(u+w),e.set(n.subarray(x,_),u),t.b=u+=w,t.p=l=_*8;continue}if(l>y)throw"unexpected EOF"}i&&o(u+131072);for(var le=(1<<p)-1,F=(1<<m)-1,X=p+m+18;s||l+X<y;){var q=c[r5(n,l)&le],ie=q>>>4;if(l+=q&15,l>y)throw"unexpected EOF";if(!q)throw"invalid length/literal";if(ie<256)e[u++]=ie;else if(ie==256){c=null;break}else{var ve=ie-254;if(ie>264){var B=ie-257,N=Qw[B];ve=_l(n,l,(1<<N)-1)+xF[B],l+=N}var V=h[r5(n,l)&F],Q=V>>>4;if(!V)throw"invalid distance";l+=V&15;var re=hie[Q];if(Q>3){var N=Zw[Q];re+=r5(n,l)&(1<<N)-1,l+=N}if(l>y)throw"unexpected EOF";i&&o(u+131072);for(var ue=u+ve;u<ue;u+=4)e[u]=e[u-re],e[u+1]=e[u+1-re],e[u+2]=e[u+2-re],e[u+3]=e[u+3-re];u=ue}}t.l=c,t.p=l,t.b=u,c&&(a=1,t.m=p,t.d=h,t.n=m)}while(!a);return u==e.length?e:_F(e,0,u)},ec=function(n,e,t){t<<=e&7;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8},S0=function(n,e,t){t<<=e&7;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},i5=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return[new fo(0),0];if(i==1){var o=new fo(t[0].s+1);return o[t[0].s]=1,[o,1]}t.sort(function(T,D){return T.f-D.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],u=0,c=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=t[t[u].f<t[h].f?u++:h++],l=t[u!=c&&t[u].f<t[h].f?u++:h++],t[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var m=new ho(p+1),y=SA(t[c-1],m,0);if(y>e){var r=0,g=0,x=y-e,w=1<<x;for(s.sort(function(D,I){return m[I.s]-m[D.s]||D.f-I.f});r<i;++r){var _=s[r].s;if(m[_]>e)g+=w-(1<<y-m[_]),m[_]=e;else break}for(g>>>=x;g>0;){var A=s[r].s;m[A]<e?g-=1<<e-m[A]++-1:++r}for(;r>=0&&g;--r){var C=s[r].s;m[C]==e&&(--m[C],++g)}y=e}return[new fo(m),y]},SA=function(n,e,t){return n.s==-1?Math.max(SA(n.l,e,t+1),SA(n.r,e,t+1)):e[n.s]=t},V4=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ho(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return[t.subarray(0,r),e]},A0=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Ax=function(n,e,t){var r=t.length,i=ME(e+2);n[i]=r&255,n[i+1]=r>>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},q4=function(n,e,t,r,i,s,o,a,l,u,c){ec(e,c++,t),++i[256];for(var h=i5(i,15),p=h[0],m=h[1],y=i5(s,15),g=y[0],x=y[1],w=V4(p),_=w[0],A=w[1],C=V4(g),T=C[0],D=C[1],I=new ho(19),B=0;B<_.length;++B)I[_[B]&31]++;for(var B=0;B<T.length;++B)I[T[B]&31]++;for(var W=i5(I,7),G=W[0],L=W[1],P=19;P>4&&!G[wA[P-1]];--P);var q=u+5<<3,z=A0(i,th)+A0(s,I1)+o,ne=A0(i,p)+A0(s,g)+o+14+3*P+A0(I,G)+(2*I[16]+3*I[17]+7*I[18]);if(q<=z&&q<=ne)return Ax(e,c,n.subarray(l,l+u));var re,le,F,X;if(ec(e,c,1+(ne<z)),c+=2,ne<z){re=gu(p,m,0),le=p,F=gu(g,x,0),X=g;var ie=gu(G,L,0);ec(e,c,A-257),ec(e,c+5,D-1),ec(e,c+10,P-4),c+=14;for(var B=0;B<P;++B)ec(e,c+3*B,G[wA[B]]);c+=3*P;for(var ve=[_,T],N=0;N<2;++N)for(var V=ve[N],B=0;B<V.length;++B){var Q=V[B]&31;ec(e,c,ie[Q]),c+=G[Q],Q>15&&(ec(e,c,V[B]>>>5&127),c+=V[B]>>>12)}}else re=die,le=th,F=mie,X=I1;for(var B=0;B<a;++B)if(r[B]>255){var Q=r[B]>>>18&31;S0(e,c,re[Q+257]),c+=le[Q+257],Q>7&&(ec(e,c,r[B]>>>23&31),c+=Qw[Q]);var ue=r[B]&31;S0(e,c,F[ue]),c+=X[ue],ue>3&&(S0(e,c,r[B]>>>5&8191),c+=Zw[ue])}else S0(e,c,re[r[B]]),c+=le[r[B]];return S0(e,c,re[256]),c+le[256]},yie=new k1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xie=new fo(0),wie=function(n,e,t,r,i,s){var o=n.length,a=new fo(r+o+5*(1+Math.floor(o/7e3))+i),l=a.subarray(r,a.length-i),u=0;if(!e||o<8)for(var c=0;c<=o;c+=65535){var h=c+65535;h<o?u=Ax(l,u,n.subarray(c,h)):(l[c]=s,u=Ax(l,u,n.subarray(c,o)))}else{for(var p=yie[e-1],m=p>>>13,y=p&8191,g=(1<<t)-1,x=new ho(32768),w=new ho(g+1),_=Math.ceil(t/3),A=2*_,C=function(Ge){return(n[Ge]^n[Ge+1]<<_^n[Ge+2]<<A)&g},T=new k1(25e3),D=new ho(288),I=new ho(32),B=0,W=0,c=0,G=0,L=0,P=0;c<o;++c){var q=C(c),z=c&32767,ne=w[q];if(x[z]=ne,w[q]=z,L<=c){var re=o-c;if((B>7e3||G>24576)&&re>423){u=q4(n,l,0,T,D,I,W,G,P,c-P,u),G=B=W=0,P=c;for(var le=0;le<286;++le)D[le]=0;for(var le=0;le<30;++le)I[le]=0}var F=2,X=0,ie=y,ve=z-ne&32767;if(re>2&&q==C(c-ve))for(var N=Math.min(m,re)-1,V=Math.min(32767,c),Q=Math.min(258,re);ve<=V&&--ie&&z!=ne;){if(n[c+F]==n[c+F-ve]){for(var ue=0;ue<Q&&n[c+ue]==n[c+ue-ve];++ue);if(ue>F){if(F=ue,X=ve,ue>N)break;for(var j=Math.min(ve,ue-2),we=0,le=0;le<j;++le){var me=c-ve+le+32768&32767,Ae=x[me],Te=me-Ae+32768&32767;Te>we&&(we=Te,ne=me)}}}z=ne,ne=x[z],ve+=z-ne+32768&32767}if(X){T[G++]=268435456|_A[F]<<18|W4[X];var De=_A[F]&31,xe=W4[X]&31;W+=Qw[De]+Zw[xe],++D[257+De],++I[xe],L=c+F,++B}else T[G++]=n[c],++D[n[c]]}}u=q4(n,l,s,T,D,I,W,G,P,c-P,u),s||(u=Ax(l,u,xie))}return _F(a,0,r+ME(u)+i)},_ie=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length,o=0;o!=s;){for(var a=Math.min(o+5552,s);o<a;++o)r+=t[o],i+=r;r%=65521,i%=65521}n=r,e=i},d:function(){return(n>>>8<<16|(e&255)<<8|e>>>8)+((n&255)<<23)*2}}},bie=function(n,e,t,r,i){return wie(n,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+e.mem,t,r,!i)},Sie=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Aie=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)},Mie=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function AA(n,e){e===void 0&&(e={});var t=_ie();t.p(n);var r=bie(n,e,2,4);return Aie(r,e),Sie(r,r.length-4,t.d()),r}function Eie(n,e){return vie((Mie(n),n.subarray(2,-4)),e)}var on=function(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this}();function s5(){on.console&&typeof on.console.log=="function"&&on.console.log.apply(on.console,arguments)}var wr={log:s5,warn:function(n){on.console&&(typeof on.console.warn=="function"?on.console.warn.apply(on.console,arguments):s5.call(null,arguments))},error:function(n){on.console&&(typeof on.console.error=="function"?on.console.error.apply(on.console,arguments):s5(n))}};function o5(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){qh(r.response,e,t)},r.onerror=function(){wr.error("could not download file")},r.send()}function Y4(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Vy(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var J0,MA,qh=on.saveAs||((typeof window=="undefined"?"undefined":cr(window))!=="object"||window!==on?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=on.URL||on.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Y4(i.href)?o5(n,e,t):Vy(i,i.target="_blank"):Vy(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Vy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Y4(n))o5(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Vy(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:cr(s)!=="object"&&(wr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return o5(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(on.HTMLElement)||on.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader=="undefined"?"undefined":cr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(n)}else{var l=on.URL||on.webkitURL,u=l.createObjectURL(n);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function bF(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function a5(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Hs(t,r,i,s,e[0],7,-680876936),s=Hs(s,t,r,i,e[1],12,-389564586),i=Hs(i,s,t,r,e[2],17,606105819),r=Hs(r,i,s,t,e[3],22,-1044525330),t=Hs(t,r,i,s,e[4],7,-176418897),s=Hs(s,t,r,i,e[5],12,1200080426),i=Hs(i,s,t,r,e[6],17,-1473231341),r=Hs(r,i,s,t,e[7],22,-45705983),t=Hs(t,r,i,s,e[8],7,1770035416),s=Hs(s,t,r,i,e[9],12,-1958414417),i=Hs(i,s,t,r,e[10],17,-42063),r=Hs(r,i,s,t,e[11],22,-1990404162),t=Hs(t,r,i,s,e[12],7,1804603682),s=Hs(s,t,r,i,e[13],12,-40341101),i=Hs(i,s,t,r,e[14],17,-1502002290),t=Gs(t,r=Hs(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Gs(s,t,r,i,e[6],9,-1069501632),i=Gs(i,s,t,r,e[11],14,643717713),r=Gs(r,i,s,t,e[0],20,-373897302),t=Gs(t,r,i,s,e[5],5,-701558691),s=Gs(s,t,r,i,e[10],9,38016083),i=Gs(i,s,t,r,e[15],14,-660478335),r=Gs(r,i,s,t,e[4],20,-405537848),t=Gs(t,r,i,s,e[9],5,568446438),s=Gs(s,t,r,i,e[14],9,-1019803690),i=Gs(i,s,t,r,e[3],14,-187363961),r=Gs(r,i,s,t,e[8],20,1163531501),t=Gs(t,r,i,s,e[13],5,-1444681467),s=Gs(s,t,r,i,e[2],9,-51403784),i=Gs(i,s,t,r,e[7],14,1735328473),t=js(t,r=Gs(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=js(s,t,r,i,e[8],11,-2022574463),i=js(i,s,t,r,e[11],16,1839030562),r=js(r,i,s,t,e[14],23,-35309556),t=js(t,r,i,s,e[1],4,-1530992060),s=js(s,t,r,i,e[4],11,1272893353),i=js(i,s,t,r,e[7],16,-155497632),r=js(r,i,s,t,e[10],23,-1094730640),t=js(t,r,i,s,e[13],4,681279174),s=js(s,t,r,i,e[0],11,-358537222),i=js(i,s,t,r,e[3],16,-722521979),r=js(r,i,s,t,e[6],23,76029189),t=js(t,r,i,s,e[9],4,-640364487),s=js(s,t,r,i,e[12],11,-421815835),i=js(i,s,t,r,e[15],16,530742520),t=Ws(t,r=js(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ws(s,t,r,i,e[7],10,1126891415),i=Ws(i,s,t,r,e[14],15,-1416354905),r=Ws(r,i,s,t,e[5],21,-57434055),t=Ws(t,r,i,s,e[12],6,1700485571),s=Ws(s,t,r,i,e[3],10,-1894986606),i=Ws(i,s,t,r,e[10],15,-1051523),r=Ws(r,i,s,t,e[1],21,-2054922799),t=Ws(t,r,i,s,e[8],6,1873313359),s=Ws(s,t,r,i,e[15],10,-30611744),i=Ws(i,s,t,r,e[6],15,-1560198380),r=Ws(r,i,s,t,e[13],21,1309151649),t=Ws(t,r,i,s,e[4],6,-145523070),s=Ws(s,t,r,i,e[11],10,-1120210379),i=Ws(i,s,t,r,e[2],15,718787259),r=Ws(r,i,s,t,e[9],21,-343485551),n[0]=Bf(t,n[0]),n[1]=Bf(r,n[1]),n[2]=Bf(i,n[2]),n[3]=Bf(s,n[3])}function e_(n,e,t,r,i,s){return e=Bf(Bf(e,n),Bf(r,s)),Bf(e<<i|e>>>32-i,t)}function Hs(n,e,t,r,i,s,o){return e_(e&t|~e&r,n,e,i,s,o)}function Gs(n,e,t,r,i,s,o){return e_(e&r|t&~r,n,e,i,s,o)}function js(n,e,t,r,i,s,o){return e_(e^t^r,n,e,i,s,o)}function Ws(n,e,t,r,i,s,o){return e_(t^(e|~r),n,e,i,s,o)}function SF(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)a5(r,Cie(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(a5(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,a5(r,i),r}function Cie(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}J0=on.atob.bind(on),MA=on.btoa.bind(on);var J4="0123456789abcdef".split("");function Tie(n){for(var e="",t=0;t<4;t++)e+=J4[n>>8*t+4&15]+J4[n>>8*t&15];return e}function Lie(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function EA(n){return SF(n).map(Lie).join("")}var Rie=function(n){for(var e=0;e<n.length;e++)n[e]=Tie(n[e]);return n.join("")}(SF("hello"))!="5d41402abc4b2a76b9719d911017c592";function Bf(n,e){if(Rie){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function CA(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}t=n,r=a}else a=r;var h=e.length,p=0,m=0,y="";for(l=0;l<h;l++)m=(m+(c=a[p=(p+1)%256]))%256,a[p]=a[m],a[m]=c,o=a[(a[p]+a[m])%256],y+=String.fromCharCode(e.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var X4={print:4,modify:8,copy:16,"annot-forms":32};function Op(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(X4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=X4[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=EA(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=CA(this.encryptionKey,this.padding)}function Up(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function $4(n){if(cr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){on.console&&wr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function p2(n){if(!(this instanceof p2))return new p2(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function AF(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Xh(n,e,t,r,i){if(!(this instanceof Xh))return new Xh(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,AF.call(this,r,i)}function sm(n,e,t,r,i){if(!(this instanceof sm))return new sm(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,AF.call(this,r,i)}function rn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;cr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(c=n.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),u=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=$4;var y="1.3",g=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(E){y=E};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return x};var w=m.__private__.getPageFormat=function(E){return x[E]};i=i||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},A=_.COMPAT;function C(){this.saveGraphicsState(),oe(new Kt(it,0,0,-it,0,al()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),u="n",A=_.ADVANCED}function T(){this.restoreGraphicsState(),u="S",A=_.COMPAT}var D=m.__private__.combineFontStyleAndFontWeight=function(E,J){if(E=="bold"&&J=="normal"||E=="bold"&&J==400||E=="normal"&&J=="italic"||E=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(E=J==400||J==="normal"?E==="italic"?"italic":"normal":J!=700&&J!=="bold"||E!=="normal"?(J==700?"bold":J)+""+E:"bold"),E};m.advancedAPI=function(E){var J=A===_.COMPAT;return J&&C.call(this),typeof E!="function"||(E(this),J&&T.call(this)),this},m.compatAPI=function(E){var J=A===_.ADVANCED;return J&&T.call(this),typeof E!="function"||(E(this),J&&C.call(this)),this},m.isAdvancedAPI=function(){return A===_.ADVANCED};var I,B=function(E){if(A!==_.ADVANCED)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=m.roundToPrecision=m.__private__.roundToPrecision=function(E,J){var ge=e||J;if(isNaN(E)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(ge).replace(/0+$/,"")};I=m.hpf=m.__private__.hpf=typeof l=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return W(E,l)}:l==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return W(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return W(E,16)};var G=m.f2=m.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return W(E,2)},L=m.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return W(E,3)},P=m.scale=m.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return A===_.COMPAT?E*it:A===_.ADVANCED?E:void 0},q=function(E){return A===_.COMPAT?al()-E:A===_.ADVANCED?E:void 0},z=function(E){return P(q(E))};m.__private__.setPrecision=m.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var ne,re="00000000000000000000000000000000",le=m.__private__.getFileId=function(){return re},F=m.__private__.setFileId=function(E){return re=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(wi=new Op(c.userPermissions,c.userPassword,c.ownerPassword,re)),re};m.setFileId=function(E){return F(E),this},m.getFileId=function(){return le()};var X=m.__private__.convertDateToPDFDate=function(E){var J=E.getTimezoneOffset(),ge=J<0?"+":"-",Ee=Math.floor(Math.abs(J/60)),Fe=Math.abs(J%60),Ze=[ge,Q(Ee),"'",Q(Fe),"'"].join("");return["D:",E.getFullYear(),Q(E.getMonth()+1),Q(E.getDate()),Q(E.getHours()),Q(E.getMinutes()),Q(E.getSeconds()),Ze].join("")},ie=m.__private__.convertPDFDateToDate=function(E){var J=parseInt(E.substr(2,4),10),ge=parseInt(E.substr(6,2),10)-1,Ee=parseInt(E.substr(8,2),10),Fe=parseInt(E.substr(10,2),10),Ze=parseInt(E.substr(12,2),10),dt=parseInt(E.substr(14,2),10);return new Date(J,ge,Ee,Fe,Ze,dt,0)},ve=m.__private__.setCreationDate=function(E){var J;if(E===void 0&&(E=new Date),E instanceof Date)J=X(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=E}return ne=J},N=m.__private__.getCreationDate=function(E){var J=ne;return E==="jsDate"&&(J=ie(ne)),J};m.setCreationDate=function(E){return ve(E),this},m.getCreationDate=function(E){return N(E)};var V,Q=m.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},ue=m.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},j=0,we=[],me=[],Ae=0,Te=[],De=[],xe=!1,Me=me,Ge=function(){j=0,Ae=0,me=[],we=[],Te=[],qt=qe(),Jt=qe()};m.__private__.setCustomOutputDestination=function(E){xe=!0,Me=E};var be=function(E){xe||(Me=E)};m.__private__.resetCustomOutputDestination=function(){xe=!1,Me=me};var oe=m.__private__.out=function(E){return E=E.toString(),Ae+=E.length+1,Me.push(E),Me},$e=m.__private__.write=function(E){return oe(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},Ke=m.__private__.getArrayBuffer=function(E){for(var J=E.length,ge=new ArrayBuffer(J),Ee=new Uint8Array(ge);J--;)Ee[J]=E.charCodeAt(J);return ge},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return je};var et=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(E){return et=A===_.ADVANCED?E/it:E,this};var ct,ae=m.__private__.getFontSize=m.getFontSize=function(){return A===_.COMPAT?et:et*it},ee=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(E){return ee=E,this},m.__private__.getR2L=m.getR2L=function(){return ee};var Se,He=m.__private__.setZoomMode=function(E){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))ct=E;else if(isNaN(E)){if(J.indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');ct=E}else ct=parseInt(E,10)};m.__private__.getZoomMode=function(){return ct};var rt,ft=m.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Se=E};m.__private__.getPageMode=function(){return Se};var gt=m.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');rt=E};m.__private__.getLayoutMode=function(){return rt},m.__private__.setDisplayMode=m.setDisplayMode=function(E,J,ge){return He(E),gt(J),ft(ge),this};var Pe={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(E){if(Object.keys(Pe).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pe[E]},m.__private__.getDocumentProperties=function(){return Pe},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(E){for(var J in Pe)Pe.hasOwnProperty(J)&&E[J]&&(Pe[J]=E[J]);return this},m.__private__.setDocumentProperty=function(E,J){if(Object.keys(Pe).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pe[E]=J};var Et,it,_e,fe,Qe,Je={},yt={},_t=[],St={},xt={},Lt={},At={},pt=null,Ft=0,Dt=[],mn=new $4(m),Ts=n.hotfixes||[],On={},ds={},Ls=[],Kt=function E(J,ge,Ee,Fe,Ze,dt){if(!(this instanceof E))return new E(J,ge,Ee,Fe,Ze,dt);isNaN(J)&&(J=1),isNaN(ge)&&(ge=0),isNaN(Ee)&&(Ee=0),isNaN(Fe)&&(Fe=1),isNaN(Ze)&&(Ze=0),isNaN(dt)&&(dt=0),this._matrix=[J,ge,Ee,Fe,Ze,dt]};Object.defineProperty(Kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Kt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(E)},Kt.prototype.multiply=function(E){var J=E.sx*this.sx+E.shy*this.shx,ge=E.sx*this.shy+E.shy*this.sy,Ee=E.shx*this.sx+E.sy*this.shx,Fe=E.shx*this.shy+E.sy*this.sy,Ze=E.tx*this.sx+E.ty*this.shx+this.tx,dt=E.tx*this.shy+E.ty*this.sy+this.ty;return new Kt(J,ge,Ee,Fe,Ze,dt)},Kt.prototype.decompose=function(){var E=this.sx,J=this.shy,ge=this.shx,Ee=this.sy,Fe=this.tx,Ze=this.ty,dt=Math.sqrt(E*E+J*J),Rt=(E/=dt)*ge+(J/=dt)*Ee;ge-=E*Rt,Ee-=J*Rt;var Wt=Math.sqrt(ge*ge+Ee*Ee);return Rt/=Wt,E*(Ee/=Wt)<J*(ge/=Wt)&&(E=-E,J=-J,Rt=-Rt,dt=-dt),{scale:new Kt(dt,0,0,Wt,0,0),translate:new Kt(1,0,0,1,Fe,Ze),rotate:new Kt(E,J,-J,E,0,0),skew:new Kt(1,0,Rt,1,0,0)}},Kt.prototype.toString=function(E){return this.join(" ")},Kt.prototype.inversed=function(){var E=this.sx,J=this.shy,ge=this.shx,Ee=this.sy,Fe=this.tx,Ze=this.ty,dt=1/(E*Ee-J*ge),Rt=Ee*dt,Wt=-J*dt,ln=-ge*dt,Zt=E*dt;return new Kt(Rt,Wt,ln,Zt,-Rt*Fe-ln*Ze,-Wt*Fe-Zt*Ze)},Kt.prototype.applyToPoint=function(E){var J=E.x*this.sx+E.y*this.shx+this.tx,ge=E.x*this.shy+E.y*this.sy+this.ty;return new so(J,ge)},Kt.prototype.applyToRectangle=function(E){var J=this.applyToPoint(E),ge=this.applyToPoint(new so(E.x+E.w,E.y+E.h));return new Du(J.x,J.y,ge.x-J.x,ge.y-J.y)},Kt.prototype.clone=function(){var E=this.sx,J=this.shy,ge=this.shx,Ee=this.sy,Fe=this.tx,Ze=this.ty;return new Kt(E,J,ge,Ee,Fe,Ze)},m.Matrix=Kt;var eo=m.matrixMult=function(E,J){return J.multiply(E)},wo=new Kt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=wo;var de=function(E,J){if(!xt[E]){var ge=(J instanceof Xh?"Sh":"P")+(Object.keys(St).length+1).toString(10);J.id=ge,xt[E]=ge,St[ge]=J,mn.publish("addPattern",J)}};m.ShadingPattern=Xh,m.TilingPattern=sm,m.addShadingPattern=function(E,J){return B("addShadingPattern()"),de(E,J),this},m.beginTilingPattern=function(E){B("beginTilingPattern()"),Ao(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},m.endTilingPattern=function(E,J){B("endTilingPattern()"),J.stream=De[V].join(`
`),de(E,J),mn.publish("endTilingPattern",J),Ls.pop().restore()};var Oe=m.__private__.newObject=function(){var E=qe();return We(E,!0),E},qe=m.__private__.newObjectDeferred=function(){return j++,we[j]=function(){return Ae},j},We=function(E,J){return J=typeof J=="boolean"&&J,we[E]=Ae,J&&oe(E+" 0 obj"),E},ot=m.__private__.newAdditionalObject=function(){var E={objId:qe(),content:""};return Te.push(E),E},qt=qe(),Jt=qe(),en=m.__private__.decodeColorString=function(E){var J=E.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var ge=parseFloat(J[0]);J=[ge,ge,ge,"r"]}for(var Ee="#",Fe=0;Fe<3;Fe++)Ee+=("0"+Math.floor(255*parseFloat(J[Fe])).toString(16)).slice(-2);return Ee},Qt=m.__private__.encodeColorString=function(E){var J;typeof E=="string"&&(E={ch1:E});var ge=E.ch1,Ee=E.ch2,Fe=E.ch3,Ze=E.ch4,dt=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Rt=new bF(ge);if(Rt.ok)ge=Rt.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Wt=parseInt(ge.substr(1),16);ge=Wt>>16&255,Ee=Wt>>8&255,Fe=255&Wt}if(Ee===void 0||Ze===void 0&&ge===Ee&&Ee===Fe)if(typeof ge=="string")J=ge+" "+dt[0];else switch(E.precision){case 2:J=G(ge/255)+" "+dt[0];break;case 3:default:J=L(ge/255)+" "+dt[0]}else if(Ze===void 0||cr(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return J=["1.","1.","1.",dt[1]].join(" ");if(typeof ge=="string")J=[ge,Ee,Fe,dt[1]].join(" ");else switch(E.precision){case 2:J=[G(ge/255),G(Ee/255),G(Fe/255),dt[1]].join(" ");break;default:case 3:J=[L(ge/255),L(Ee/255),L(Fe/255),dt[1]].join(" ")}}else if(typeof ge=="string")J=[ge,Ee,Fe,Ze,dt[2]].join(" ");else switch(E.precision){case 2:J=[G(ge),G(Ee),G(Fe),G(Ze),dt[2]].join(" ");break;case 3:default:J=[L(ge),L(Ee),L(Fe),L(Ze),dt[2]].join(" ")}return J},_n=m.__private__.getFilters=function(){return o},an=m.__private__.putStream=function(E){var J=(E=E||{}).data||"",ge=E.filters||_n(),Ee=E.alreadyAppliedFilters||[],Fe=E.addLength1||!1,Ze=J.length,dt=E.objectId,Rt=function(Pr){return Pr};if(c!==null&&dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Rt=wi.encryptor(dt,0));var Wt={};ge===!0&&(ge=["FlateEncode"]);var ln=E.additionalKeyValues||[],Zt=(Wt=rn.API.processDataByFilters!==void 0?rn.API.processDataByFilters(J,ge):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Wt.data.length!==0&&(ln.push({key:"Length",value:Wt.data.length}),Fe===!0&&ln.push({key:"Length1",value:Ze})),Zt.length!=0)if(Zt.split("/").length-1==1)ln.push({key:"Filter",value:Zt});else{ln.push({key:"Filter",value:"["+Zt+"]"});for(var un=0;un<ln.length;un+=1)if(ln[un].key==="DecodeParms"){for(var Zn=[],qn=0;qn<Wt.reverseChain.split("/").length-1;qn+=1)Zn.push("null");Zn.push(ln[un].value),ln[un].value="["+Zn.join(" ")+"]"}}oe("<<");for(var nr=0;nr<ln.length;nr++)oe("/"+ln[nr].key+" "+ln[nr].value);oe(">>"),Wt.data.length!==0&&(oe("stream"),oe(Rt(Wt.data)),oe("endstream"))},cn=m.__private__.putPage=function(E){var J=E.number,ge=E.data,Ee=E.objId,Fe=E.contentsObjId;We(Ee,!0),oe("<</Type /Page"),oe("/Parent "+E.rootDictionaryObjId+" 0 R"),oe("/Resources "+E.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(I(E.mediaBox.bottomLeftX))+" "+parseFloat(I(E.mediaBox.bottomLeftY))+" "+I(E.mediaBox.topRightX)+" "+I(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&oe("/CropBox ["+I(E.cropBox.bottomLeftX)+" "+I(E.cropBox.bottomLeftY)+" "+I(E.cropBox.topRightX)+" "+I(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&oe("/BleedBox ["+I(E.bleedBox.bottomLeftX)+" "+I(E.bleedBox.bottomLeftY)+" "+I(E.bleedBox.topRightX)+" "+I(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&oe("/TrimBox ["+I(E.trimBox.bottomLeftX)+" "+I(E.trimBox.bottomLeftY)+" "+I(E.trimBox.topRightX)+" "+I(E.trimBox.topRightY)+"]"),E.artBox!==null&&oe("/ArtBox ["+I(E.artBox.bottomLeftX)+" "+I(E.artBox.bottomLeftY)+" "+I(E.artBox.topRightX)+" "+I(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&oe("/UserUnit "+E.userUnit),mn.publish("putPage",{objId:Ee,pageContext:Dt[J],pageNumber:J,page:ge}),oe("/Contents "+Fe+" 0 R"),oe(">>"),oe("endobj");var Ze=ge.join(`
`);return A===_.ADVANCED&&(Ze+=`
Q`),We(Fe,!0),an({data:Ze,filters:_n(),objectId:Fe}),oe("endobj"),Ee},Vn=m.__private__.putPages=function(){var E,J,ge=[];for(E=1;E<=Ft;E++)Dt[E].objId=qe(),Dt[E].contentsObjId=qe();for(E=1;E<=Ft;E++)ge.push(cn({number:E,data:De[E],objId:Dt[E].objId,contentsObjId:Dt[E].contentsObjId,mediaBox:Dt[E].mediaBox,cropBox:Dt[E].cropBox,bleedBox:Dt[E].bleedBox,trimBox:Dt[E].trimBox,artBox:Dt[E].artBox,userUnit:Dt[E].userUnit,rootDictionaryObjId:qt,resourceDictionaryObjId:Jt}));We(qt,!0),oe("<</Type /Pages");var Ee="/Kids [";for(J=0;J<Ft;J++)Ee+=ge[J]+" 0 R ";oe(Ee+"]"),oe("/Count "+Ft),oe(">>"),oe("endobj"),mn.publish("postPutPages")},Rs=function(E){mn.publish("putFont",{font:E,out:oe,newObject:Oe,putStream:an}),E.isAlreadyPutted!==!0&&(E.objectNumber=Oe(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Up(E.postScriptName)),oe("/Subtype /Type1"),typeof E.encoding=="string"&&oe("/Encoding /"+E.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},to=function(){for(var E in Je)Je.hasOwnProperty(E)&&(h===!1||h===!0&&p.hasOwnProperty(E))&&Rs(Je[E])},no=function(E){E.objectNumber=Oe();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[I(E.x),I(E.y),I(E.x+E.width),I(E.y+E.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var ge=E.pages[1].join(`
`);an({data:ge,additionalKeyValues:J,objectId:E.objectNumber}),oe("endobj")},Ci=function(){for(var E in On)On.hasOwnProperty(E)&&no(On[E])},Rn=function(E,J){var ge,Ee=[],Fe=1/(J-1);for(ge=0;ge<1;ge+=Fe)Ee.push(ge);if(Ee.push(1),E[0].offset!=0){var Ze={offset:0,color:E[0].color};E.unshift(Ze)}if(E[E.length-1].offset!=1){var dt={offset:1,color:E[E.length-1].color};E.push(dt)}for(var Rt="",Wt=0,ln=0;ln<Ee.length;ln++){for(ge=Ee[ln];ge>E[Wt+1].offset;)Wt++;var Zt=E[Wt].offset,un=(ge-Zt)/(E[Wt+1].offset-Zt),Zn=E[Wt].color,qn=E[Wt+1].color;Rt+=ue(Math.round((1-un)*Zn[0]+un*qn[0]).toString(16))+ue(Math.round((1-un)*Zn[1]+un*qn[1]).toString(16))+ue(Math.round((1-un)*Zn[2]+un*qn[2]).toString(16))}return Rt.trim()},_o=function(E,J){J||(J=21);var ge=Oe(),Ee=Rn(E.colors,J),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+J+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),an({data:Ee,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),oe("endobj"),E.objectNumber=Oe(),oe("<< /ShadingType "+E.type),oe("/ColorSpace /DeviceRGB");var Ze="/Coords ["+I(parseFloat(E.coords[0]))+" "+I(parseFloat(E.coords[1]))+" ";E.type===2?Ze+=I(parseFloat(E.coords[2]))+" "+I(parseFloat(E.coords[3])):Ze+=I(parseFloat(E.coords[2]))+" "+I(parseFloat(E.coords[3]))+" "+I(parseFloat(E.coords[4]))+" "+I(parseFloat(E.coords[5])),oe(Ze+="]"),E.matrix&&oe("/Matrix ["+E.matrix.toString()+"]"),oe("/Function "+ge+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},tr=function(E,J){var ge=qe(),Ee=Oe();J.push({resourcesOid:ge,objectOid:Ee}),E.objectNumber=Ee;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+E.boundingBox.map(I).join(" ")+"]"}),Fe.push({key:"XStep",value:I(E.xStep)}),Fe.push({key:"YStep",value:I(E.yStep)}),Fe.push({key:"Resources",value:ge+" 0 R"}),E.matrix&&Fe.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),an({data:E.stream,additionalKeyValues:Fe,objectId:E.objectNumber}),oe("endobj")},oi=function(E){var J;for(J in St)St.hasOwnProperty(J)&&(St[J]instanceof Xh?_o(St[J]):St[J]instanceof sm&&tr(St[J],E))},ps=function(E){for(var J in E.objectNumber=Oe(),oe("<<"),E)switch(J){case"opacity":oe("/ca "+G(E[J]));break;case"stroke-opacity":oe("/CA "+G(E[J]))}oe(">>"),oe("endobj")},tl=function(){var E;for(E in Lt)Lt.hasOwnProperty(E)&&ps(Lt[E])},Go=function(){for(var E in oe("/XObject <<"),On)On.hasOwnProperty(E)&&On[E].objectNumber>=0&&oe("/"+E+" "+On[E].objectNumber+" 0 R");mn.publish("putXobjectDict"),oe(">>")},vr=function(){wi.oid=Oe(),oe("<<"),oe("/Filter /Standard"),oe("/V "+wi.v),oe("/R "+wi.r),oe("/U <"+wi.toHexString(wi.U)+">"),oe("/O <"+wi.toHexString(wi.O)+">"),oe("/P "+wi.P),oe(">>"),oe("endobj")},Ti=function(){for(var E in oe("/Font <<"),Je)Je.hasOwnProperty(E)&&(h===!1||h===!0&&p.hasOwnProperty(E))&&oe("/"+E+" "+Je[E].objectNumber+" 0 R");oe(">>")},jn=function(){if(Object.keys(St).length>0){for(var E in oe("/Shading <<"),St)St.hasOwnProperty(E)&&St[E]instanceof Xh&&St[E].objectNumber>=0&&oe("/"+E+" "+St[E].objectNumber+" 0 R");mn.publish("putShadingPatternDict"),oe(">>")}},fn=function(E){if(Object.keys(St).length>0){for(var J in oe("/Pattern <<"),St)St.hasOwnProperty(J)&&St[J]instanceof m.TilingPattern&&St[J].objectNumber>=0&&St[J].objectNumber<E&&oe("/"+J+" "+St[J].objectNumber+" 0 R");mn.publish("putTilingPatternDict"),oe(">>")}},ga=function(){if(Object.keys(Lt).length>0){var E;for(E in oe("/ExtGState <<"),Lt)Lt.hasOwnProperty(E)&&Lt[E].objectNumber>=0&&oe("/"+E+" "+Lt[E].objectNumber+" 0 R");mn.publish("putGStateDict"),oe(">>")}},En=function(E){We(E.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ti(),jn(),fn(E.objectOid),ga(),Go(),oe(">>"),oe("endobj")},Li=function(){var E=[];to(),tl(),Ci(),oi(E),mn.publish("putResources"),E.forEach(En),En({resourcesOid:Jt,objectOid:Number.MAX_SAFE_INTEGER}),mn.publish("postPutResources")},va=function(){mn.publish("putAdditionalObjects");for(var E=0;E<Te.length;E++){var J=Te[E];We(J.objId,!0),oe(J.content),oe("endobj")}mn.publish("postPutAdditionalObjects")},nl=function(E){yt[E.fontName]=yt[E.fontName]||{},yt[E.fontName][E.fontStyle]=E.id},xi=function(E,J,ge,Ee,Fe){var Ze={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:E,fontName:J,fontStyle:ge,encoding:Ee,isStandardFont:Fe||!1,metadata:{}};return mn.publish("addFont",{font:Ze,instance:this}),Je[Ze.id]=Ze,nl(Ze),Ze.id},kc=function(E){for(var J=0,ge=je.length;J<ge;J++){var Ee=xi.call(this,E[J][0],E[J][1],E[J][2],je[J][3],!0);h===!1&&(p[Ee]=!0);var Fe=E[J][0].split("-");nl({id:Ee,fontName:Fe[0],fontStyle:Fe[1]||""})}mn.publish("addFonts",{fonts:Je,dictionary:yt})},bo=function(E){return E.foo=function(){try{return E.apply(this,arguments)}catch(Ee){var J=Ee.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var ge="Error in function "+J.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!on.console)throw new Error(ge);on.console.error(ge,Ee),on.alert&&alert(ge)}},E.foo.bar=E,E.foo},Tu=function(E,J){var ge,Ee,Fe,Ze,dt,Rt,Wt,ln,Zt;if(Fe=(J=J||{}).sourceEncoding||"Unicode",dt=J.outputEncoding,(J.autoencode||dt)&&Je[Et].metadata&&Je[Et].metadata[Fe]&&Je[Et].metadata[Fe].encoding&&(Ze=Je[Et].metadata[Fe].encoding,!dt&&Je[Et].encoding&&(dt=Je[Et].encoding),!dt&&Ze.codePages&&(dt=Ze.codePages[0]),typeof dt=="string"&&(dt=Ze[dt]),dt)){for(Wt=!1,Rt=[],ge=0,Ee=E.length;ge<Ee;ge++)(ln=dt[E.charCodeAt(ge)])?Rt.push(String.fromCharCode(ln)):Rt.push(E[ge]),Rt[ge].charCodeAt(0)>>8&&(Wt=!0);E=Rt.join("")}for(ge=E.length;Wt===void 0&&ge!==0;)E.charCodeAt(ge-1)>>8&&(Wt=!0),ge--;if(!Wt)return E;for(Rt=J.noBOM?[]:[254,255],ge=0,Ee=E.length;ge<Ee;ge++){if((Zt=(ln=E.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(Zt),Rt.push(ln-(Zt<<8))}return String.fromCharCode.apply(void 0,Rt)},Ri=m.__private__.pdfEscape=m.pdfEscape=function(E,J){return Tu(E,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ic=m.__private__.beginPage=function(E){De[++Ft]=[],Dt[Ft]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Ud(Ft),be(De[V])},Ps=function(E,J){var ge,Ee,Fe;switch(t=J||t,typeof E=="string"&&(ge=w(E.toLowerCase()),Array.isArray(ge)&&(Ee=ge[0],Fe=ge[1])),Array.isArray(E)&&(Ee=E[0]*it,Fe=E[1]*it),isNaN(Ee)&&(Ee=i[0],Fe=i[1]),(Ee>14400||Fe>14400)&&(wr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Fe=Math.min(14400,Fe)),i=[Ee,Fe],t.substr(0,1)){case"l":Fe>Ee&&(i=[Fe,Ee]);break;case"p":Ee>Fe&&(i=[Fe,Ee])}Ic(i),Gd(Bu),oe(Vi),_a!==0&&oe(_a+" J"),qi!==0&&oe(qi+" j"),mn.publish("addPage",{pageNumber:Ft})},_g=function(E){E>0&&E<=Ft&&(De.splice(E,1),Dt.splice(E,1),Ft--,V>Ft&&(V=Ft),this.setPage(V))},Ud=function(E){E>0&&E<=Ft&&(V=E)},bg=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return De.length-1},Lu=function(E,J,ge){var Ee,Fe=void 0;return ge=ge||{},E=E!==void 0?E:Je[Et].fontName,J=J!==void 0?J:Je[Et].fontStyle,Ee=E.toLowerCase(),yt[Ee]!==void 0&&yt[Ee][J]!==void 0?Fe=yt[Ee][J]:yt[E]!==void 0&&yt[E][J]!==void 0?Fe=yt[E][J]:ge.disableWarning===!1&&wr.warn("Unable to look up font label for font '"+E+"', '"+J+"'. Refer to getFontList() for available fonts."),Fe||ge.noFallback||(Fe=yt.times[J])==null&&(Fe=yt.times.normal),Fe},Nc=m.__private__.putInfo=function(){var E=Oe(),J=function(Ee){return Ee};for(var ge in c!==null&&(J=wi.encryptor(E,0)),oe("<<"),oe("/Producer ("+Ri(J("jsPDF "+rn.version))+")"),Pe)Pe.hasOwnProperty(ge)&&Pe[ge]&&oe("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+Ri(J(Pe[ge]))+")");oe("/CreationDate ("+Ri(J(ne))+")"),oe(">>"),oe("endobj")},rl=m.__private__.putCatalog=function(E){var J=(E=E||{}).rootDictionaryObjId||qt;switch(Oe(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+J+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+ct;ge.substr(ge.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+G(ct)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Se&&oe("/PageMode /"+Se),mn.publish("putCatalog"),oe(">>"),oe("endobj")},Dc=m.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(j+1)),oe("/Root "+j+" 0 R"),oe("/Info "+(j-1)+" 0 R"),c!==null&&oe("/Encrypt "+wi.oid+" 0 R"),oe("/ID [ <"+re+"> <"+re+"> ]"),oe(">>")},Sg=m.__private__.putHeader=function(){oe("%PDF-"+y),oe("%\xBA\xDF\xAC\xE0")},Ag=m.__private__.putXRef=function(){var E="0000000000";oe("xref"),oe("0 "+(j+1)),oe("0000000000 65535 f ");for(var J=1;J<=j;J++)typeof we[J]=="function"?oe((E+we[J]()).slice(-10)+" 00000 n "):we[J]!==void 0?oe((E+we[J]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},jo=m.__private__.buildDocument=function(){Ge(),be(me),mn.publish("buildDocument"),Sg(),Vn(),va(),Li(),c!==null&&vr(),Nc(),rl();var E=Ae;return Ag(),Dc(),oe("startxref"),oe(""+E),oe("%%EOF"),be(De[V]),me.join(`
`)},Wl=m.__private__.getBlob=function(E){return new Blob([Ke(E)],{type:"application/pdf"})},ya=m.output=m.__private__.output=bo(function(E,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",E){case void 0:return jo();case"save":m.save(J.filename);break;case"arraybuffer":return Ke(jo());case"blob":return Wl(jo());case"bloburi":case"bloburl":if(on.URL!==void 0&&typeof on.URL.createObjectURL=="function")return on.URL&&on.URL.createObjectURL(Wl(jo()))||void 0;wr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",Ee=jo();try{ge=MA(Ee)}catch{ge=MA(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+J.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(on)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Fe=J.pdfObjectUrl,Ze="");var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Rt=on.open();return Rt!==null&&Rt.document.write(dt),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(on)==="[object Window]"){var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',ln=on.open();if(ln!==null){ln.document.write(Wt);var Zt=this;ln.document.documentElement.querySelector("#pdfViewer").onload=function(){ln.document.title=J.filename,ln.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return ln}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(on)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Zn=on.open();if(Zn!==null&&(Zn.document.write(un),Zn.document.title=J.filename),Zn||typeof safari=="undefined")return Zn;break;case"datauri":case"dataurl":return on.document.location.href=this.output("datauristring",J);default:return null}}),zd=function(E){return Array.isArray(Ts)===!0&&Ts.indexOf(E)>-1};switch(r){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=zd("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);it=r}var wi=null;ve(),F();var kn=function(E){return c!==null?wi.encryptor(E,0):function(J){return J}},dh=m.__private__.getPageInfo=m.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[E].objId,pageNumber:E,pageContext:Dt[E]}},sn=m.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Dt)if(Dt[J].objId===E)break;return dh(J)},Hd=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Dt[V].objId,pageNumber:V,pageContext:Dt[V]}};m.addPage=function(){return Ps.apply(this,arguments),this},m.setPage=function(){return Ud.apply(this,arguments),be.call(this,De[V]),this},m.insertPage=function(E){return this.addPage(),this.movePage(V,E),this},m.movePage=function(E,J){var ge,Ee;if(E>J){ge=De[E],Ee=Dt[E];for(var Fe=E;Fe>J;Fe--)De[Fe]=De[Fe-1],Dt[Fe]=Dt[Fe-1];De[J]=ge,Dt[J]=Ee,this.setPage(J)}else if(E<J){ge=De[E],Ee=Dt[E];for(var Ze=E;Ze<J;Ze++)De[Ze]=De[Ze+1],Dt[Ze]=Dt[Ze+1];De[J]=ge,Dt[J]=Ee,this.setPage(J)}return this},m.deletePage=function(){return _g.apply(this,arguments),this},m.__private__.text=m.text=function(E,J,ge,Ee,Fe){var Ze,dt,Rt,Wt,ln,Zt,un,Zn,qn,nr=(Ee=Ee||{}).scope||this;if(typeof E=="number"&&typeof J=="number"&&(typeof ge=="string"||Array.isArray(ge))){var Pr=ge;ge=J,J=E,E=Pr}if(arguments[3]instanceof Kt?(B("The transform parameter of text() with a Matrix value"),qn=Fe):(Rt=arguments[4],Wt=arguments[5],cr(un=arguments[3])==="object"&&un!==null||(typeof Rt=="string"&&(Wt=Rt,Rt=null),typeof un=="string"&&(Wt=un,un=null),typeof un=="number"&&(Rt=un,un=null),Ee={flags:un,angle:Rt,align:Wt})),isNaN(J)||isNaN(ge)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return nr;var ai="",oo=!1,ms=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:wa,zr=nr.internal.scaleFactor;function Yi(pr){return pr=pr.split("	").join(Array(Ee.TabLen||9).join(" ")),Ri(pr,un)}function rr(pr){for(var gn,Ar=pr.concat(),Hr=[],Yo=Ar.length;Yo--;)typeof(gn=Ar.shift())=="string"?Hr.push(gn):Array.isArray(pr)&&(gn.length===1||gn[1]===void 0&&gn[2]===void 0)?Hr.push(gn[0]):Hr.push([gn[0],gn[1],gn[2]]);return Hr}function ll(pr,gn){var Ar;if(typeof pr=="string")Ar=gn(pr)[0];else if(Array.isArray(pr)){for(var Hr,Yo,Qi=pr.concat(),vs=[],Ca=Qi.length;Ca--;)typeof(Hr=Qi.shift())=="string"?vs.push(gn(Hr)[0]):Array.isArray(Hr)&&typeof Hr[0]=="string"&&(Yo=gn(Hr[0],Hr[1],Hr[2]),vs.push([Yo[0],Yo[1],Yo[2]]));Ar=vs}return Ar}var Ji=!1,jc=!0;if(typeof E=="string")Ji=!0;else if(Array.isArray(E)){var Wc=E.concat();dt=[];for(var Jl,Xi=Wc.length;Xi--;)(typeof(Jl=Wc.shift())!="string"||Array.isArray(Jl)&&typeof Jl[0]!="string")&&(jc=!1);Ji=jc}if(Ji===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Fu=et/nr.internal.scaleFactor,Sa=Fu*(ms-1);switch(Ee.baseline){case"bottom":ge-=Sa;break;case"top":ge+=Fu-Sa;break;case"hanging":ge+=Fu-2*Sa;break;case"middle":ge+=Fu/2-Sa}if((Zt=Ee.maxWidth||0)>0&&(typeof E=="string"?E=nr.splitTextToSize(E,Zt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(pr,gn){return pr.concat(nr.splitTextToSize(gn,Zt))},[]))),Ze={text:E,x:J,y:ge,options:Ee,mutex:{pdfEscape:Ri,activeFontKey:Et,fonts:Je,activeFontSize:et}},mn.publish("preProcessText",Ze),E=Ze.text,Rt=(Ee=Ze.options).angle,!(qn instanceof Kt)&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Ee.rotationDirection===0&&(Rt=-Rt),A===_.ADVANCED&&(Rt=-Rt);var qo=Math.cos(Rt),Ou=Math.sin(Rt);qn=new Kt(qo,Ou,-Ou,qo,0,0)}else Rt&&Rt instanceof Kt&&(qn=Rt);A!==_.ADVANCED||qn||(qn=wo),(ln=Ee.charSpace||Vl)!==void 0&&(ai+=I(P(ln))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=Ee.horizontalScale)!==void 0&&(ai+=I(100*Zn)+` Tz
`),Ee.lang;var bi=-1,Vc=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,qc=nr.internal.getCurrentPageInfo().pageContext;switch(Vc){case 0:case!1:case"fill":bi=0;break;case 1:case!0:case"stroke":bi=1;break;case 2:case"fillThenStroke":bi=2;break;case 3:case"invisible":bi=3;break;case 4:case"fillAndAddForClipping":bi=4;break;case 5:case"strokeAndAddPathForClipping":bi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":bi=6;break;case 7:case"addToPathForClipping":bi=7}var gh=qc.usedRenderingMode!==void 0?qc.usedRenderingMode:-1;bi!==-1?ai+=bi+` Tr
`:gh!==-1&&(ai+=`0 Tr
`),bi!==-1&&(qc.usedRenderingMode=bi),Wt=Ee.align||"left";var $i,Yc=et*ms,Uu=nr.internal.pageSize.getWidth(),Bs=Je[Et];ln=Ee.charSpace||Vl,Zt=Ee.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Mo=[];if(Object.prototype.toString.call(E)==="[object Array]"){var Bi;dt=rr(E),Wt!=="left"&&($i=dt.map(function(pr){return nr.getStringUnitWidth(pr,{font:Bs,charSpace:ln,fontSize:et,doKerning:!1})*et/zr}));var Zr,Aa=0;if(Wt==="right"){J-=$i[0],E=[],Xi=dt.length;for(var gs=0;gs<Xi;gs++)gs===0?(Zr=il(J),Bi=_i(ge)):(Zr=P(Aa-$i[gs]),Bi=-Yc),E.push([dt[gs],Zr,Bi]),Aa=$i[gs]}else if(Wt==="center"){J-=$i[0]/2,E=[],Xi=dt.length;for(var Ma=0;Ma<Xi;Ma++)Ma===0?(Zr=il(J),Bi=_i(ge)):(Zr=P((Aa-$i[Ma])/2),Bi=-Yc),E.push([dt[Ma],Zr,Bi]),Aa=$i[Ma]}else if(Wt==="left"){E=[],Xi=dt.length;for(var Xl=0;Xl<Xi;Xl++)E.push(dt[Xl])}else{if(Wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');E=[],Xi=dt.length,Zt=Zt!==0?Zt:Uu;for(var Nn=0;Nn<Xi;Nn++)Bi=Nn===0?_i(ge):-Yc,Zr=Nn===0?il(J):0,Nn<Xi-1?Mo.push(I(P((Zt-$i[Nn])/(dt[Nn].split(" ").length-1)))):Mo.push(0),E.push([dt[Nn],Zr,Bi])}}var ul=typeof Ee.R2L=="boolean"?Ee.R2L:ee;ul===!0&&(E=ll(E,function(pr,gn,Ar){return[pr.split("").reverse().join(""),gn,Ar]})),Ze={text:E,x:J,y:ge,options:Ee,mutex:{pdfEscape:Ri,activeFontKey:Et,fonts:Je,activeFontSize:et}},mn.publish("postProcessText",Ze),E=Ze.text,oo=Ze.mutex.isHex||!1;var zu=Je[Et].encoding;zu!=="WinAnsiEncoding"&&zu!=="StandardEncoding"||(E=ll(E,function(pr,gn,Ar){return[Yi(pr),gn,Ar]})),dt=rr(E),E=[];for(var Ea,ks,ei,Eo=0,lr=1,Br=Array.isArray(dt[0])?lr:Eo,yr="",$l=function(pr,gn,Ar){var Hr="";return Ar instanceof Kt?(Ar=typeof Ee.angle=="number"?eo(Ar,new Kt(1,0,0,1,pr,gn)):eo(new Kt(1,0,0,1,pr,gn),Ar),A===_.ADVANCED&&(Ar=eo(new Kt(1,0,0,-1,0,0),Ar)),Hr=Ar.join(" ")+` Tm
`):Hr=I(pr)+" "+I(gn)+` Td
`,Hr},Ki=0;Ki<dt.length;Ki++){switch(yr="",Br){case lr:ei=(oo?"<":"(")+dt[Ki][0]+(oo?">":")"),Ea=parseFloat(dt[Ki][1]),ks=parseFloat(dt[Ki][2]);break;case Eo:ei=(oo?"<":"(")+dt[Ki]+(oo?">":")"),Ea=il(J),ks=_i(ge)}Mo!==void 0&&Mo[Ki]!==void 0&&(yr=Mo[Ki]+` Tw
`),Ki===0?E.push(yr+$l(Ea,ks,qn)+ei):Br===Eo?E.push(yr+ei):Br===lr&&E.push(yr+$l(Ea,ks,qn)+ei)}E=Br===Eo?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var ao=`BT
/`;return ao+=Et+" "+et+` Tf
`,ao+=I(et*ms)+` TL
`,ao+=sl+`
`,ao+=ai,ao+=E,oe(ao+="ET"),p[Et]=!0,nr};var Mg=m.__private__.clip=m.clip=function(E){return oe(E==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Mg("evenodd")},m.__private__.discardPath=m.discardPath=function(){return oe("n"),this};var xa=m.__private__.isValidStyle=function(E){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(J=!0),J};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(E){return xa(E)&&(u=E),this};var Ur=m.__private__.getStyle=m.getStyle=function(E){var J=u;switch(E){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=E}return J},Fc=m.close=function(){return oe("h"),this};m.stroke=function(){return oe("S"),this},m.fill=function(E){return Oc("f",E),this},m.fillEvenOdd=function(E){return Oc("f*",E),this},m.fillStroke=function(E){return Oc("B",E),this},m.fillStrokeEvenOdd=function(E){return Oc("B*",E),this};var Oc=function(E,J){cr(J)==="object"?Uc(J,E):oe(E)},Ru=function(E){E===null||A===_.ADVANCED&&E===void 0||(E=Ur(E),oe(E))};function Eg(E,J,ge,Ee,Fe){var Ze=new sm(J||this.boundingBox,ge||this.xStep,Ee||this.yStep,this.gState,Fe||this.matrix);Ze.stream=this.stream;var dt=E+"$$"+this.cloneIndex+++"$$";return de(dt,Ze),Ze}var Uc=function(E,J){var ge=xt[E.key],Ee=St[ge];if(Ee instanceof Xh)oe("q"),oe(So(J)),Ee.gState&&m.setGState(Ee.gState),oe(E.matrix.toString()+" cm"),oe("/"+ge+" sh"),oe("Q");else if(Ee instanceof sm){var Fe=new Kt(1,0,0,-1,0,al());E.matrix&&(Fe=Fe.multiply(E.matrix||wo),ge=Eg.call(Ee,E.key,E.boundingBox,E.xStep,E.yStep,Fe).id),oe("q"),oe("/Pattern cs"),oe("/"+ge+" scn"),Ee.gState&&m.setGState(Ee.gState),oe(J),oe("Q")}},So=function(E){switch(E){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ph=m.moveTo=function(E,J){return oe(I(P(E))+" "+I(z(J))+" m"),this},Pu=m.lineTo=function(E,J){return oe(I(P(E))+" "+I(z(J))+" l"),this},Pi=m.curveTo=function(E,J,ge,Ee,Fe,Ze){return oe([I(P(E)),I(z(J)),I(P(ge)),I(z(Ee)),I(P(Fe)),I(z(Ze)),"c"].join(" ")),this};m.__private__.line=m.line=function(E,J,ge,Ee,Fe){if(isNaN(E)||isNaN(J)||isNaN(ge)||isNaN(Ee)||!xa(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return A===_.COMPAT?this.lines([[ge-E,Ee-J]],E,J,[1,1],Fe||"S"):this.lines([[ge-E,Ee-J]],E,J,[1,1]).stroke()},m.__private__.lines=m.lines=function(E,J,ge,Ee,Fe,Ze){var dt,Rt,Wt,ln,Zt,un,Zn,qn,nr,Pr,ai,oo;if(typeof E=="number"&&(oo=ge,ge=J,J=E,E=oo),Ee=Ee||[1,1],Ze=Ze||!1,isNaN(J)||isNaN(ge)||!Array.isArray(E)||!Array.isArray(Ee)||!xa(Fe)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ph(J,ge),dt=Ee[0],Rt=Ee[1],ln=E.length,Pr=J,ai=ge,Wt=0;Wt<ln;Wt++)(Zt=E[Wt]).length===2?(Pr=Zt[0]*dt+Pr,ai=Zt[1]*Rt+ai,Pu(Pr,ai)):(un=Zt[0]*dt+Pr,Zn=Zt[1]*Rt+ai,qn=Zt[2]*dt+Pr,nr=Zt[3]*Rt+ai,Pr=Zt[4]*dt+Pr,ai=Zt[5]*Rt+ai,Pi(un,Zn,qn,nr,Pr,ai));return Ze&&Fc(),Ru(Fe),this},m.path=function(E){for(var J=0;J<E.length;J++){var ge=E[J],Ee=ge.c;switch(ge.op){case"m":ph(Ee[0],Ee[1]);break;case"l":Pu(Ee[0],Ee[1]);break;case"c":Pi.apply(this,Ee);break;case"h":Fc()}}return this},m.__private__.rect=m.rect=function(E,J,ge,Ee,Fe){if(isNaN(E)||isNaN(J)||isNaN(ge)||isNaN(Ee)||!xa(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return A===_.COMPAT&&(Ee=-Ee),oe([I(P(E)),I(z(J)),I(P(ge)),I(P(Ee)),"re"].join(" ")),Ru(Fe),this},m.__private__.triangle=m.triangle=function(E,J,ge,Ee,Fe,Ze,dt){if(isNaN(E)||isNaN(J)||isNaN(ge)||isNaN(Ee)||isNaN(Fe)||isNaN(Ze)||!xa(dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-E,Ee-J],[Fe-ge,Ze-Ee],[E-Fe,J-Ze]],E,J,[1,1],dt,!0),this},m.__private__.roundedRect=m.roundedRect=function(E,J,ge,Ee,Fe,Ze,dt){if(isNaN(E)||isNaN(J)||isNaN(ge)||isNaN(Ee)||isNaN(Fe)||isNaN(Ze)||!xa(dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*ge),Ze=Math.min(Ze,.5*Ee),this.lines([[ge-2*Fe,0],[Fe*Rt,0,Fe,Ze-Ze*Rt,Fe,Ze],[0,Ee-2*Ze],[0,Ze*Rt,-Fe*Rt,Ze,-Fe,Ze],[2*Fe-ge,0],[-Fe*Rt,0,-Fe,-Ze*Rt,-Fe,-Ze],[0,2*Ze-Ee],[0,-Ze*Rt,Fe*Rt,-Ze,Fe,-Ze]],E+Fe,J,[1,1],dt,!0),this},m.__private__.ellipse=m.ellipse=function(E,J,ge,Ee,Fe){if(isNaN(E)||isNaN(J)||isNaN(ge)||isNaN(Ee)||!xa(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*ge,dt=4/3*(Math.SQRT2-1)*Ee;return ph(E+ge,J),Pi(E+ge,J-dt,E+Ze,J-Ee,E,J-Ee),Pi(E-Ze,J-Ee,E-ge,J-dt,E-ge,J),Pi(E-ge,J+dt,E-Ze,J+Ee,E,J+Ee),Pi(E+Ze,J+Ee,E+ge,J+dt,E+ge,J),Ru(Fe),this},m.__private__.circle=m.circle=function(E,J,ge,Ee){if(isNaN(E)||isNaN(J)||isNaN(ge)||!xa(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,J,ge,ge,Ee)},m.setFont=function(E,J,ge){return ge&&(J=D(J,ge)),Et=Lu(E,J,{disableWarning:!1}),this};var Wo=m.__private__.getFont=m.getFont=function(){return Je[Lu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var E,J,ge={};for(E in yt)if(yt.hasOwnProperty(E))for(J in ge[E]=[],yt[E])yt[E].hasOwnProperty(J)&&ge[E].push(J);return ge},m.addFont=function(E,J,ge,Ee,Fe){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(ge=D(ge,Ee)),Fe=Fe||"Identity-H",xi.call(this,E,J,ge,Fe)};var wa,Bu=n.lineWidth||.200025,ku=m.__private__.getLineWidth=m.getLineWidth=function(){return Bu},Gd=m.__private__.setLineWidth=m.setLineWidth=function(E){return Bu=E,oe(I(P(E))+" w"),this};m.__private__.setLineDash=rn.API.setLineDash=rn.API.setLineDashPattern=function(E,J){if(E=E||[],J=J||0,isNaN(J)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(ge){return I(P(ge))}).join(" "),J=I(P(J)),oe("["+E+"] "+J+" d"),this};var ro=m.__private__.getLineHeight=m.getLineHeight=function(){return et*wa};m.__private__.getLineHeight=m.getLineHeight=function(){return et*wa};var jd=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(wa=E),this},Iu=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return wa};jd(n.lineHeight);var il=m.__private__.getHorizontalCoordinate=function(E){return P(E)},_i=m.__private__.getVerticalCoordinate=function(E){return A===_.ADVANCED?E:Dt[V].mediaBox.topRightY-Dt[V].mediaBox.bottomLeftY-P(E)},zc=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(E){return I(il(E))},Vo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(E){return I(_i(E))},Vi=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return en(Vi)},m.__private__.setStrokeColor=m.setDrawColor=function(E,J,ge,Ee){return Vi=Qt({ch1:E,ch2:J,ch3:ge,ch4:Ee,pdfColorType:"draw",precision:2}),oe(Vi),this};var Nu=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return en(Nu)},m.__private__.setFillColor=m.setFillColor=function(E,J,ge,Ee){return Nu=Qt({ch1:E,ch2:J,ch3:ge,ch4:Ee,pdfColorType:"fill",precision:2}),oe(Nu),this};var sl=n.textColor||"0 g",Wd=m.__private__.getTextColor=m.getTextColor=function(){return en(sl)};m.__private__.setTextColor=m.setTextColor=function(E,J,ge,Ee){return sl=Qt({ch1:E,ch2:J,ch3:ge,ch4:Ee,pdfColorType:"text",precision:3}),this};var Vl=n.charSpace,mh=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Vl||0)};m.__private__.setCharSpace=m.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vl=E,this};var _a=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(E){var J=m.CapJoinStyles[E];if(J===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _a=J,oe(J+" J"),this};var qi=0;m.__private__.setLineJoin=m.setLineJoin=function(E){var J=m.CapJoinStyles[E];if(J===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qi=J,oe(J+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(I(P(E))+" M"),this},m.GState=p2,m.setGState=function(E){(E=typeof E=="string"?Lt[At[E]]:io(null,E)).equals(pt)||(oe("/"+E.id+" gs"),pt=E)};var io=function(E,J){if(!E||!At[E]){var ge=!1;for(var Ee in Lt)if(Lt.hasOwnProperty(Ee)&&Lt[Ee].equals(J)){ge=!0;break}if(ge)J=Lt[Ee];else{var Fe="GS"+(Object.keys(Lt).length+1).toString(10);Lt[Fe]=J,J.id=Fe}return E&&(At[E]=J.id),mn.publish("addGState",J),J}};m.addGState=function(E,J){return io(E,J),this},m.saveGraphicsState=function(){return oe("q"),_t.push({key:Et,size:et,color:sl}),this},m.restoreGraphicsState=function(){oe("Q");var E=_t.pop();return Et=E.key,et=E.size,sl=E.color,pt=null,this},m.setCurrentTransformationMatrix=function(E){return oe(E.toString()+" cm"),this},m.comment=function(E){return oe("#"+E),this};var so=function(E,J){var ge=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(Ze){isNaN(Ze)||(ge=parseFloat(Ze))}});var Ee=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Ze){isNaN(Ze)||(Ee=parseFloat(Ze))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Ze){Fe=Ze.toString()}}),this},Du=function(E,J,ge,Ee){so.call(this,E,J),this.type="rect";var Fe=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(dt){isNaN(dt)||(Fe=parseFloat(dt))}});var Ze=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(dt){isNaN(dt)||(Ze=parseFloat(dt))}}),this},Hc=function(){this.page=Ft,this.currentPage=V,this.pages=De.slice(0),this.pagesContext=Dt.slice(0),this.x=_e,this.y=fe,this.matrix=Qe,this.width=ql(V),this.height=al(V),this.outputDestination=Me,this.id="",this.objectNumber=-1};Hc.prototype.restore=function(){Ft=this.page,V=this.currentPage,Dt=this.pagesContext,De=this.pages,_e=this.x,fe=this.y,Qe=this.matrix,Yl(V,this.width),Gc(V,this.height),Me=this.outputDestination};var Ao=function(E,J,ge,Ee,Fe){Ls.push(new Hc),Ft=V=0,De=[],_e=E,fe=J,Qe=Fe,Ic([ge,Ee])},ba=function(E){if(ds[E])Ls.pop().restore();else{var J=new Hc,ge="Xo"+(Object.keys(On).length+1).toString(10);J.id=ge,ds[E]=ge,On[ge]=J,mn.publish("addFormObject",J),Ls.pop().restore()}};for(var ol in m.beginFormObject=function(E,J,ge,Ee,Fe){return Ao(E,J,ge,Ee,Fe),this},m.endFormObject=function(E){return ba(E),this},m.doFormObject=function(E,J){var ge=On[ds[E]];return oe("q"),oe(J.toString()+" cm"),oe("/"+ge.id+" Do"),oe("Q"),this},m.getFormObject=function(E){var J=On[ds[E]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},m.save=function(E,J){return E=E||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(qh(Wl(jo()),E),typeof qh.unload=="function"&&on.setTimeout&&setTimeout(qh.unload,911),this):new Promise(function(ge,Ee){try{var Fe=qh(Wl(jo()),E);typeof qh.unload=="function"&&on.setTimeout&&setTimeout(qh.unload,911),ge(Fe)}catch(Ze){Ee(Ze.message)}})},rn.API)rn.API.hasOwnProperty(ol)&&(ol==="events"&&rn.API.events.length?function(E,J){var ge,Ee,Fe;for(Fe=J.length-1;Fe!==-1;Fe--)ge=J[Fe][0],Ee=J[Fe][1],E.subscribe.apply(E,[ge].concat(typeof Ee=="function"?[Ee]:Ee))}(mn,rn.API.events):m[ol]=rn.API[ol]);var ql=m.getPageWidth=function(E){return(Dt[E=E||V].mediaBox.topRightX-Dt[E].mediaBox.bottomLeftX)/it},Yl=m.setPageWidth=function(E,J){Dt[E].mediaBox.topRightX=J*it+Dt[E].mediaBox.bottomLeftX},al=m.getPageHeight=function(E){return(Dt[E=E||V].mediaBox.topRightY-Dt[E].mediaBox.bottomLeftY)/it},Gc=m.setPageHeight=function(E,J){Dt[E].mediaBox.topRightY=J*it+Dt[E].mediaBox.bottomLeftY};return m.internal={pdfEscape:Ri,getStyle:Ur,getFont:Wo,getFontSize:ae,getCharSpace:mh,getTextColor:Wd,getLineHeight:ro,getLineHeightFactor:Iu,getLineWidth:ku,write:$e,getHorizontalCoordinate:il,getVerticalCoordinate:_i,getCoordinateString:zc,getVerticalCoordinateString:Vo,collections:{},newObject:Oe,newAdditionalObject:ot,newObjectDeferred:qe,newObjectDeferredBegin:We,getFilters:_n,putStream:an,events:mn,scaleFactor:it,pageSize:{getWidth:function(){return ql(V)},setWidth:function(E){Yl(V,E)},getHeight:function(){return al(V)},setHeight:function(E){Gc(V,E)}},encryptionOptions:c,encryption:wi,getEncryptor:kn,output:ya,getNumberOfPages:bg,pages:De,out:oe,f2:G,f3:L,getPageInfo:dh,getPageInfoByObjId:sn,getCurrentPageInfo:Hd,getPDFVersion:g,Point:so,Rectangle:Du,Matrix:Kt,hasHotfix:zd},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ql(V)},set:function(E){Yl(V,E)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return al(V)},set:function(E){Gc(V,E)},enumerable:!0,configurable:!0}),kc.call(m,je),Et="F1",Ps(i,t),mn.publish("initialized"),m}Op.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Op.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Op.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Op.prototype.processOwnerPassword=function(n,e){return CA(EA(e).substr(0,5),n)},Op.prototype.encryptor=function(n,e){var t=EA(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return CA(t,r)}},p2.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||cr(n)!==cr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},rn.API={events:[]},rn.version="2.5.1";var ri=rn.API,EE=1,Od=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kp=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pn=function(n){return n.toFixed(2)},yf=function(n){return n.toFixed(5)};ri.__acroform__={};var Ho=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},K4=function(n){return n*EE},iu=function(n){var e=new EF,t=Gt.internal.getHeight(n)||0,r=Gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(pn(r)),Number(pn(t))],e},Pie=ri.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},Bie=ri.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},kie=ri.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},pi=ri.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kie(n,e-1)},mi=ri.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Pie(n,e-1)},gi=ri.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Bie(n,e-1)},Iie=ri.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(pn(l.lowerLeft_X)),Number(pn(l.lowerLeft_Y)),Number(pn(l.upperRight_X)),Number(pn(l.upperRight_Y))]},Nie=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=TA(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+pn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=iu(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},TA=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var s=t,o=Gt.internal.getHeight(n)||0;o=o<0?-o:o;var a=Gt.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(L,P,q){if(L+1<i.length){var z=P+" "+i[L+1][0];return qy(z,n,q).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,h=qy("3",n,s).height,p=n.multiline?o-s:(o-h)/2,m=p+=2,y=0,g=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+qy(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",_=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var C=!1;if(i[A].length!==1&&x!==i[A].length-1){if((h+2)*(_+2)+2>o)continue e;w+=i[A][x],C=!0,g=A,A--}else{w=(w+=i[A][x]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var T=parseInt(A),D=l(T,w,s),I=A>=i.length-1;if(D&&!I){w+=" ",x=0;continue}if(D||I){if(I)g=T;else if(n.multiline&&(h+2)*(_+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(_+2)+2>o)continue e;g=T}}for(var B="",W=y;W<=g;W++){var G=i[W];if(n.multiline){if(W===g){B+=G[x]+" ",x=(x+1)%G.length;continue}if(W===y){B+=G[G.length-1]+" ";continue}}B+=G[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,c=qy(B,n,s).width,n.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;case"left":default:u=2}e+=pn(u)+" "+pn(m)+` Td
`,e+="("+Od(B)+`) Tj
`,e+=-pn(u)+` 0 Td
`,m=-(s+2),c=0,y=C?g:g+1,_++,w=""}break}return r.text=e,r.fontSize=s,r},qy=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Die={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Fie=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Oie=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),cr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},Uie=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Gl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Die)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");EE=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new CF,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Fie(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=Iie(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Gt.createDefaultAppearanceStream(a),cr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=Nie(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var m=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var y=m[o];typeof y=="function"&&(y=y.call(i,a)),h+="/"+o+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(i,a)),h+="/"+o+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&Oie(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},MF=ri.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),cr(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Od(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},l5=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Od(r(n))+")"},cu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};cu.prototype.toString=function(){return this.objId+" 0 R"},cu.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},cu.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:MF(i,this.objId,this.scope)}):i instanceof cu?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var EF=function(){cu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ho(EF,cu);var CF=function(){cu.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Od(t(n))+")"}},set:function(t){n=t}})};Ho(CF,cu);var Gl=function n(){cu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(e,3))},set:function(w){Boolean(w)===!0?this.F=mi(e,3):this.F=gi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof m2)return;s="FieldObject"+n.FieldNum++}var w=function(_){return _};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Od(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/EE:u},set:function(w){u=w}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof m2||this instanceof md))return l5(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof us?p:l5(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof us?w:w.substr(0,1)==="("?kp(w.substr(1,w.length-2)):kp(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof us?kp(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof us?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof us?m:l5(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof us?w:w.substr(0,1)==="("?kp(w.substr(1,w.length-2)):kp(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof us?kp(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof us?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(w){w=Boolean(w),g=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,1))},set:function(w){Boolean(w)===!0?this.Ff=mi(this.Ff,1):this.Ff=gi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,2))},set:function(w){Boolean(w)===!0?this.Ff=mi(this.Ff,2):this.Ff=gi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,3))},set:function(w){Boolean(w)===!0?this.Ff=mi(this.Ff,3):this.Ff=gi(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');x=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(x){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};Ho(Gl,cu);var ym=function(){Gl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return MF(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,18))},set:function(t){Boolean(t)===!0?this.Ff=mi(this.Ff,18):this.Ff=gi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,19))},set:function(t){this.combo===!0&&(Boolean(t)===!0?this.Ff=mi(this.Ff,19):this.Ff=gi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,20))},set:function(t){Boolean(t)===!0?(this.Ff=mi(this.Ff,20),e.sort()):this.Ff=gi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,22))},set:function(t){Boolean(t)===!0?this.Ff=mi(this.Ff,22):this.Ff=gi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,23))},set:function(t){Boolean(t)===!0?this.Ff=mi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,27))},set:function(t){Boolean(t)===!0?this.Ff=mi(this.Ff,27):this.Ff=gi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ho(ym,Gl);var xm=function(){ym.call(this),this.fontName="helvetica",this.combo=!1};Ho(xm,ym);var wm=function(){xm.call(this),this.combo=!0};Ho(wm,xm);var Mx=function(){wm.call(this),this.edit=!0};Ho(Mx,wm);var us=function(){Gl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,15))},set:function(t){Boolean(t)===!0?this.Ff=mi(this.Ff,15):this.Ff=gi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,16))},set:function(t){Boolean(t)===!0?this.Ff=mi(this.Ff,16):this.Ff=gi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,17))},set:function(t){Boolean(t)===!0?this.Ff=mi(this.Ff,17):this.Ff=gi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,26))},set:function(t){Boolean(t)===!0?this.Ff=mi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Od(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){cr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ho(us,Gl);var Ex=function(){us.call(this),this.pushButton=!0};Ho(Ex,us);var _m=function(){us.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ho(_m,us);var m2=function(){var n,e;Gl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Od(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){cr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ho(m2,Gl),_m.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},_m.prototype.createOption=function(n){var e=new m2;return e.Parent=this,e.optionName=n,this.Kids.push(e),zie.call(this.scope,e),e};var Cx=function(){us.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Gt.CheckBox.createAppearanceStream()};Ho(Cx,us);var md=function(){Gl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,13))},set:function(e){Boolean(e)===!0?this.Ff=mi(this.Ff,13):this.Ff=gi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,21))},set:function(e){Boolean(e)===!0?this.Ff=mi(this.Ff,21):this.Ff=gi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,23))},set:function(e){Boolean(e)===!0?this.Ff=mi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,24))},set:function(e){Boolean(e)===!0?this.Ff=mi(this.Ff,24):this.Ff=gi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,25))},set:function(e){Boolean(e)===!0?this.Ff=mi(this.Ff,25):this.Ff=gi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,26))},set:function(e){Boolean(e)===!0?this.Ff=mi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ho(md,Gl);var Tx=function(){md.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(pi(this.Ff,14))},set:function(n){Boolean(n)===!0?this.Ff=mi(this.Ff,14):this.Ff=gi(this.Ff,14)}}),this.password=!0};Ho(Tx,md);var Gt={CheckBox:{createAppearanceStream:function(){return{N:{On:Gt.CheckBox.YesNormal},D:{On:Gt.CheckBox.YesPushDown,Off:Gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=iu(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=TA(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+pn(Gt.internal.getWidth(n))+" "+pn(Gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+pn(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=iu(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Gt.internal.getHeight(n),o=Gt.internal.getWidth(n),a=TA(n,n.caption);return i.push("1 g"),i.push("0 0 "+pn(o)+" "+pn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+pn(o-1)+" "+pn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+pn(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=iu(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+pn(Gt.internal.getWidth(n))+" "+pn(Gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Gt.RadioButton.Circle.YesNormal,e.D[n]=Gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=iu(n);e.scope=n.scope;var t=[],r=Gt.internal.getWidth(n)<=Gt.internal.getHeight(n)?Gt.internal.getWidth(n)/4:Gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Gt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+yf(Gt.internal.getWidth(n)/2)+" "+yf(Gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=iu(n);e.scope=n.scope;var t=[],r=Gt.internal.getWidth(n)<=Gt.internal.getHeight(n)?Gt.internal.getWidth(n)/4:Gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Gt.internal.Bezier_C).toFixed(5)),o=Number((r*Gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yf(Gt.internal.getWidth(n)/2)+" "+yf(Gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+yf(Gt.internal.getWidth(n)/2)+" "+yf(Gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=iu(n);e.scope=n.scope;var t=[],r=Gt.internal.getWidth(n)<=Gt.internal.getHeight(n)?Gt.internal.getWidth(n)/4:Gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yf(Gt.internal.getWidth(n)/2)+" "+yf(Gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Gt.RadioButton.Cross.YesNormal,e.D[n]=Gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=iu(n);e.scope=n.scope;var t=[],r=Gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+pn(Gt.internal.getWidth(n)-2)+" "+pn(Gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(pn(r.x1.x)+" "+pn(r.x1.y)+" m"),t.push(pn(r.x2.x)+" "+pn(r.x2.y)+" l"),t.push(pn(r.x4.x)+" "+pn(r.x4.y)+" m"),t.push(pn(r.x3.x)+" "+pn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=iu(n);e.scope=n.scope;var t=Gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+pn(Gt.internal.getWidth(n))+" "+pn(Gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+pn(Gt.internal.getWidth(n)-2)+" "+pn(Gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(pn(t.x1.x)+" "+pn(t.x1.y)+" m"),r.push(pn(t.x2.x)+" "+pn(t.x2.y)+" l"),r.push(pn(t.x4.x)+" "+pn(t.x4.y)+" m"),r.push(pn(t.x3.x)+" "+pn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=iu(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+pn(Gt.internal.getWidth(n))+" "+pn(Gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Gt.internal.getWidth(n),t=Gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Gt.internal.getWidth=function(n){var e=0;return cr(n)==="object"&&(e=K4(n.Rect[2])),e},Gt.internal.getHeight=function(n){var e=0;return cr(n)==="object"&&(e=K4(n.Rect[3])),e};var zie=ri.addField=function(n){if(Uie(this,n),!(n instanceof Gl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ri.AcroFormChoiceField=ym,ri.AcroFormListBox=xm,ri.AcroFormComboBox=wm,ri.AcroFormEditBox=Mx,ri.AcroFormButton=us,ri.AcroFormPushButton=Ex,ri.AcroFormRadioButton=_m,ri.AcroFormCheckBox=Cx,ri.AcroFormTextField=md,ri.AcroFormPasswordField=Tx,ri.AcroFormAppearance=Gt,ri.AcroForm={ChoiceField:ym,ListBox:xm,ComboBox:wm,EditBox:Mx,Button:us,PushButton:Ex,RadioButton:_m,CheckBox:Cx,TextField:md,PasswordField:Tx,Appearance:Gt},rn.AcroForm={ChoiceField:ym,ListBox:xm,ComboBox:wm,EditBox:Mx,Button:us,PushButton:Ex,RadioButton:_m,CheckBox:Cx,TextField:md,PasswordField:Tx,Appearance:Gt};rn.AcroForm;function TF(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(L,P){var q,z,ne,re,le,F=e;if((P=P||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(D(L))for(le in t)for(ne=t[le],q=0;q<ne.length;q+=1){for(re=!0,z=0;z<ne[q].length;z+=1)if(ne[q][z]!==void 0&&ne[q][z]!==L[z]){re=!1;break}if(re===!0){F=le;break}}else for(le in t)for(ne=t[le],q=0;q<ne.length;q+=1){for(re=!0,z=0;z<ne[q].length;z+=1)if(ne[q][z]!==void 0&&ne[q][z]!==L.charCodeAt(z)){re=!1;break}if(re===!0){F=le;break}}return F===e&&P!==e&&(F=P),F},i=function L(P){for(var q=this.internal.write,z=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:P.width}),re.push({key:"Height",value:P.height}),P.colorSpace===x.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===x.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var le="",F=0,X=P.transparency.length;F<X;F++)le+=P.transparency[F]+" "+P.transparency[F]+" ";re.push({key:"Mask",value:"["+le+"]"})}P.sMask!==void 0&&re.push({key:"SMask",value:P.objectId+1+" 0 R"});var ie=P.filter!==void 0?["/"+P.filter]:void 0;if(z({data:P.data,additionalKeyValues:re,alreadyAppliedFilters:ie,objectId:P.objectId}),q("endobj"),"sMask"in P&&P.sMask!==void 0){var ve="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,N={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:ve,data:P.sMask};"filter"in P&&(N.filter=P.filter),L.call(this,N)}if(P.colorSpace===x.INDEXED){var V=this.internal.newObject();z({data:B(new Uint8Array(P.palette)),objectId:V}),q("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var P in L)i.call(this,L[P])},o=function(){var L,P=this.internal.collections.addImage_images,q=this.internal.write;for(var z in P)q("/I"+(L=P[z]).index,L.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var L=this.internal.collections.addImage_images;return a.call(this),L},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(L){return typeof n["process"+L.toUpperCase()]=="function"},h=function(L){return cr(L)==="object"&&L.nodeType===1},p=function(L,P){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var q=""+L.getAttribute("src");if(q.indexOf("data:image/")===0)return J0(unescape(q).split("base64,").pop());var z=n.loadFile(q,!0);if(z!==void 0)return z}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var ne;switch(P){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return J0(L.toDataURL(ne,1).split("base64,").pop())}},m=function(L){var P=this.internal.collections.addImage_images;if(P){for(var q in P)if(L===P[q].alias)return P[q]}},y=function(L,P,q){return L||P||(L=-96,P=-96),L<0&&(L=-1*q.width*72/L/this.internal.scaleFactor),P<0&&(P=-1*q.height*72/P/this.internal.scaleFactor),L===0&&(L=P*q.width/q.height),P===0&&(P=L*q.height/q.width),[L,P]},g=function(L,P,q,z,ne,re){var le=y.call(this,q,z,ne),F=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,ie=l.call(this);if(q=le[0],z=le[1],ie[ne.index]=ne,re){re*=Math.PI/180;var ve=Math.cos(re),N=Math.sin(re),V=function(ue){return ue.toFixed(4)},Q=[V(ve),V(N),V(-1*N),V(ve),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,F(L),X(P+z),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([F(q),"0","0",F(z),"0","0","cm"].join(" "))):this.internal.write([F(q),"0","0",F(z),F(L),X(P+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},x=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=n.__addimage__.sHashCode=function(L){var P,q,z=0;if(typeof L=="string")for(q=L.length,P=0;P<q;P++)z=(z<<5)-z+L.charCodeAt(P),z|=0;else if(D(L))for(q=L.byteLength/2,P=0;P<q;P++)z=(z<<5)-z+L[P],z|=0;return z},A=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var P=!0;return L.length===0&&(P=!1),L.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(P=!1),P},C=n.__addimage__.extractImageFromDataUrl=function(L){var P=(L=L||"").split("base64,"),q=null;if(P.length===2){var z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(z)&&(q={mimeType:z[1],charset:z[2],data:P[1]})}return q},T=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};n.__addimage__.isArrayBuffer=function(L){return T()&&L instanceof ArrayBuffer};var D=n.__addimage__.isArrayBufferView=function(L){return T()&&typeof Uint32Array!="undefined"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},I=n.__addimage__.binaryStringToUint8Array=function(L){for(var P=L.length,q=new Uint8Array(P),z=0;z<P;z++)q[z]=L.charCodeAt(z);return q},B=n.__addimage__.arrayBufferToBinaryString=function(L){for(var P="",q=D(L)?L:new Uint8Array(L),z=0;z<q.length;z+=8192)P+=String.fromCharCode.apply(null,q.subarray(z,z+8192));return P};n.addImage=function(){var L,P,q,z,ne,re,le,F,X;if(typeof arguments[1]=="number"?(P=e,q=arguments[1],z=arguments[2],ne=arguments[3],re=arguments[4],le=arguments[5],F=arguments[6],X=arguments[7]):(P=arguments[1],q=arguments[2],z=arguments[3],ne=arguments[4],re=arguments[5],le=arguments[6],F=arguments[7],X=arguments[8]),cr(L=arguments[0])==="object"&&!h(L)&&"imageData"in L){var ie=L;L=ie.imageData,P=ie.format||P||e,q=ie.x||q||0,z=ie.y||z||0,ne=ie.w||ie.width||ne,re=ie.h||ie.height||re,le=ie.alias||le,F=ie.compression||F,X=ie.rotation||ie.angle||X}var ve=this.internal.getFilters();if(F===void 0&&ve.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN(q)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var N=W.call(this,L,P,le,F);return g.call(this,q,z,ne,re,N,X),this};var W=function(L,P,q,z){var ne,re,le;if(typeof L=="string"&&r(L)===e){L=unescape(L);var F=G(L,!1);(F!==""||(F=n.loadFile(L,!0))!==void 0)&&(L=F)}if(h(L)&&(L=p(L,P)),P=r(L,P),!c(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((le=q)==null||le.length===0)&&(q=function(X){return typeof X=="string"||D(X)?_(X):D(X.data)?_(X.data):null}(L)),(ne=m.call(this,q))||(T()&&(L instanceof Uint8Array||P==="RGBA"||(re=L,L=I(L))),ne=this["process"+P.toUpperCase()](L,u.call(this),q,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in n.image_compression?X:w.NONE}(z),re)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},G=n.__addimage__.convertBase64ToBinaryString=function(L,P){var q;P=typeof P!="boolean"||P;var z,ne="";if(typeof L=="string"){z=(q=C(L))!==null?q.data:L;try{ne=J0(z)}catch(re){if(P)throw A(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};n.getImageProperties=function(L){var P,q,z="";if(h(L)&&(L=p(L)),typeof L=="string"&&r(L)===e&&((z=G(L,!1))===""&&(z=n.loadFile(L)||""),L=z),q=r(L),!c(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(!T()||L instanceof Uint8Array||(L=I(L)),!(P=this["process"+q.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=q,P}})(rn.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};rn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,c=!1,h=0;h<u.length&&!c;h++)switch((r=u[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){r=u[p];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(g.objId),_=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(w(_))+") >>",g.content=s;var A=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(y(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var T=this.annotations._nameMap[r.options.name];r.options.pageNumber=T.page,r.options.top=T.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var D=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+D+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:u(r),w:l(t+i),h:u(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(t,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(t,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(rn.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=n.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var u=n.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var c=n.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(g){var x=0,w=t,_="",A=0;for(x=0;x<g.length;x+=1)w[g.charCodeAt(x)]!==void 0?(A++,typeof(w=w[g.charCodeAt(x)])=="number"&&(_+=String.fromCharCode(w),w=t,A=0),x===g.length-1&&(w=t,_+=g.charAt(x-(A-1)),x-=A-1,A=0)):(w=t,_+=g.charAt(x-A),x-=A,A=0);return _};n.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=n.__arabicParser__.getCorrectForm=function(g,x,w){return o(g)?s(g)===!1?-1:!u(g)||!o(x)&&!o(w)||!o(w)&&a(x)||a(g)&&!o(x)||a(g)&&l(x)||a(g)&&a(x)?0:c(g)&&o(x)&&!a(x)&&o(w)&&u(w)?3:a(g)||!o(w)?1:2:-1},m=function(g){var x=0,w=0,_=0,A="",C="",T="",D=(g=g||"").split("\\s+"),I=[];for(x=0;x<D.length;x+=1){for(I.push(""),w=0;w<D[x].length;w+=1)A=D[x][w],C=D[x][w-1],T=D[x][w+1],o(A)?(_=p(A,C,T),I[x]+=_!==-1?String.fromCharCode(e[A.charCodeAt(0)][_]):A):I[x]+=A;I[x]=h(I[x])}return I.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(x)){var _=0;for(w=[],_=0;_<x.length;_+=1)Array.isArray(x[_])?w.push([m(x[_][0]),x[_][1],x[_][2]]):w.push([m(x[_])]);g=w}else g=m(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};n.events.push(["preProcessText",y])}(rn.API),rn.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(rn.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,m=0,y=0,g=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,C){return A.concat(x.splitTextToSize(C,w))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)m<(g=this.getStringUnitWidth(l[_],{font:h})*c)&&(m=g);return m!==0&&(y=l.length),{w:m/=p,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,m&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};n.table=function(l,u,c,h,p){if(r.call(this),!c)throw new Error("No data for PDF table.");var m,y,g,x,w=[],_=[],A=[],C={},T={},D=[],I=[],B=(p=p||{}).autoSize||!1,W=p.printHeaders!==!1,G=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,L=p.margins||Object.assign({width:this.getPageWidth()},e),P=typeof p.padding=="number"?p.padding:3,q=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=z,this.setFontSize(G),h==null)_=w=Object.keys(c[0]),A=w.map(function(){return"left"});else if(Array.isArray(h)&&cr(h[0])==="object")for(w=h.map(function(ie){return ie.name}),_=h.map(function(ie){return ie.prompt||ie.name||""}),A=h.map(function(ie){return ie.align||"left"}),m=0;m<h.length;m+=1)T[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(_=w=h,A=w.map(function(){return"left"}));if(B||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<w.length;m+=1){for(C[x=w[m]]=c.map(function(ie){return ie[x]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(_[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=C[x],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)D.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[x]=Math.max.apply(null,D)+P+P,D=[]}if(W){var ne={};for(m=0;m<w.length;m+=1)ne[w[m]]={},ne[w[m]].text=_[m],ne[w[m]].align=A[m];var re=a.call(this,ne,T);I=w.map(function(ie){return new s(l,u,T[ie],re,ne[ie].text,void 0,ne[ie].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var le=h.reduce(function(ie,ve){return ie[ve.name]=ve.align,ie},{});for(m=0;m<c.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:c[m]},this);var F=a.call(this,c[m],T);for(g=0;g<w.length;g+=1){var X=c[m][w[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:g,data:X},this),o.call(this,new s(l,u,T[w[g]],F,X,m+2,le[w[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(m){var y=l[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[m]-c-c)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/p+c+c},this).reduce(function(m,y){return Math.max(m,y)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){c=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}}(rn.API);var LF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},RF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],LA=TF(RF),PF=[100,200,300,400,500,600,700,800,900],Hie=TF(PF);function RA(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return LF[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof LA[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function Q4(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Gie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Z4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function eR(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function jie(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},Gie,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=RA(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+eR(s)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=LA[l],h=c<=LA.normal?-1:1,p=Q4(u,RF,c,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=LF[l],h=0;h<c.length;++h)if(u[c[h]])return u[c[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=Hie[l],h=Q4(u,PF,c,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+eR(s)+"'.");return o}function tR(n){return n.trimLeft()}function Wie(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Vie(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Yy,nR,rR,u5=["times"];(function(n){var e,t,r,i,s,o,a,l,u,c=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new o,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new o,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var h=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=N;Object.defineProperty(this,"pdf",{get:function(){return V}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(be){Q=Boolean(be)}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(be){ue=Boolean(be)}});var j=0;Object.defineProperty(this,"posX",{get:function(){return j},set:function(be){isNaN(be)||(j=be)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(be){isNaN(be)||(we=be)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(be){var oe;typeof be=="number"?oe=[be,be,be,be]:((oe=new Array(4))[0]=be[0],oe[1]=be.length>=2?be[1]:oe[0],oe[2]=be.length>=3?be[2]:oe[0],oe[3]=be.length>=4?be[3]:oe[1]),u.margin=oe}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(be){me=be}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(be){Ae=be}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(be){Te=be}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(be){be instanceof c&&(u=be)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(be){u.path=be}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(be){De=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var oe;oe=p(be),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var oe=p(be);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var xe=null;function Me(be,oe){if(xe===null){var $e=function(Ke){var je=[];return Object.keys(Ke).forEach(function(et){Ke[et].forEach(function(ct){var ae=null;switch(ct){case"bold":ae={family:et,weight:"bold"};break;case"italic":ae={family:et,style:"italic"};break;case"bolditalic":ae={family:et,weight:"bold",style:"italic"};break;case"":case"normal":ae={family:et}}ae!==null&&(ae.ref={name:et,style:ct},je.push(ae))})}),je}(be.getFontList());xe=function(Ke){for(var je={},et=0;et<Ke.length;++et){var ct=RA(Ke[et]),ae=ct.family,ee=ct.stretch,Se=ct.style,He=ct.weight;je[ae]=je[ae]||{},je[ae][ee]=je[ae][ee]||{},je[ae][ee][Se]=je[ae][ee][Se]||{},je[ae][ee][Se][He]=ct}return je}($e.concat(oe))}return xe}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(be){xe=null,Ge=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var oe;if(this.ctx.font=be,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var $e=oe[1],Ke=(oe[2],oe[3]),je=oe[4],et=(oe[5],oe[6]),ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(ct==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var ae=function(Pe){var Et,it,_e=[],fe=Pe.trim();if(fe==="")return u5;if(fe in Z4)return[Z4[fe]];for(;fe!=="";){switch(it=null,Et=(fe=tR(fe)).charAt(0)){case'"':case"'":it=Wie(fe.substring(1),Et);break;default:it=Vie(fe)}if(it===null||(_e.push(it[0]),(fe=tR(it[1]))!==""&&fe.charAt(0)!==","))return u5;fe=fe.replace(/^,/,"")}return _e}(et);if(this.fontFaces){var ee=jie(Me(this.pdf,this.fontFaces),ae.map(function(Pe){return{family:Pe,stretch:"normal",weight:Ke,style:$e}}));this.pdf.setFont(ee.ref.name,ee.ref.style)}else{var Se="";(Ke==="bold"||parseInt(Ke,10)>=700||$e==="bold")&&(Se="bold"),$e==="italic"&&(Se+="italic"),Se.length===0&&(Se="normal");for(var He="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<ae.length;ft++){if(this.pdf.internal.getFont(ae[ft],Se,{noFallback:!0,disableWarning:!0})!==void 0){He=ae[ft];break}if(Se==="bolditalic"&&this.pdf.internal.getFont(ae[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=ae[ft],Se="bold";else if(this.pdf.internal.getFont(ae[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=ae[ft],Se="normal";break}}if(He===""){for(var gt=0;gt<ae.length;gt++)if(rt[ae[gt]]){He=rt[ae[gt]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Se)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=Boolean(be)}})};h.prototype.setLineDash=function(N){this.lineDash=N},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){C.call(this,"fill",!1)},h.prototype.stroke=function(){C.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(N,V){if(isNaN(N)||isNaN(V))throw wr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(N,V));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(N,V)},h.prototype.closePath=function(){var N=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&cr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){N=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(N.x,N.y)},h.prototype.lineTo=function(N,V){if(isNaN(N)||isNaN(V))throw wr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(N,V));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},h.prototype.quadraticCurveTo=function(N,V,Q,ue){if(isNaN(Q)||isNaN(ue)||isNaN(N)||isNaN(V))throw wr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var j=this.ctx.transform.applyToPoint(new o(Q,ue)),we=this.ctx.transform.applyToPoint(new o(N,V));this.path.push({type:"qct",x1:we.x,y1:we.y,x:j.x,y:j.y}),this.ctx.lastPoint=new o(j.x,j.y)},h.prototype.bezierCurveTo=function(N,V,Q,ue,j,we){if(isNaN(j)||isNaN(we)||isNaN(N)||isNaN(V)||isNaN(Q)||isNaN(ue))throw wr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new o(j,we)),Ae=this.ctx.transform.applyToPoint(new o(N,V)),Te=this.ctx.transform.applyToPoint(new o(Q,ue));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Te.x,y2:Te.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},h.prototype.arc=function(N,V,Q,ue,j,we){if(isNaN(N)||isNaN(V)||isNaN(Q)||isNaN(ue)||isNaN(j))throw wr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=Boolean(we),!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new o(N,V));N=me.x,V=me.y;var Ae=this.ctx.transform.applyToPoint(new o(0,Q)),Te=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(Ae.x-Te.x,2)+Math.pow(Ae.y-Te.y,2))}Math.abs(j-ue)>=2*Math.PI&&(ue=0,j=2*Math.PI),this.path.push({type:"arc",x:N,y:V,radius:Q,startAngle:ue,endAngle:j,counterclockwise:we})},h.prototype.arcTo=function(N,V,Q,ue,j){throw new Error("arcTo not implemented.")},h.prototype.rect=function(N,V,Q,ue){if(isNaN(N)||isNaN(V)||isNaN(Q)||isNaN(ue))throw wr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,V),this.lineTo(N+Q,V),this.lineTo(N+Q,V+ue),this.lineTo(N,V+ue),this.lineTo(N,V),this.lineTo(N+Q,V),this.lineTo(N,V)},h.prototype.fillRect=function(N,V,Q,ue){if(isNaN(N)||isNaN(V)||isNaN(Q)||isNaN(ue))throw wr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var j={};this.lineCap!=="butt"&&(j.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(j.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,V,Q,ue),this.fill(),j.hasOwnProperty("lineCap")&&(this.lineCap=j.lineCap),j.hasOwnProperty("lineJoin")&&(this.lineJoin=j.lineJoin)}},h.prototype.strokeRect=function(N,V,Q,ue){if(isNaN(N)||isNaN(V)||isNaN(Q)||isNaN(ue))throw wr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(N,V,Q,ue),this.stroke())},h.prototype.clearRect=function(N,V,Q,ue){if(isNaN(N)||isNaN(V)||isNaN(Q)||isNaN(ue))throw wr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,V,Q,ue))},h.prototype.save=function(N){N=typeof N!="boolean"||N;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},h.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(V),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(N){var V,Q,ue,j;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))V=0,Q=0,ue=0,j=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(we!==null)V=parseInt(we[1]),Q=parseInt(we[2]),ue=parseInt(we[3]),j=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)V=parseInt(we[1]),Q=parseInt(we[2]),ue=parseInt(we[3]),j=parseFloat(we[4]);else{if(j=1,typeof N=="string"&&N.charAt(0)!=="#"){var me=new bF(N);N=me.ok?me.toHex():"#000000"}N.length===4?(V=N.substring(1,2),V+=V,Q=N.substring(2,3),Q+=Q,ue=N.substring(3,4),ue+=ue):(V=N.substring(1,3),Q=N.substring(3,5),ue=N.substring(5,7)),V=parseInt(V,16),Q=parseInt(Q,16),ue=parseInt(ue,16)}}return{r:V,g:Q,b:ue,a:j,style:N}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(N,V,Q,ue){if(isNaN(V)||isNaN(Q)||typeof N!="string")throw wr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!m.call(this)){var j=F(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;P.call(this,{text:N,x:V,y:Q,scale:we,angle:j,align:this.textAlign,maxWidth:ue})}},h.prototype.strokeText=function(N,V,Q,ue){if(isNaN(V)||isNaN(Q)||typeof N!="string")throw wr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ue=isNaN(ue)?void 0:ue;var j=F(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;P.call(this,{text:N,x:V,y:Q,scale:we,renderingMode:"stroke",angle:j,align:this.textAlign,maxWidth:ue})}},h.prototype.measureText=function(N){if(typeof N!="string")throw wr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,Q=this.pdf.internal.scaleFactor,ue=V.internal.getFontSize(),j=V.getStringUnitWidth(N)*ue/V.internal.scaleFactor,we=function(me){var Ae=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this};return new we({width:j*=Math.round(96*Q/72*1e4)/1e4})},h.prototype.scale=function(N,V){if(isNaN(N)||isNaN(V))throw wr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(N,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.rotate=function(N){if(isNaN(N))throw wr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.translate=function(N,V){if(isNaN(N)||isNaN(V))throw wr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,N,V);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.transform=function(N,V,Q,ue,j,we){if(isNaN(N)||isNaN(V)||isNaN(Q)||isNaN(ue)||isNaN(j)||isNaN(we))throw wr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(N,V,Q,ue,j,we);this.ctx.transform=this.ctx.transform.multiply(me)},h.prototype.setTransform=function(N,V,Q,ue,j,we){N=isNaN(N)?1:N,V=isNaN(V)?0:V,Q=isNaN(Q)?0:Q,ue=isNaN(ue)?1:ue,j=isNaN(j)?0:j,we=isNaN(we)?0:we,this.ctx.transform=new l(N,V,Q,ue,j,we)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(N,V,Q,ue,j,we,me,Ae,Te){var De=this.pdf.getImageProperties(N),xe=1,Me=1,Ge=1,be=1;ue!==void 0&&Ae!==void 0&&(Ge=Ae/ue,be=Te/j,xe=De.width/ue*Ae/ue,Me=De.height/j*Te/j),we===void 0&&(we=V,me=Q,V=0,Q=0),ue!==void 0&&Ae===void 0&&(Ae=ue,Te=j),ue===void 0&&Ae===void 0&&(Ae=De.width,Te=De.height);for(var oe,$e=this.ctx.transform.decompose(),Ke=F($e.rotate.shx),je=new l,et=(je=(je=(je=je.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new a(we-V*Ge,me-Q*be,ue*xe,j*Me)),ct=x.call(this,et),ae=[],ee=0;ee<ct.length;ee+=1)ae.indexOf(ct[ee])===-1&&ae.push(ct[ee]);if(A(ae),this.autoPaging)for(var Se=ae[0],He=ae[ae.length-1],rt=Se;rt<He+1;rt++){this.pdf.setPage(rt);var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=rt===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=rt===1?0:Pe+(rt-2)*Et;if(this.ctx.clip_path.length!==0){var _e=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(oe,this.posX+this.margin[3],-it+gt+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=_e}var fe=JSON.parse(JSON.stringify(et));fe=_([fe],this.posX+this.margin[3],-it+gt+this.ctx.prevPageLastElemOffset)[0];var Qe=(rt>Se||rt<He)&&g.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Et,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",fe.x,fe.y,fe.w,fe.h,null,null,Ke),Qe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",et.x,et.y,et.w,et.h,null,null,Ke)};var x=function(N,V,Q){var ue=[];V=V||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var j=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":ue.push(Math.floor((N.y+j)/Q)+1);break;case"arc":ue.push(Math.floor((N.y+j-N.radius)/Q)+1),ue.push(Math.floor((N.y+j+N.radius)/Q)+1);break;case"qct":var we=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);ue.push(Math.floor((we.y+j)/Q)+1),ue.push(Math.floor((we.y+we.h+j)/Q)+1);break;case"bct":var me=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);ue.push(Math.floor((me.y+j)/Q)+1),ue.push(Math.floor((me.y+me.h+j)/Q)+1);break;case"rect":ue.push(Math.floor((N.y+j)/Q)+1),ue.push(Math.floor((N.y+N.h+j)/Q)+1)}for(var Ae=0;Ae<ue.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Ae];)w.call(this);return ue},w=function(){var N=this.fillStyle,V=this.strokeStyle,Q=this.font,ue=this.lineCap,j=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=V,this.font=Q,this.lineCap=ue,this.lineWidth=j,this.lineJoin=we},_=function(N,V,Q){for(var ue=0;ue<N.length;ue++)switch(N[ue].type){case"bct":N[ue].x2+=V,N[ue].y2+=Q;case"qct":N[ue].x1+=V,N[ue].y1+=Q;case"mt":case"lt":case"arc":default:N[ue].x+=V,N[ue].y+=Q}return N},A=function(N){return N.sort(function(V,Q){return V-Q})},C=function(N,V){for(var Q,ue,j=this.fillStyle,we=this.strokeStyle,me=this.lineCap,Ae=this.lineWidth,Te=Math.abs(Ae*this.ctx.transform.scaleX),De=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),Ge=[],be=0;be<Me.length;be++)if(Me[be].x!==void 0)for(var oe=x.call(this,Me[be]),$e=0;$e<oe.length;$e+=1)Ge.indexOf(oe[$e])===-1&&Ge.push(oe[$e]);for(var Ke=0;Ke<Ge.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<Ge[Ke];)w.call(this);if(A(Ge),this.autoPaging)for(var je=Ge[0],et=Ge[Ge.length-1],ct=je;ct<et+1;ct++){this.pdf.setPage(ct),this.fillStyle=j,this.strokeStyle=we,this.lineCap=me,this.lineWidth=Te,this.lineJoin=De;var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ee=ct===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=ct===1?0:Se+(ct-2)*He;if(this.ctx.clip_path.length!==0){var ft=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Q,this.posX+this.margin[3],-rt+ee+this.ctx.prevPageLastElemOffset),T.call(this,N,!0),this.path=ft}if(ue=JSON.parse(JSON.stringify(xe)),this.path=_(ue,this.posX+this.margin[3],-rt+ee+this.ctx.prevPageLastElemOffset),V===!1||ct===0){var gt=(ct>je||ct<et)&&g.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,He,null).clip().discardPath()),T.call(this,N,V),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=Te,T.call(this,N,V),this.lineWidth=Ae;this.path=xe},T=function(N,V){if((N!=="stroke"||V||!y.call(this))&&(N==="stroke"||V||!m.call(this))){for(var Q,ue,j=[],we=this.path,me=0;me<we.length;me++){var Ae=we[me];switch(Ae.type){case"begin":j.push({begin:!0});break;case"close":j.push({close:!0});break;case"mt":j.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Te=j.length;if(we[me-1]&&!isNaN(we[me-1].x)&&(Q=[Ae.x-we[me-1].x,Ae.y-we[me-1].y],Te>0)){for(;Te>=0;Te--)if(j[Te-1].close!==!0&&j[Te-1].begin!==!0){j[Te-1].deltas.push(Q),j[Te-1].abs.push(Ae);break}}break;case"bct":Q=[Ae.x1-we[me-1].x,Ae.y1-we[me-1].y,Ae.x2-we[me-1].x,Ae.y2-we[me-1].y,Ae.x-we[me-1].x,Ae.y-we[me-1].y],j[j.length-1].deltas.push(Q);break;case"qct":var De=we[me-1].x+2/3*(Ae.x1-we[me-1].x),xe=we[me-1].y+2/3*(Ae.y1-we[me-1].y),Me=Ae.x+2/3*(Ae.x1-Ae.x),Ge=Ae.y+2/3*(Ae.y1-Ae.y),be=Ae.x,oe=Ae.y;Q=[De-we[me-1].x,xe-we[me-1].y,Me-we[me-1].x,Ge-we[me-1].y,be-we[me-1].x,oe-we[me-1].y],j[j.length-1].deltas.push(Q);break;case"arc":j.push({deltas:[],abs:[],arc:!0}),Array.isArray(j[j.length-1].abs)&&j[j.length-1].abs.push(Ae)}}ue=V?null:N==="stroke"?"stroke":"fill";for(var $e=!1,Ke=0;Ke<j.length;Ke++)if(j[Ke].arc)for(var je=j[Ke].abs,et=0;et<je.length;et++){var ct=je[et];ct.type==="arc"?B.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,V,!$e):q.call(this,ct.x,ct.y),$e=!0}else if(j[Ke].close===!0)this.pdf.internal.out("h"),$e=!1;else if(j[Ke].begin!==!0){var ae=j[Ke].start.x,ee=j[Ke].start.y;z.call(this,j[Ke].deltas,ae,ee),$e=!0}ue&&W.call(this,ue),V&&G.call(this)}},D=function(N){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-Q;case"top":return N+V-Q;case"hanging":return N+V-2*Q;case"middle":return N+V/2-Q;case"ideographic":return N;case"alphabetic":default:return N}},I=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(V,Q){this.colorStops.push([V,Q])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(N,V,Q,ue,j,we,me,Ae,Te){for(var De=re.call(this,Q,ue,j,we),xe=0;xe<De.length;xe++){var Me=De[xe];xe===0&&(Te?L.call(this,Me.x1+N,Me.y1+V):q.call(this,Me.x1+N,Me.y1+V)),ne.call(this,N,V,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}Ae?G.call(this):W.call(this,me)},W=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(N,V){this.pdf.internal.out(t(N)+" "+r(V)+" m")},P=function(N){var V;switch(N.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var Q=this.pdf.getTextDimensions(N.text),ue=D.call(this,N.y),j=I.call(this,ue)-Q.h,we=this.ctx.transform.applyToPoint(new o(N.x,ue)),me=this.ctx.transform.decompose(),Ae=new l;Ae=(Ae=(Ae=Ae.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Te,De,xe,Me=this.ctx.transform.applyToRectangle(new a(N.x,ue,Q.w,Q.h)),Ge=Ae.applyToRectangle(new a(N.x,j,Q.w,Q.h)),be=x.call(this,Ge),oe=[],$e=0;$e<be.length;$e+=1)oe.indexOf(be[$e])===-1&&oe.push(be[$e]);if(A(oe),this.autoPaging)for(var Ke=oe[0],je=oe[oe.length-1],et=Ke;et<je+1;et++){this.pdf.setPage(et);var ct=et===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ee=this.pdf.internal.pageSize.height-this.margin[2],Se=ee-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],rt=He-this.margin[3],ft=et===1?0:ae+(et-2)*Se;if(this.ctx.clip_path.length!==0){var gt=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Te,this.posX+this.margin[3],-1*ft+ct),T.call(this,"fill",!0),this.path=gt}var Pe=_([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-ft+ct+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*N.scale),xe=this.lineWidth,this.lineWidth=xe*N.scale);var Et=this.autoPaging!=="text";if(Et||Pe.y+Pe.h<=ee){if(Et||Pe.y>=ct&&Pe.x<=He){var it=Et?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||He-Pe.x)[0],_e=_([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-ft+ct+this.ctx.prevPageLastElemOffset)[0],fe=Et&&(et>Ke||et<je)&&g.call(this);fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Se,null).clip().discardPath()),this.pdf.text(it,_e.x,_e.y,{angle:N.angle,align:V,renderingMode:N.renderingMode}),fe&&this.pdf.restoreGraphicsState()}}else Pe.y<ee&&(this.ctx.prevPageLastElemOffset+=ee-Pe.y);N.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=xe)}else N.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*N.scale),xe=this.lineWidth,this.lineWidth=xe*N.scale),this.pdf.text(N.text,we.x+this.posX,we.y+this.posY,{angle:N.angle,align:V,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=xe)},q=function(N,V,Q,ue){Q=Q||0,ue=ue||0,this.pdf.internal.out(t(N+Q)+" "+r(V+ue)+" l")},z=function(N,V,Q){return this.pdf.lines(N,V,Q,null,null)},ne=function(N,V,Q,ue,j,we,me,Ae){this.pdf.internal.out([e(i(Q+N)),e(s(ue+V)),e(i(j+N)),e(s(we+V)),e(i(me+N)),e(s(Ae+V)),"c"].join(" "))},re=function(N,V,Q,ue){for(var j=2*Math.PI,we=Math.PI/2;V>Q;)V-=j;var me=Math.abs(Q-V);me<j&&ue&&(me=j-me);for(var Ae=[],Te=ue?-1:1,De=V;me>1e-5;){var xe=De+Te*Math.min(me,we);Ae.push(le.call(this,N,De,xe)),me-=Math.abs(xe-De),De=xe}return Ae},le=function(N,V,Q){var ue=(Q-V)/2,j=N*Math.cos(ue),we=N*Math.sin(ue),me=j,Ae=-we,Te=me*me+Ae*Ae,De=Te+me*j+Ae*we,xe=4/3*(Math.sqrt(2*Te*De)-De)/(me*we-Ae*j),Me=me-xe*Ae,Ge=Ae+xe*me,be=Me,oe=-Ge,$e=ue+V,Ke=Math.cos($e),je=Math.sin($e);return{x1:N*Math.cos(V),y1:N*Math.sin(V),x2:Me*Ke-Ge*je,y2:Me*je+Ge*Ke,x3:be*Ke-oe*je,y3:be*je+oe*Ke,x4:N*Math.cos(Q),y4:N*Math.sin(Q)}},F=function(N){return 180*N/Math.PI},X=function(N,V,Q,ue,j,we){var me=N+.5*(Q-N),Ae=V+.5*(ue-V),Te=j+.5*(Q-j),De=we+.5*(ue-we),xe=Math.min(N,j,me,Te),Me=Math.max(N,j,me,Te),Ge=Math.min(V,we,Ae,De),be=Math.max(V,we,Ae,De);return new a(xe,Ge,Me-xe,be-Ge)},ie=function(N,V,Q,ue,j,we,me,Ae){var Te,De,xe,Me,Ge,be,oe,$e,Ke,je,et,ct,ae,ee,Se=Q-N,He=ue-V,rt=j-Q,ft=we-ue,gt=me-j,Pe=Ae-we;for(De=0;De<41;De++)Ke=(oe=(xe=N+(Te=De/40)*Se)+Te*((Ge=Q+Te*rt)-xe))+Te*(Ge+Te*(j+Te*gt-Ge)-oe),je=($e=(Me=V+Te*He)+Te*((be=ue+Te*ft)-Me))+Te*(be+Te*(we+Te*Pe-be)-$e),De==0?(et=Ke,ct=je,ae=Ke,ee=je):(et=Math.min(et,Ke),ct=Math.min(ct,je),ae=Math.max(ae,Ke),ee=Math.max(ee,je));return new a(Math.round(et),Math.round(ct),Math.round(ae-et),Math.round(ee-ct))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,V,Q=(N=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:V}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(rn.API),function(n){var e=function(s){var o,a,l,u,c,h,p,m,y,g;for(/[^\x00-\xFF]/.test(s),a=[],l=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(c=((c=((c=((c=(c-(g=c%85))/85)-(y=c%85))/85)-(m=c%85))/85)-(p=c%85))/85)%85,a.push(h+33,p+33,m+33,y+33,g+33)):a.push(122);return function(x,w){for(var _=w;_>0;_--)x.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,u,c,h=String,p="length",m=255,y="charCodeAt",g="slice",x="replace";for(s[g](-2),s=s[g](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],u=0,c=(s+=o="uuuuu"[g](s[p]%5||5))[p];c>u;u+=5)a=52200625*(s[y](u)-33)+614125*(s[y](u+1)-33)+7225*(s[y](u+2)-33)+85*(s[y](u+3)-33)+(s[y](u+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(w,_){for(var A=_;A>0;A--)w.pop()}(l,o[p]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=AA(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(rn.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var h=new XMLHttpRequest,p=0,m=function(y){var g=y.length,x=[],w=String.fromCharCode;for(p=0;p<g;p+=1)x.push(w(255&y.charCodeAt(p)));return x.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?c(m(this.responseText)):c(void 0)}),h.send(null),u&&h.status===200)return m(h.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(rn.API),function(n){function e(){return(on.html2canvas?Promise.resolve(on.html2canvas):xA(()=>import("./html2canvas.esm.0eae2bf4.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(on.DOMPurify?Promise.resolve(on.DOMPurify):xA(()=>import("./purify.es.a6e02e1b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=cr(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var u in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[u]=a.style[u];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(u,c){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var m=u[p],y=m.src.find(function(g){return g.format==="truetype"});y&&l.addFont(y.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||rn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,u){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,u),h}).then(u,c).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,a);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,rn.getPageSize=function(o,a,l){if(cr(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,l=u.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,h=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+a}var m,y=0,g=0;if(p.hasOwnProperty(h))y=p[h][1]/c,g=p[h][0]/c;else try{y=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>y&&(m=g,g=y,y=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>g&&(m=g,g=y,y=m)}return{width:g,height:y,unit:a,k:c,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(RA):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(rn.API),rn.API.addJS=function(n){return rR=n,this.internal.events.subscribe("postPutResources",function(){Yy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+rR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yy!==void 0&&nR!==void 0&&this.internal.out("/Names <</JavaScript "+Yy+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var h=t.internal.newObject();c.push(h);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<c.length;s++)t.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(rn.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(h){for(var p,m=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,g={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=m,e.indexOf(h.charCodeAt(x+1))!==-1){p=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),g={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:p,numcomponents:h.charCodeAt(x+9)};break}m=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(rn.API);var Ip,Jy,iR,sR,oR,qie=function(){var n,e,t;function r(s){var o,a,l,u,c,h,p,m,y,g,x,w,_,A;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),y=function(){var C,T;for(T=[],C=0;C<4;++C)T.push(String.fromCharCode(this.data[this.pos++]));return T}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*c/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(_=0;0<=g?_<g:_>g;0<=g?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(x=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,x.slice(0,p)),this.text[m]=String.fromCharCode.apply(String,x.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(h,p,m,y){var g,x,w,_,A,C,T,D,I,B,W,G,L,P,q,z,ne,re,le,F,X,ie=Math.ceil((u.width-h)/m),ve=Math.ceil((u.height-p)/y),N=u.width==ie&&u.height==ve;for(P=o*ie,G=N?a:new Uint8Array(P*ve),C=s.length,L=0,x=0;L<ve&&l<C;){switch(s[l++]){case 0:for(_=ne=0;ne<P;_=ne+=1)G[x++]=s[l++];break;case 1:for(_=re=0;re<P;_=re+=1)g=s[l++],A=_<o?0:G[x-o],G[x++]=(g+A)%256;break;case 2:for(_=le=0;le<P;_=le+=1)g=s[l++],w=(_-_%o)/o,q=L&&G[(L-1)*P+w*o+_%o],G[x++]=(q+g)%256;break;case 3:for(_=F=0;F<P;_=F+=1)g=s[l++],w=(_-_%o)/o,A=_<o?0:G[x-o],q=L&&G[(L-1)*P+w*o+_%o],G[x++]=(g+Math.floor((A+q)/2))%256;break;case 4:for(_=X=0;X<P;_=X+=1)g=s[l++],w=(_-_%o)/o,A=_<o?0:G[x-o],L===0?q=z=0:(q=G[(L-1)*P+w*o+_%o],z=w&&G[(L-1)*P+(w-1)*o+_%o]),T=A+q-z,D=Math.abs(T-A),B=Math.abs(T-q),W=Math.abs(T-z),I=D<=B&&D<=W?A:B<=W?q:z,G[x++]=(g+I)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!N){var V=((p+L*y)*u.width+h)*o,Q=L*P;for(_=0;_<ie;_+=1){for(var ue=0;ue<o;ue+=1)a[V++]=G[Q++];V+=(m-1)*o}}L++}}return s=Eie(s),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,u,c,h,p,m;for(a=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+a.length),l=0,s=0,o=h=0,p=a.length;h<p;o=h+=3)u[l++]=a[o],u[l++]=a[o+1],u[l++]=a[o+2],u[l++]=(m=c[s++])!=null?m:255;return u},r.prototype.copyToImageData=function(s,o){var a,l,u,c,h,p,m,y,g,x,w;if(l=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),y=(u=s.data||s).length,h=g||o,c=p=0,l===1)for(;c<y;)m=g?4*o[c/4]:p,x=h[m++],u[c++]=x,u[c++]=x,u[c++]=x,u[c++]=a?h[m++]:255,p=m;else for(;c<y;)m=g?4*o[c/4]:p,u[c++]=h[m++],u[c++]=h[m++],u[c++]=h[m++],u[c++]=a?h[m++]:255,p=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(on)==="[object Window]"){try{e=on.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,u,c,h,p,m;if(this.animation){for(m=[],a=c=0,h=(p=this.animation.frames).length;c<h;a=++c)o=p[a],l=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,m.push(o.image=n(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,u;return a=(l=this.animation.frames)[o],u=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,u,c,h,p=this;return a=0,h=this.animation,u=h.numFrames,l=h.frames,c=h.numPlays,(o=function(){var m,y;if(m=a++%u,y=l[m],p.renderFrame(s,m),u>1&&a/u<c)return p.animation._timeout=setTimeout(o,y.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Yie(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],h=0,p=null,m=0,y=null;for(this.width=t,this.height=r;u&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=n[e++];h=n[e++]|n[e++]<<8,p=n[e++],(1&g)==0&&(p=null),m=g>>2&7,e++;break;case 254:for(;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var x=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,C=n[e++],T=C>>6&1,D=1<<(7&C)+1,I=a,B=l,W=!1;C>>7&&(W=!0,I=e,B=D,e+=3*D);var G=e;for(e++;;){var L;if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}c.push({x,y:w,width:_,height:A,has_local_palette:W,palette_offset:I,palette_size:B,data_offset:G,data_length:e-G,transparent_index:p,interlaced:!!T,delay:h,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(P){if(P<0||P>=c.length)throw new Error("Frame index out of range.");return c[P]},this.decodeAndBlitFrameBGRA=function(P,q){var z=this.frameInfo(P),ne=z.width*z.height,re=new Uint8Array(ne);aR(n,z.data_offset,re,ne);var le=z.palette_offset,F=z.transparent_index;F===null&&(F=256);var X=z.width,ie=t-X,ve=X,N=4*(z.y*t+z.x),V=4*((z.y+z.height)*t+z.x),Q=N,ue=4*ie;z.interlaced===!0&&(ue+=4*t*7);for(var j=8,we=0,me=re.length;we<me;++we){var Ae=re[we];if(ve===0&&(ve=X,(Q+=ue)>=V&&(ue=4*ie+4*t*(j-1),Q=N+(X+ie)*(j<<1),j>>=1)),Ae===F)Q+=4;else{var Te=n[le+3*Ae],De=n[le+3*Ae+1],xe=n[le+3*Ae+2];q[Q++]=xe,q[Q++]=De,q[Q++]=Te,q[Q++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(P,q){var z=this.frameInfo(P),ne=z.width*z.height,re=new Uint8Array(ne);aR(n,z.data_offset,re,ne);var le=z.palette_offset,F=z.transparent_index;F===null&&(F=256);var X=z.width,ie=t-X,ve=X,N=4*(z.y*t+z.x),V=4*((z.y+z.height)*t+z.x),Q=N,ue=4*ie;z.interlaced===!0&&(ue+=4*t*7);for(var j=8,we=0,me=re.length;we<me;++we){var Ae=re[we];if(ve===0&&(ve=X,(Q+=ue)>=V&&(ue=4*ie+4*t*(j-1),Q=N+(X+ie)*(j<<1),j>>=1)),Ae===F)Q+=4;else{var Te=n[le+3*Ae],De=n[le+3*Ae+1],xe=n[le+3*Ae+2];q[Q++]=Te,q[Q++]=De,q[Q++]=xe,q[Q++]=255}--ve}}}function aR(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,h=0,p=0,m=n[e++],y=new Int32Array(4096),g=null;;){for(;c<16&&m!==0;)h|=n[e++]<<c,c+=8,m===1?m=n[e++]:--m;if(c<l)break;var x=h&u;if(h>>=l,c-=l,x!==s){if(x===o)break;for(var w=x<a?x:g,_=0,A=w;A>s;)A=y[A]>>8,++_;var C=A;if(p+_+(w!==x?1:0)>r)return void wr.log("Warning, gif stream longer than expected.");t[p++]=C;var T=p+=_;for(w!==x&&(t[p++]=C),A=w;_--;)A=y[A],t[--T]=255&A,A>>=8;g!==null&&a<4096&&(y[a++]=g<<8|C,a>=u+1&&l<12&&(++l,u=u<<1|1)),g=x}else a=o+1,u=(1<<(l=i+1))-1,g=null}return p!==r&&wr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function c5(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),p=new Array(65535),m=new Array(64),y=new Array(64),g=[],x=0,w=7,_=new Array(64),A=new Array(64),C=new Array(64),T=new Array(256),D=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(N,V){for(var Q=0,ue=0,j=new Array,we=1;we<=16;we++){for(var me=1;me<=N[we];me++)j[V[ue]]=[],j[V[ue]][0]=Q,j[V[ue]][1]=we,ue++,Q++;Q*=2}return j}function le(N){for(var V=N[0],Q=N[1]-1;Q>=0;)V&1<<Q&&(x|=1<<w),Q--,--w<0&&(x==255?(F(255),F(0)):F(x),w=7,x=0)}function F(N){g.push(N)}function X(N){F(N>>8&255),F(255&N)}function ie(N,V,Q,ue,j){for(var we,me=j[0],Ae=j[240],Te=function(je,et){var ct,ae,ee,Se,He,rt,ft,gt,Pe,Et,it=0;for(Pe=0;Pe<8;++Pe){ct=je[it],ae=je[it+1],ee=je[it+2],Se=je[it+3],He=je[it+4],rt=je[it+5],ft=je[it+6];var _e=ct+(gt=je[it+7]),fe=ct-gt,Qe=ae+ft,Je=ae-ft,yt=ee+rt,_t=ee-rt,St=Se+He,xt=Se-He,Lt=_e+St,At=_e-St,pt=Qe+yt,Ft=Qe-yt;je[it]=Lt+pt,je[it+4]=Lt-pt;var Dt=.707106781*(Ft+At);je[it+2]=At+Dt,je[it+6]=At-Dt;var mn=.382683433*((Lt=xt+_t)-(Ft=Je+fe)),Ts=.5411961*Lt+mn,On=1.306562965*Ft+mn,ds=.707106781*(pt=_t+Je),Ls=fe+ds,Kt=fe-ds;je[it+5]=Kt+Ts,je[it+3]=Kt-Ts,je[it+1]=Ls+On,je[it+7]=Ls-On,it+=8}for(it=0,Pe=0;Pe<8;++Pe){ct=je[it],ae=je[it+8],ee=je[it+16],Se=je[it+24],He=je[it+32],rt=je[it+40],ft=je[it+48];var eo=ct+(gt=je[it+56]),wo=ct-gt,de=ae+ft,Oe=ae-ft,qe=ee+rt,We=ee-rt,ot=Se+He,qt=Se-He,Jt=eo+ot,en=eo-ot,Qt=de+qe,_n=de-qe;je[it]=Jt+Qt,je[it+32]=Jt-Qt;var an=.707106781*(_n+en);je[it+16]=en+an,je[it+48]=en-an;var cn=.382683433*((Jt=qt+We)-(_n=Oe+wo)),Vn=.5411961*Jt+cn,Rs=1.306562965*_n+cn,to=.707106781*(Qt=We+Oe),no=wo+to,Ci=wo-to;je[it+40]=Ci+Vn,je[it+24]=Ci-Vn,je[it+8]=no+Rs,je[it+56]=no-Rs,it++}for(Pe=0;Pe<64;++Pe)Et=je[Pe]*et[Pe],m[Pe]=Et>0?Et+.5|0:Et-.5|0;return m}(N,V),De=0;De<64;++De)y[I[De]]=Te[De];var xe=y[0]-Q;Q=y[0],xe==0?le(ue[0]):(le(ue[p[we=32767+xe]]),le(h[we]));for(var Me=63;Me>0&&y[Me]==0;)Me--;if(Me==0)return le(me),Q;for(var Ge,be=1;be<=Me;){for(var oe=be;y[be]==0&&be<=Me;)++be;var $e=be-oe;if($e>=16){Ge=$e>>4;for(var Ke=1;Ke<=Ge;++Ke)le(Ae);$e&=15}we=32767+y[be],le(j[($e<<4)+p[we]]),le(h[we]),be++}return Me!=63&&le(me),Q}function ve(N){N=Math.min(Math.max(N,1),100),s!=N&&(function(V){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var j=o((Q[ue]*V+50)/100);j=Math.min(Math.max(j,1),255),a[I[ue]]=j}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var Ae=o((we[me]*V+50)/100);Ae=Math.min(Math.max(Ae,1),255),l[I[me]]=Ae}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,xe=0;xe<8;xe++)for(var Me=0;Me<8;Me++)u[De]=1/(a[I[De]]*Te[xe]*Te[Me]*8),c[De]=1/(l[I[De]]*Te[xe]*Te[Me]*8),De++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,V){V&&ve(V),g=new Array,x=0,w=7,X(65496),X(65504),X(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),X(1),X(1),F(0),F(0),function(){X(65499),X(132),F(0);for(var ae=0;ae<64;ae++)F(a[ae]);F(1);for(var ee=0;ee<64;ee++)F(l[ee])}(),function(ae,ee){X(65472),X(17),F(8),X(ee),X(ae),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)}(N.width,N.height),function(){X(65476),X(418),F(0);for(var ae=0;ae<16;ae++)F(B[ae+1]);for(var ee=0;ee<=11;ee++)F(W[ee]);F(16);for(var Se=0;Se<16;Se++)F(G[Se+1]);for(var He=0;He<=161;He++)F(L[He]);F(1);for(var rt=0;rt<16;rt++)F(P[rt+1]);for(var ft=0;ft<=11;ft++)F(q[ft]);F(17);for(var gt=0;gt<16;gt++)F(z[gt+1]);for(var Pe=0;Pe<=161;Pe++)F(ne[Pe])}(),X(65498),X(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var Q=0,ue=0,j=0;x=0,w=7,this.encode.displayName="_encode_";for(var we,me,Ae,Te,De,xe,Me,Ge,be,oe=N.data,$e=N.width,Ke=N.height,je=4*$e,et=0;et<Ke;){for(we=0;we<je;){for(De=je*et+we,Me=-1,Ge=0,be=0;be<64;be++)xe=De+(Ge=be>>3)*je+(Me=4*(7&be)),et+Ge>=Ke&&(xe-=je*(et+1+Ge-Ke)),we+Me>=je&&(xe-=we+Me-je+4),me=oe[xe++],Ae=oe[xe++],Te=oe[xe++],_[be]=(D[me]+D[Ae+256>>0]+D[Te+512>>0]>>16)-128,A[be]=(D[me+768>>0]+D[Ae+1024>>0]+D[Te+1280>>0]>>16)-128,C[be]=(D[me+1280>>0]+D[Ae+1536>>0]+D[Te+1792>>0]>>16)-128;Q=ie(_,u,Q,e,r),ue=ie(A,c,ue,t,i),j=ie(C,c,j,t,i),we+=32}et+=8}if(w>=0){var ct=[];ct[1]=w+1,ct[0]=(1<<w+1)-1,le(ct)}return X(65497),new Uint8Array(g)},n=n||50,function(){for(var N=String.fromCharCode,V=0;V<256;V++)T[V]=N(V)}(),e=re(B,W),t=re(P,q),r=re(G,L),i=re(z,ne),function(){for(var N=1,V=2,Q=1;Q<=15;Q++){for(var ue=N;ue<V;ue++)p[32767+ue]=Q,h[32767+ue]=[],h[32767+ue][1]=Q,h[32767+ue][0]=ue;for(var j=-(V-1);j<=-N;j++)p[32767+j]=Q,h[32767+j]=[],h[32767+j][1]=Q,h[32767+j][0]=V-1+j;N<<=1,V<<=1}}(),function(){for(var N=0;N<256;N++)D[N]=19595*N,D[N+256>>0]=38470*N,D[N+512>>0]=7471*N+32768,D[N+768>>0]=-11059*N,D[N+1024>>0]=-21709*N,D[N+1280>>0]=32768*N+8421375,D[N+1536>>0]=-27439*N,D[N+1792>>0]=-5329*N}(),ve(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function lR(n){function e(B){if(!B)throw Error("assert :P")}function t(B,W,G){for(var L=0;4>L;L++)if(B[W+L]!=G.charCodeAt(L))return!0;return!1}function r(B,W,G,L,P){for(var q=0;q<P;q++)B[W+q]=G[L+q]}function i(B,W,G,L){for(var P=0;P<L;P++)B[W+P]=G}function s(B){return new Int32Array(B)}function o(B,W){for(var G=[],L=0;L<B;L++)G.push(new W);return G}function a(B,W){var G=[];return function L(P,q,z){for(var ne=z[q],re=0;re<ne&&(P.push(z.length>q+1?[]:new W),!(z.length<q+1));re++)L(P[re],q+1,z)}(G,0,B),G}var l=function(){var B=this;function W(v,S){for(var R=1<<S-1>>>0;v&R;)R>>>=1;return R?(v&R-1)+R:v}function G(v,S,R,O,Y){e(!(O%R));do v[S+(O-=R)]=Y;while(0<O)}function L(v,S,R,O,Y){if(e(2328>=Y),512>=Y)var $=s(512);else if(($=s(Y))==null)return 0;return function(K,te,se,he,pe,Ue){var ze,Be,lt=te,Ye=1<<se,Ce=s(16),Le=s(16);for(e(pe!=0),e(he!=null),e(K!=null),e(0<se),Be=0;Be<pe;++Be){if(15<he[Be])return 0;++Ce[he[Be]]}if(Ce[0]==pe)return 0;for(Le[1]=0,ze=1;15>ze;++ze){if(Ce[ze]>1<<ze)return 0;Le[ze+1]=Le[ze]+Ce[ze]}for(Be=0;Be<pe;++Be)ze=he[Be],0<he[Be]&&(Ue[Le[ze]++]=Be);if(Le[15]==1)return(he=new P).g=0,he.value=Ue[0],G(K,lt,1,Ye,he),Ye;var st,ht=-1,at=Ye-1,kt=0,Ct=1,Xt=1,Tt=1<<se;for(Be=0,ze=1,pe=2;ze<=se;++ze,pe<<=1){if(Ct+=Xt<<=1,0>(Xt-=Ce[ze]))return 0;for(;0<Ce[ze];--Ce[ze])(he=new P).g=ze,he.value=Ue[Be++],G(K,lt+kt,pe,Tt,he),kt=W(kt,ze)}for(ze=se+1,pe=2;15>=ze;++ze,pe<<=1){if(Ct+=Xt<<=1,0>(Xt-=Ce[ze]))return 0;for(;0<Ce[ze];--Ce[ze]){if(he=new P,(kt&at)!=ht){for(lt+=Tt,st=1<<(ht=ze)-se;15>ht&&!(0>=(st-=Ce[ht]));)++ht,st<<=1;Ye+=Tt=1<<(st=ht-se),K[te+(ht=kt&at)].g=st+se,K[te+ht].value=lt-te-ht}he.g=ze-se,he.value=Ue[Be++],G(K,lt+(kt>>se),pe,Tt,he),kt=W(kt,ze)}}return Ct!=2*Le[15]-1?0:Ye}(v,S,R,O,Y,$)}function P(){this.value=this.g=0}function q(){this.value=this.g=0}function z(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Xi,q)}function ne(v,S,R,O){e(v!=null),e(S!=null),e(2147483648>O),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=S,v.pa=R,v.Jd=S,v.Yc=R+O,v.Zc=4<=O?R+O-4+1:R,we(v)}function re(v,S){for(var R=0;0<S--;)R|=Ae(v,128)<<S;return R}function le(v,S){var R=re(v,S);return me(v)?-R:R}function F(v,S,R,O){var Y,$=0;for(e(v!=null),e(S!=null),e(4294967288>O),v.Sb=O,v.Ra=0,v.u=0,v.h=0,4<O&&(O=4),Y=0;Y<O;++Y)$+=S[R+Y]<<8*Y;v.Ra=$,v.bb=O,v.oa=S,v.pa=R}function X(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<qo-8>>>0,++v.bb,v.u-=8;Q(v)&&(v.h=1,v.u=0)}function ie(v,S){if(e(0<=S),!v.h&&S<=Sa){var R=V(v)&Fu[S];return v.u+=S,X(v),R}return v.h=1,v.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(v){return v.Ra>>>(v.u&qo-1)>>>0}function Q(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>qo}function ue(v,S){v.u=S,v.h=Q(v)}function j(v){v.u>=Ou&&(e(v.u>=Ou),X(v))}function we(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function me(v){return re(v,1)}function Ae(v,S){var R=v.Ca;0>v.b&&we(v);var O=v.b,Y=R*S>>>8,$=(v.I>>>O>Y)+0;for($?(R-=Y,v.I-=Y+1<<O>>>0):R=Y+1,O=R,Y=0;256<=O;)Y+=8,O>>=8;return O=7^Y+bi[O],v.b-=O,v.Ca=(R<<O)-1,$}function Te(v,S,R){v[S+0]=R>>24&255,v[S+1]=R>>16&255,v[S+2]=R>>8&255,v[S+3]=R>>0&255}function De(v,S){return v[S+0]<<0|v[S+1]<<8}function xe(v,S){return De(v,S)|v[S+2]<<16}function Me(v,S){return De(v,S)|De(v,S+2)<<16}function Ge(v,S){var R=1<<S;return e(v!=null),e(0<S),v.X=s(R),v.X==null?0:(v.Mb=32-S,v.Xa=S,1)}function be(v,S){e(v!=null),e(S!=null),e(v.Xa==S.Xa),r(S.X,0,v.X,0,1<<S.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function $e(v,S,R,O){e(R!=null),e(O!=null);var Y=R[0],$=O[0];return Y==0&&(Y=(v*$+S/2)/S),$==0&&($=(S*Y+v/2)/v),0>=Y||0>=$?0:(R[0]=Y,O[0]=$,1)}function Ke(v,S){return v+(1<<S)-1>>>S}function je(v,S){return((4278255360&v)+(4278255360&S)>>>0&4278255360)+((16711935&v)+(16711935&S)>>>0&16711935)>>>0}function et(v,S){B[S]=function(R,O,Y,$,K,te,se){var he;for(he=0;he<K;++he){var pe=B[v](te[se+he-1],Y,$+he);te[se+he]=je(R[O+he],pe)}}}function ct(){this.ud=this.hd=this.jd=0}function ae(v,S){return((4278124286&(v^S))>>>1)+(v&S)>>>0}function ee(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Se(v,S){return ee(v+(v-S+.5>>1))}function He(v,S,R){return Math.abs(S-R)-Math.abs(v-R)}function rt(v,S,R,O,Y,$,K){for(O=$[K-1],R=0;R<Y;++R)$[K+R]=O=je(v[S+R],O)}function ft(v,S,R,O,Y){var $;for($=0;$<R;++$){var K=v[S+$],te=K>>8&255,se=16711935&(se=(se=16711935&K)+((te<<16)+te));O[Y+$]=(4278255360&K)+se>>>0}}function gt(v,S){S.jd=v>>0&255,S.hd=v>>8&255,S.ud=v>>16&255}function Pe(v,S,R,O,Y,$){var K;for(K=0;K<O;++K){var te=S[R+K],se=te>>>8,he=te,pe=255&(pe=(pe=te>>>16)+((v.jd<<24>>24)*(se<<24>>24)>>>5));he=255&(he=(he=he+((v.hd<<24>>24)*(se<<24>>24)>>>5))+((v.ud<<24>>24)*(pe<<24>>24)>>>5)),Y[$+K]=(4278255360&te)+(pe<<16)+he}}function Et(v,S,R,O,Y){B[S]=function($,K,te,se,he,pe,Ue,ze,Be){for(se=Ue;se<ze;++se)for(Ue=0;Ue<Be;++Ue)he[pe++]=Y(te[O($[K++])])},B[v]=function($,K,te,se,he,pe,Ue){var ze=8>>$.b,Be=$.Ea,lt=$.K[0],Ye=$.w;if(8>ze)for($=(1<<$.b)-1,Ye=(1<<ze)-1;K<te;++K){var Ce,Le=0;for(Ce=0;Ce<Be;++Ce)Ce&$||(Le=O(se[he++])),pe[Ue++]=Y(lt[Le&Ye]),Le>>=ze}else B["VP8LMapColor"+R](se,he,lt,Ye,pe,Ue,K,te,Be)}}function it(v,S,R,O,Y){for(R=S+R;S<R;){var $=v[S++];O[Y++]=$>>16&255,O[Y++]=$>>8&255,O[Y++]=$>>0&255}}function _e(v,S,R,O,Y){for(R=S+R;S<R;){var $=v[S++];O[Y++]=$>>16&255,O[Y++]=$>>8&255,O[Y++]=$>>0&255,O[Y++]=$>>24&255}}function fe(v,S,R,O,Y){for(R=S+R;S<R;){var $=(K=v[S++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;O[Y++]=$,O[Y++]=K}}function Qe(v,S,R,O,Y){for(R=S+R;S<R;){var $=(K=v[S++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;O[Y++]=$,O[Y++]=K}}function Je(v,S,R,O,Y){for(R=S+R;S<R;){var $=v[S++];O[Y++]=$>>0&255,O[Y++]=$>>8&255,O[Y++]=$>>16&255}}function yt(v,S,R,O,Y,$){if($==0)for(R=S+R;S<R;)Te(O,(($=v[S++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),Y+=32;else r(O,Y,v,S,R)}function _t(v,S){B[S][0]=B[v+"0"],B[S][1]=B[v+"1"],B[S][2]=B[v+"2"],B[S][3]=B[v+"3"],B[S][4]=B[v+"4"],B[S][5]=B[v+"5"],B[S][6]=B[v+"6"],B[S][7]=B[v+"7"],B[S][8]=B[v+"8"],B[S][9]=B[v+"9"],B[S][10]=B[v+"10"],B[S][11]=B[v+"11"],B[S][12]=B[v+"12"],B[S][13]=B[v+"13"],B[S][14]=B[v+"0"],B[S][15]=B[v+"0"]}function St(v){return v==Yd||v==Jd||v==Xc||v==Xd}function xt(){this.eb=[],this.size=this.A=this.fb=0}function Lt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function At(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xt,this.f.kb=new Lt,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ft(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function mn(v,S){var R=v.T,O=S.ba.f.RGBA,Y=O.eb,$=O.fb+v.ka*O.A,K=es[S.ba.S],te=v.y,se=v.O,he=v.f,pe=v.N,Ue=v.ea,ze=v.W,Be=S.cc,lt=S.dc,Ye=S.Mc,Ce=S.Nc,Le=v.ka,st=v.ka+v.T,ht=v.U,at=ht+1>>1;for(Le==0?K(te,se,null,null,he,pe,Ue,ze,he,pe,Ue,ze,Y,$,null,null,ht):(K(S.ec,S.fc,te,se,Be,lt,Ye,Ce,he,pe,Ue,ze,Y,$-O.A,Y,$,ht),++R);Le+2<st;Le+=2)Be=he,lt=pe,Ye=Ue,Ce=ze,pe+=v.Rc,ze+=v.Rc,$+=2*O.A,K(te,(se+=2*v.fa)-v.fa,te,se,Be,lt,Ye,Ce,he,pe,Ue,ze,Y,$-O.A,Y,$,ht);return se+=v.fa,v.j+st<v.o?(r(S.ec,S.fc,te,se,ht),r(S.cc,S.dc,he,pe,at),r(S.Mc,S.Nc,Ue,ze,at),R--):1&st||K(te,se,null,null,he,pe,Ue,ze,he,pe,Ue,ze,Y,$+O.A,null,null,ht),R}function Ts(v,S,R){var O=v.F,Y=[v.J];if(O!=null){var $=v.U,K=S.ba.S,te=K==Kl||K==Xc;S=S.ba.f.RGBA;var se=[0],he=v.ka;se[0]=v.T,v.Kb&&(he==0?--se[0]:(--he,Y[0]-=v.width),v.j+v.ka+v.T==v.o&&(se[0]=v.o-v.j-he));var pe=S.eb;he=S.fb+he*S.A,v=Ca(O,Y[0],v.width,$,se,pe,he+(te?0:3),S.A),e(R==se),v&&St(K)&&Qi(pe,he,te,$,se,S.A)}return 0}function On(v){var S=v.ma,R=S.ba.S,O=11>R,Y=R==Hu||R==Jc||R==Kl||R==qd||R==12||St(R);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!jc(S.Oa,v,Y?11:12))return 0;if(Y&&St(R)&&dt(),v.da)alert("todo:use_scaling");else{if(O){if(S.Ib=Dt,v.Kb){if(R=v.U+1>>1,S.memory=s(v.U+2*R),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+v.U,S.Mc=S.cc,S.Nc=S.dc+R,S.Ib=mn,dt()}}else alert("todo:EmitYUV");Y&&(S.Jb=Ts,O&&Fe())}if(O&&!Fg){for(v=0;256>v;++v)Og[v]=89858*(v-128)+Si>>ts,mv[v]=-22014*(v-128)+Si,Ug[v]=-45773*(v-128),pv[v]=113618*(v-128)+Si>>ts;for(v=Qc;v<ep;++v)S=76283*(v-16)+Si>>ts,gv[v-Qc]=ms(S,255),tp[v-Qc]=ms(S+8>>4,15);Fg=1}return 1}function ds(v){var S=v.ma,R=v.U,O=v.T;return e(!(1&v.ka)),0>=R||0>=O?0:(R=S.Ib(v,S),S.Jb!=null&&S.Jb(v,S,R),S.Dc+=R,1)}function Ls(v){v.ma.memory=null}function Kt(v,S,R,O){return ie(v,8)!=47?0:(S[0]=ie(v,14)+1,R[0]=ie(v,14)+1,O[0]=ie(v,1),ie(v,3)!=0?0:!v.h)}function eo(v,S){if(4>v)return v+1;var R=v-2>>1;return(2+(1&v)<<R)+ie(S,R)+1}function wo(v,S){return 120<S?S-120:1<=(R=((R=av[S-1])>>4)*v+(8-(15&R)))?R:1;var R}function de(v,S,R){var O=V(R),Y=v[S+=255&O].g-8;return 0<Y&&(ue(R,R.u+8),O=V(R),S+=v[S].value,S+=O&(1<<Y)-1),ue(R,R.u+v[S].g),v[S].value}function Oe(v,S,R){return R.g+=v.g,R.value+=v.value<<S>>>0,e(8>=R.g),v.g}function qe(v,S,R){var O=v.xc;return e((S=O==0?0:v.vc[v.md*(R>>O)+(S>>O)])<v.Wb),v.Ya[S]}function We(v,S,R,O){var Y=v.ab,$=v.c*S,K=v.C;S=K+S;var te=R,se=O;for(O=v.Ta,R=v.Ua;0<Y--;){var he=v.gc[Y],pe=K,Ue=S,ze=te,Be=se,lt=(se=O,te=R,he.Ea);switch(e(pe<Ue),e(Ue<=he.nc),he.hc){case 2:gh(ze,Be,(Ue-pe)*lt,se,te);break;case 0:var Ye=pe,Ce=Ue,Le=se,st=te,ht=(Tt=he).Ea;Ye==0&&(Vc(ze,Be,null,null,1,Le,st),rt(ze,Be+1,0,0,ht-1,Le,st+1),Be+=ht,st+=ht,++Ye);for(var at=1<<Tt.b,kt=at-1,Ct=Ke(ht,Tt.b),Xt=Tt.K,Tt=Tt.w+(Ye>>Tt.b)*Ct;Ye<Ce;){var Dn=Xt,Yn=Tt,Pn=1;for(qc(ze,Be,Le,st-ht,1,Le,st);Pn<ht;){var bn=(Pn&~kt)+at;bn>ht&&(bn=ht),(0,Mo[Dn[Yn++]>>8&15])(ze,Be+ +Pn,Le,st+Pn-ht,bn-Pn,Le,st+Pn),Pn=bn}Be+=ht,st+=ht,++Ye&kt||(Tt+=Ct)}Ue!=he.nc&&r(se,te-lt,se,te+(Ue-pe-1)*lt,lt);break;case 1:for(lt=ze,Ce=Be,ht=(ze=he.Ea)-(st=ze&~(Le=(Be=1<<he.b)-1)),Ye=Ke(ze,he.b),at=he.K,he=he.w+(pe>>he.b)*Ye;pe<Ue;){for(kt=at,Ct=he,Xt=new ct,Tt=Ce+st,Dn=Ce+ze;Ce<Tt;)gt(kt[Ct++],Xt),Bi(Xt,lt,Ce,Be,se,te),Ce+=Be,te+=Be;Ce<Dn&&(gt(kt[Ct++],Xt),Bi(Xt,lt,Ce,ht,se,te),Ce+=ht,te+=ht),++pe&Le||(he+=Ye)}break;case 3:if(ze==se&&Be==te&&0<he.b){for(Ce=se,ze=lt=te+(Ue-pe)*lt-(st=(Ue-pe)*Ke(he.Ea,he.b)),Be=se,Le=te,Ye=[],st=(ht=st)-1;0<=st;--st)Ye[st]=Be[Le+st];for(st=ht-1;0<=st;--st)Ce[ze+st]=Ye[st];$i(he,pe,Ue,se,lt,se,te)}else $i(he,pe,Ue,ze,Be,se,te)}te=O,se=R}se!=R&&r(O,R,te,se,$)}function ot(v,S){var R=v.V,O=v.Ba+v.c*v.C,Y=S-v.C;if(e(S<=v.l.o),e(16>=Y),0<Y){var $=v.l,K=v.Ta,te=v.Ua,se=$.width;if(We(v,Y,R,O),Y=te=[te],e((R=v.C)<(O=S)),e($.v<$.va),O>$.o&&(O=$.o),R<$.j){var he=$.j-R;R=$.j,Y[0]+=he*se}if(R>=O?R=0:(Y[0]+=4*$.v,$.ka=R-$.j,$.U=$.va-$.v,$.T=O-R,R=1),R){if(te=te[0],11>(R=v.ca).S){var pe=R.f.RGBA,Ue=(O=R.S,Y=$.U,$=$.T,he=pe.eb,pe.A),ze=$;for(pe=pe.fb+v.Ma*pe.A;0<ze--;){var Be=K,lt=te,Ye=Y,Ce=he,Le=pe;switch(O){case wh:Zr(Be,lt,Ye,Ce,Le);break;case Hu:Aa(Be,lt,Ye,Ce,Le);break;case Yd:Aa(Be,lt,Ye,Ce,Le),Qi(Ce,Le,0,Ye,1,0);break;case _h:Xl(Be,lt,Ye,Ce,Le);break;case Jc:yt(Be,lt,Ye,Ce,Le,1);break;case Jd:yt(Be,lt,Ye,Ce,Le,1),Qi(Ce,Le,0,Ye,1,0);break;case Kl:yt(Be,lt,Ye,Ce,Le,0);break;case Xc:yt(Be,lt,Ye,Ce,Le,0),Qi(Ce,Le,1,Ye,1,0);break;case qd:gs(Be,lt,Ye,Ce,Le);break;case Xd:gs(Be,lt,Ye,Ce,Le),vs(Ce,Le,Ye,1,0);break;case Pg:Ma(Be,lt,Ye,Ce,Le);break;default:e(0)}te+=se,pe+=Ue}v.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=R.height)}}v.C=S,e(v.C<=v.i)}function qt(v){var S;if(0<v.ua)return 0;for(S=0;S<v.Wb;++S){var R=v.Ya[S].G,O=v.Ya[S].H;if(0<R[1][O[1]+0].g||0<R[2][O[2]+0].g||0<R[3][O[3]+0].g)return 0}return 1}function Jt(v,S,R,O,Y,$){if(v.Z!=0){var K=v.qd,te=v.rd;for(e(To[v.Z]!=null);S<R;++S)To[v.Z](K,te,O,Y,O,Y,$),K=O,te=Y,Y+=$;v.qd=K,v.rd=te}}function en(v,S){var R=v.l.ma,O=R.Z==0||R.Z==1?v.l.j:v.C;if(O=v.C<O?O:v.C,e(S<=v.l.o),S>O){var Y=v.l.width,$=R.ca,K=R.tb+Y*O,te=v.V,se=v.Ba+v.c*O,he=v.gc;e(v.ab==1),e(he[0].hc==3),Uu(he[0],O,S,te,se,$,K),Jt(R,O,S,$,K,Y)}v.C=v.Ma=S}function Qt(v,S,R,O,Y,$,K){var te=v.$/O,se=v.$%O,he=v.m,pe=v.s,Ue=R+v.$,ze=Ue;Y=R+O*Y;var Be=R+O*$,lt=280+pe.ua,Ye=v.Pb?te:16777216,Ce=0<pe.ua?pe.Wa:null,Le=pe.wc,st=Ue<Be?qe(pe,se,te):null;e(v.C<$),e(Be<=Y);var ht=!1;e:for(;;){for(;ht||Ue<Be;){var at=0;if(te>=Ye){var kt=Ue-R;e((Ye=v).Pb),Ye.wd=Ye.m,Ye.xd=kt,0<Ye.s.ua&&be(Ye.s.Wa,Ye.s.vb),Ye=te+uv}if(se&Le||(st=qe(pe,se,te)),e(st!=null),st.Qb&&(S[Ue]=st.qb,ht=!0),!ht)if(j(he),st.jc){at=he,kt=S;var Ct=Ue,Xt=st.pd[V(at)&Xi-1];e(st.jc),256>Xt.g?(ue(at,at.u+Xt.g),kt[Ct]=Xt.value,at=0):(ue(at,at.u+Xt.g-256),e(256<=Xt.value),at=Xt.value),at==0&&(ht=!0)}else at=de(st.G[0],st.H[0],he);if(he.h)break;if(ht||256>at){if(!ht)if(st.nd)S[Ue]=(st.qb|at<<8)>>>0;else{if(j(he),ht=de(st.G[1],st.H[1],he),j(he),kt=de(st.G[2],st.H[2],he),Ct=de(st.G[3],st.H[3],he),he.h)break;S[Ue]=(Ct<<24|ht<<16|at<<8|kt)>>>0}if(ht=!1,++Ue,++se>=O&&(se=0,++te,K!=null&&te<=$&&!(te%16)&&K(v,te),Ce!=null))for(;ze<Ue;)at=S[ze++],Ce.X[(506832829*at&4294967295)>>>Ce.Mb]=at}else if(280>at){if(at=eo(at-256,he),kt=de(st.G[4],st.H[4],he),j(he),kt=wo(O,kt=eo(kt,he)),he.h)break;if(Ue-R<kt||Y-Ue<at)break e;for(Ct=0;Ct<at;++Ct)S[Ue+Ct]=S[Ue+Ct-kt];for(Ue+=at,se+=at;se>=O;)se-=O,++te,K!=null&&te<=$&&!(te%16)&&K(v,te);if(e(Ue<=Y),se&Le&&(st=qe(pe,se,te)),Ce!=null)for(;ze<Ue;)at=S[ze++],Ce.X[(506832829*at&4294967295)>>>Ce.Mb]=at}else{if(!(at<lt))break e;for(ht=at-280,e(Ce!=null);ze<Ue;)at=S[ze++],Ce.X[(506832829*at&4294967295)>>>Ce.Mb]=at;at=Ue,e(!(ht>>>(kt=Ce).Xa)),S[at]=kt.X[ht],ht=!0}ht||e(he.h==Q(he))}if(v.Pb&&he.h&&Ue<Y)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&be(v.s.vb,v.s.Wa);else{if(he.h)break e;K!=null&&K(v,te>$?$:te),v.a=0,v.$=Ue-R}return 1}return v.a=3,0}function _n(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var S=v.Wa;S!=null&&(S.X=null),v.vb=null,e(v!=null)}function an(){var v=new ba;return v==null?null:(v.a=0,v.xb=Ig,_t("Predictor","VP8LPredictors"),_t("Predictor","VP8LPredictors_C"),_t("PredictorAdd","VP8LPredictorsAdd"),_t("PredictorAdd","VP8LPredictorsAdd_C"),gh=ft,Bi=Pe,Zr=it,Aa=_e,gs=fe,Ma=Qe,Xl=Je,B.VP8LMapColor32b=Yc,B.VP8LMapColor8b=Bs,v)}function cn(v,S,R,O,Y){var $=1,K=[v],te=[S],se=O.m,he=O.s,pe=null,Ue=0;e:for(;;){if(R)for(;$&&ie(se,1);){var ze=K,Be=te,lt=O,Ye=1,Ce=lt.m,Le=lt.gc[lt.ab],st=ie(Ce,2);if(lt.Oc&1<<st)$=0;else{switch(lt.Oc|=1<<st,Le.hc=st,Le.Ea=ze[0],Le.nc=Be[0],Le.K=[null],++lt.ab,e(4>=lt.ab),st){case 0:case 1:Le.b=ie(Ce,3)+2,Ye=cn(Ke(Le.Ea,Le.b),Ke(Le.nc,Le.b),0,lt,Le.K),Le.K=Le.K[0];break;case 3:var ht,at=ie(Ce,8)+1,kt=16<at?0:4<at?1:2<at?2:3;if(ze[0]=Ke(Le.Ea,kt),Le.b=kt,ht=Ye=cn(at,1,0,lt,Le.K)){var Ct,Xt=at,Tt=Le,Dn=1<<(8>>Tt.b),Yn=s(Dn);if(Yn==null)ht=0;else{var Pn=Tt.K[0],bn=Tt.w;for(Yn[0]=Tt.K[0][0],Ct=1;Ct<1*Xt;++Ct)Yn[Ct]=je(Pn[bn+Ct],Yn[Ct-1]);for(;Ct<4*Dn;++Ct)Yn[Ct]=0;Tt.K[0]=null,Tt.K[0]=Yn,ht=1}}Ye=ht;break;case 2:break;default:e(0)}$=Ye}}if(K=K[0],te=te[0],$&&ie(se,1)&&!($=1<=(Ue=ie(se,4))&&11>=Ue)){O.a=3;break e}var ur;if(ur=$)t:{var ir,hn,Gr,xs=O,jr=K,Ii=te,Un=Ue,ns=R,rs=xs.m,Wr=xs.s,Vr=[null],Ni=1,Is=0,Lo=lv[Un];n:for(;;){if(ns&&ie(rs,1)){var li=ie(rs,3)+2,Jo=Ke(jr,li),Gu=Ke(Ii,li),fl=Jo*Gu;if(!cn(Jo,Gu,0,xs,Vr))break n;for(Vr=Vr[0],Wr.xc=li,ir=0;ir<fl;++ir){var Ra=Vr[ir]>>8&65535;Vr[ir]=Ra,Ra>=Ni&&(Ni=Ra+1)}}if(rs.h)break n;for(hn=0;5>hn;++hn){var dn=Bg[hn];!hn&&0<Un&&(dn+=1<<Un),Is<dn&&(Is=dn)}var vn=o(Ni*Lo,P),qr=Ni,Yr=o(qr,z);if(Yr==null)var ti=null;else e(65536>=qr),ti=Yr;var Di=s(Is);if(ti==null||Di==null||vn==null){xs.a=1;break n}var hl=vn;for(ir=Gr=0;ir<Ni;++ir){var er=ti[ir],Pa=er.G,Xo=er.H,Mh=0,Zc=1,ef=0;for(hn=0;5>hn;++hn){dn=Bg[hn],Pa[hn]=hl,Xo[hn]=Gr,!hn&&0<Un&&(dn+=1<<Un);i:{var Fi,Eh=dn,tf=xs,Ba=Di,np=hl,Gg=Gr,ka=0,$o=tf.m,Ql=ie($o,1);if(i(Ba,0,0,Eh),Ql){var rp=ie($o,1)+1,Ch=ie($o,1),ip=ie($o,Ch==0?1:8);Ba[ip]=1,rp==2&&(Ba[ip=ie($o,8)]=1);var ju=1}else{var Th=s(19),is=ie($o,4)+4;if(19<is){tf.a=3;var Ko=0;break i}for(Fi=0;Fi<is;++Fi)Th[r_[Fi]]=ie($o,3);var Ns=void 0,Zl=void 0,ws=tf,yv=Th,nf=Eh,sp=Ba,jg=0,_s=ws.m,Wg=8,Vg=o(128,P);r:for(;L(Vg,0,7,yv,19);){if(ie(_s,1)){var qg=2+2*ie(_s,3);if((Ns=2+ie(_s,qg))>nf)break r}else Ns=nf;for(Zl=0;Zl<nf&&Ns--;){j(_s);var eu=Vg[0+(127&V(_s))];ue(_s,_s.u+eu.g);var Wu=eu.value;if(16>Wu)sp[Zl++]=Wu,Wu!=0&&(Wg=Wu);else{var xv=Wu==16,op=Wu-16,ap=t_[op],wv=ie(_s,ov[op])+ap;if(Zl+wv>nf)break r;for(var l_=xv?Wg:0;0<wv--;)sp[Zl++]=l_}}jg=1;break r}jg||(ws.a=3),ju=jg}(ju=ju&&!$o.h)&&(ka=L(np,Gg,8,Ba,Eh)),ju&&ka!=0?Ko=ka:(tf.a=3,Ko=0)}if(Ko==0)break n;if(Zc&&n_[hn]==1&&(Zc=hl[Gr].g==0),Mh+=hl[Gr].g,Gr+=Ko,3>=hn){var rf,lp=Di[0];for(rf=1;rf<dn;++rf)Di[rf]>lp&&(lp=Di[rf]);ef+=lp}}if(er.nd=Zc,er.Qb=0,Zc&&(er.qb=(Pa[3][Xo[3]+0].value<<24|Pa[1][Xo[1]+0].value<<16|Pa[2][Xo[2]+0].value)>>>0,Mh==0&&256>Pa[0][Xo[0]+0].value&&(er.Qb=1,er.qb+=Pa[0][Xo[0]+0].value<<8)),er.jc=!er.Qb&&6>ef,er.jc){var Ia,dl=er;for(Ia=0;Ia<Xi;++Ia){var Ds=Ia,pl=dl.pd[Ds],Oi=dl.G[0][dl.H[0]+Ds];256<=Oi.value?(pl.g=Oi.g+256,pl.value=Oi.value):(pl.g=0,pl.value=0,Ds>>=Oe(Oi,8,pl),Ds>>=Oe(dl.G[1][dl.H[1]+Ds],16,pl),Ds>>=Oe(dl.G[2][dl.H[2]+Ds],0,pl),Oe(dl.G[3][dl.H[3]+Ds],24,pl))}}}Wr.vc=Vr,Wr.Wb=Ni,Wr.Ya=ti,Wr.yc=vn,ur=1;break t}ur=0}if(!($=ur)){O.a=3;break e}if(0<Ue){if(he.ua=1<<Ue,!Ge(he.Wa,Ue)){O.a=1,$=0;break e}}else he.ua=0;var Yg=O,Jg=K,u_=te,Xg=Yg.s,up=Xg.xc;if(Yg.c=Jg,Yg.i=u_,Xg.md=Ke(Jg,up),Xg.wc=up==0?-1:(1<<up)-1,R){O.xb=La;break e}if((pe=s(K*te))==null){O.a=1,$=0;break e}$=($=Qt(O,pe,0,K,te,te,null))&&!se.h;break e}return $?(Y!=null?Y[0]=pe:(e(pe==null),e(R)),O.$=0,R||_n(he)):_n(he),$}function Vn(v,S){var R=v.c*v.i,O=R+S+16*S;return e(v.c<=S),v.V=s(O),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+R+S,1)}function Rs(v,S){var R=v.C,O=S-R,Y=v.V,$=v.Ba+v.c*R;for(e(S<=v.l.o);0<O;){var K=16<O?16:O,te=v.l.ma,se=v.l.width,he=se*K,pe=te.ca,Ue=te.tb+se*R,ze=v.Ta,Be=v.Ua;We(v,K,Y,$),vh(ze,Be,pe,Ue,he),Jt(te,R,R+K,pe,Ue,se),O-=K,Y+=K*v.c,R+=K}e(R==S),v.C=v.Ma=S}function to(){this.ub=this.yd=this.td=this.Rb=0}function no(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ci(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Rn(){this.Yb=function(){var v=[];return function S(R,O,Y){for(var $=Y[O],K=0;K<$&&(R.push(Y.length>O+1?[]:0),!(Y.length<O+1));K++)S(R[K],O+1,Y)}(v,0,[3,11]),v}()}function _o(){this.jb=s(3),this.Wc=a([4,8],Rn),this.Xc=a([4,17],Rn)}function tr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function oi(){this.ld=this.La=this.dd=this.tc=0}function ps(){this.Na=this.la=0}function tl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Go(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vr(){this.uc=this.M=this.Nb=0,this.wa=Array(new oi),this.Y=0,this.ya=Array(new Go),this.aa=0,this.l=new fn}function Ti(){this.y=s(16),this.f=s(8),this.ea=s(8)}function jn(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new to,this.Kc=new no,this.ed=new tr,this.Qa=new Ci,this.Ic=this.$c=this.Aa=0,this.D=new vr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ve),this.ia=0,this.pb=o(4,tl),this.Pa=new _o,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ti),this.Hd=0,this.rb=Array(new ps),this.sb=0,this.wa=Array(new oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Go),this.L=this.aa=0,this.gd=a([4,2],oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ga(){var v=new jn;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,bh||(bh=nl)),v}function En(v,S,R){return v.a==0&&(v.a=S,v.sc=R,v.cb=0),0}function Li(v,S,R){return 3<=R&&v[S+0]==157&&v[S+1]==1&&v[S+2]==42}function va(v,S){if(v==null)return 0;if(v.a=0,v.sc="OK",S==null)return En(v,2,"null VP8Io passed to VP8GetHeaders()");var R=S.data,O=S.w,Y=S.ha;if(4>Y)return En(v,7,"Truncated header.");var $=R[O+0]|R[O+1]<<8|R[O+2]<<16,K=v.Od;if(K.Rb=!(1&$),K.td=$>>1&7,K.yd=$>>4&1,K.ub=$>>5,3<K.td)return En(v,3,"Incorrect keyframe parameters.");if(!K.yd)return En(v,4,"Frame not displayable.");O+=3,Y-=3;var te=v.Kc;if(K.Rb){if(7>Y)return En(v,7,"cannot parse picture header");if(!Li(R,O,Y))return En(v,3,"Bad code word");te.c=16383&(R[O+4]<<8|R[O+3]),te.Td=R[O+4]>>6,te.i=16383&(R[O+6]<<8|R[O+5]),te.Ud=R[O+6]>>6,O+=7,Y-=7,v.za=te.c+15>>4,v.Ub=te.i+15>>4,S.width=te.c,S.height=te.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i(($=v.Pa).jb,0,255,$.jb.length),e(($=v.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,i($.Zb,0,0,$.Zb.length),i($.Lb,0,0,$.Lb)}if(K.ub>Y)return En(v,7,"bad partition length");ne($=v.m,R,O,K.ub),O+=K.ub,Y-=K.ub,K.Rb&&(te.Ld=me($),te.Kd=me($)),te=v.Qa;var se,he=v.Pa;if(e($!=null),e(te!=null),te.Cb=me($),te.Cb){if(te.Bb=me($),me($)){for(te.Fb=me($),se=0;4>se;++se)te.Zb[se]=me($)?le($,7):0;for(se=0;4>se;++se)te.Lb[se]=me($)?le($,6):0}if(te.Bb)for(se=0;3>se;++se)he.jb[se]=me($)?re($,8):255}else te.Bb=0;if($.Ka)return En(v,3,"cannot parse segment header");if((te=v.ed).zd=me($),te.Tb=re($,6),te.wb=re($,3),te.Pc=me($),te.Pc&&me($)){for(he=0;4>he;++he)me($)&&(te.vd[he]=le($,6));for(he=0;4>he;++he)me($)&&(te.od[he]=le($,6))}if(v.L=te.Tb==0?0:te.zd?1:2,$.Ka)return En(v,3,"cannot parse filter header");var pe=Y;if(Y=se=O,O=se+pe,te=pe,v.Xb=(1<<re(v.m,2))-1,pe<3*(he=v.Xb))R=7;else{for(se+=3*he,te-=3*he,pe=0;pe<he;++pe){var Ue=R[Y+0]|R[Y+1]<<8|R[Y+2]<<16;Ue>te&&(Ue=te),ne(v.Jc[+pe],R,se,Ue),se+=Ue,te-=Ue,Y+=3}ne(v.Jc[+he],R,se,te),R=se<O?0:5}if(R!=0)return En(v,R,"cannot parse partitions");for(R=re(se=v.m,7),Y=me(se)?le(se,4):0,O=me(se)?le(se,4):0,te=me(se)?le(se,4):0,he=me(se)?le(se,4):0,se=me(se)?le(se,4):0,pe=v.Qa,Ue=0;4>Ue;++Ue){if(pe.Cb){var ze=pe.Zb[Ue];pe.Fb||(ze+=R)}else{if(0<Ue){v.pb[Ue]=v.pb[0];continue}ze=R}var Be=v.pb[Ue];Be.Sc[0]=$d[ms(ze+Y,127)],Be.Sc[1]=$c[ms(ze+0,127)],Be.Eb[0]=2*$d[ms(ze+O,127)],Be.Eb[1]=101581*$c[ms(ze+te,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=$d[ms(ze+he,117)],Be.Qc[1]=$c[ms(ze+se,127)],Be.lc=ze+se}if(!K.Rb)return En(v,4,"Not a key frame.");for(me($),K=v.Pa,R=0;4>R;++R){for(Y=0;8>Y;++Y)for(O=0;3>O;++O)for(te=0;11>te;++te)he=Ae($,cv[R][Y][O][te])?re($,8):kg[R][Y][O][te],K.Wc[R][Y].Yb[O][te]=he;for(Y=0;17>Y;++Y)K.Xc[R][Y]=K.Wc[R][fv[Y]]}return v.kc=me($),v.kc&&(v.Bd=re($,8)),v.cb=1}function nl(v,S,R,O,Y,$,K){var te=S[Y].Yb[R];for(R=0;16>Y;++Y){if(!Ae(v,te[R+0]))return Y;for(;!Ae(v,te[R+1]);)if(te=S[++Y].Yb[0],R=0,Y==16)return 16;var se=S[Y+1].Yb;if(Ae(v,te[R+2])){var he=v,pe=0;if(Ae(he,(ze=te)[(Ue=R)+3]))if(Ae(he,ze[Ue+6])){for(te=0,Ue=2*(pe=Ae(he,ze[Ue+8]))+(ze=Ae(he,ze[Ue+9+pe])),pe=0,ze=i_[Ue];ze[te];++te)pe+=pe+Ae(he,ze[te]);pe+=3+(8<<Ue)}else Ae(he,ze[Ue+7])?(pe=7+2*Ae(he,165),pe+=Ae(he,145)):pe=5+Ae(he,159);else pe=Ae(he,ze[Ue+4])?3+Ae(he,ze[Ue+5]):2;te=se[2]}else pe=1,te=se[1];se=K+s_[Y],0>(he=v).b&&we(he);var Ue,ze=he.b,Be=(Ue=he.Ca>>1)-(he.I>>ze)>>31;--he.b,he.Ca+=Be,he.Ca|=1,he.I-=(Ue+1&Be)<<ze,$[se]=((pe^Be)-Be)*O[(0<Y)+0]}return 16}function xi(v){var S=v.rb[v.sb-1];S.la=0,S.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function kc(v,S){if(v==null)return 0;if(S==null)return En(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!va(v,S))return 0;if(e(v.cb),S.ac==null||S.ac(S)){S.ob&&(v.L=0);var R=Ah[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=S.v-R>>4,v.zb=S.j-R>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=S.o+15+R>>4,v.Hb=S.va+15+R>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var O=v.ed;for(R=0;4>R;++R){var Y;if(v.Qa.Cb){var $=v.Qa.Lb[R];v.Qa.Fb||($+=O.Tb)}else $=O.Tb;for(Y=0;1>=Y;++Y){var K=v.gd[R][Y],te=$;if(O.Pc&&(te+=O.vd[0],Y&&(te+=O.od[0])),0<(te=0>te?0:63<te?63:te)){var se=te;0<O.wb&&(se=4<O.wb?se>>2:se>>1)>9-O.wb&&(se=9-O.wb),1>se&&(se=1),K.dd=se,K.tc=2*te+se,K.ld=40<=te?2:15<=te?1:0}else K.tc=0;K.La=Y}}}R=0}else En(v,6,"Frame setup failed"),R=v.a;if(R=R==0){if(R){v.$c=0,0<v.Aa||(v.Ic=vv);e:{R=v.Ic,O=4*(se=v.za);var he=32*se,pe=se+1,Ue=0<v.L?se*(0<v.Aa?2:1):0,ze=(v.Aa==2?2:1)*se;if((K=O+832+(Y=3*(16*R+Ah[v.L])/2*he)+($=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=K)R=0;else{if(K>v.Vb){if(v.Vb=0,v.Ec=s(K),v.Fc=0,v.Ec==null){R=En(v,1,"no memory during frame initialization.");break e}v.Vb=K}K=v.Ec,te=v.Fc,v.Ac=K,v.Bc=te,te+=O,v.Gd=o(he,Ti),v.Hd=0,v.rb=o(pe+1,ps),v.sb=1,v.wa=Ue?o(Ue,oi):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=se),e(!0),v.oc=K,v.pc=te,te+=832,v.ya=o(ze,Go),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=se),v.R=16*se,v.B=8*se,se=(he=Ah[v.L])*v.R,he=he/2*v.B,v.sa=K,v.ta=te+se,v.qa=v.sa,v.ra=v.ta+16*R*v.R+he,v.Ha=v.qa,v.Ia=v.ra+8*R*v.B+he,v.$c=0,te+=Y,v.mb=$?K:null,v.nb=$?te:null,e(te+$<=v.Fc+v.Vb),xi(v),i(v.Ac,v.Bc,0,O),R=1}}if(R){if(S.ka=0,S.y=v.sa,S.O=v.ta,S.f=v.qa,S.N=v.ra,S.ea=v.Ha,S.Vd=v.Ia,S.fa=v.R,S.Rc=v.B,S.F=null,S.J=0,!Rg){for(R=-255;255>=R;++R)yh[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)Cg[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)Tg[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)Lg[255+R]=0>R?0:255<R?255:R;Rg=1}Nn=Nc,ul=_g,Ea=Ud,ks=bg,ei=Lu,zu=Ps,Eo=Nu,lr=sl,Br=mh,yr=_a,$l=Wd,Ki=Vl,ao=qi,pr=io,gn=Iu,Ar=il,Hr=_i,Yo=zc,Co[0]=xa,Co[1]=Dc,Co[2]=Hd,Co[3]=Mg,Co[4]=Ur,Co[5]=Oc,Co[6]=Fc,Co[7]=Ru,Co[8]=Uc,Co[9]=Eg,cl[0]=zd,cl[1]=Ag,cl[2]=jo,cl[3]=Wl,cl[4]=wi,cl[5]=kn,cl[6]=dh,Ta[0]=Pi,Ta[1]=Sg,Ta[2]=So,Ta[3]=ph,Ta[4]=wa,Ta[5]=Wo,Ta[6]=Bu,R=1}else R=0}R&&(R=function(Be,lt){for(Be.M=0;Be.M<Be.Va;++Be.M){var Ye,Ce=Be.Jc[Be.M&Be.Xb],Le=Be.m,st=Be;for(Ye=0;Ye<st.za;++Ye){var ht=Le,at=st,kt=at.Ac,Ct=at.Bc+4*Ye,Xt=at.zc,Tt=at.ya[at.aa+Ye];if(at.Qa.Bb?Tt.$b=Ae(ht,at.Pa.jb[0])?2+Ae(ht,at.Pa.jb[2]):Ae(ht,at.Pa.jb[1]):Tt.$b=0,at.kc&&(Tt.Ad=Ae(ht,at.Bd)),Tt.Za=!Ae(ht,145)+0,Tt.Za){var Dn=Tt.Ob,Yn=0;for(at=0;4>at;++at){var Pn,bn=Xt[0+at];for(Pn=0;4>Pn;++Pn){bn=o_[kt[Ct+Pn]][bn];for(var ur=Kd[Ae(ht,bn[0])];0<ur;)ur=Kd[2*ur+Ae(ht,bn[ur])];bn=-ur,kt[Ct+Pn]=bn}r(Dn,Yn,kt,Ct,4),Yn+=4,Xt[0+at]=bn}}else bn=Ae(ht,156)?Ae(ht,128)?1:3:Ae(ht,163)?2:0,Tt.Ob[0]=bn,i(kt,Ct,bn,4),i(Xt,0,bn,4);Tt.Dd=Ae(ht,142)?Ae(ht,114)?Ae(ht,183)?1:3:2:0}if(st.m.Ka)return En(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(st=Ce,ht=(Le=Be).rb[Le.sb-1],kt=Le.rb[Le.sb+Le.ja],Ye=Le.ya[Le.aa+Le.ja],Ct=Le.kc?Ye.Ad:0)ht.la=kt.la=0,Ye.Za||(ht.Na=kt.Na=0),Ye.Hc=0,Ye.Gc=0,Ye.ia=0;else{var ir,hn;if(ht=kt,kt=st,Ct=Le.Pa.Xc,Xt=Le.ya[Le.aa+Le.ja],Tt=Le.pb[Xt.$b],at=Xt.ad,Dn=0,Yn=Le.rb[Le.sb-1],bn=Pn=0,i(at,Dn,0,384),Xt.Za)var Gr=0,xs=Ct[3];else{ur=s(16);var jr=ht.Na+Yn.Na;if(jr=bh(kt,Ct[1],jr,Tt.Eb,0,ur,0),ht.Na=Yn.Na=(0<jr)+0,1<jr)Nn(ur,0,at,Dn);else{var Ii=ur[0]+3>>3;for(ur=0;256>ur;ur+=16)at[Dn+ur]=Ii}Gr=1,xs=Ct[0]}var Un=15&ht.la,ns=15&Yn.la;for(ur=0;4>ur;++ur){var rs=1&ns;for(Ii=hn=0;4>Ii;++Ii)Un=Un>>1|(rs=(jr=bh(kt,xs,jr=rs+(1&Un),Tt.Sc,Gr,at,Dn))>Gr)<<7,hn=hn<<2|(3<jr?3:1<jr?2:at[Dn+0]!=0),Dn+=16;Un>>=4,ns=ns>>1|rs<<7,Pn=(Pn<<8|hn)>>>0}for(xs=Un,Gr=ns>>4,ir=0;4>ir;ir+=2){for(hn=0,Un=ht.la>>4+ir,ns=Yn.la>>4+ir,ur=0;2>ur;++ur){for(rs=1&ns,Ii=0;2>Ii;++Ii)jr=rs+(1&Un),Un=Un>>1|(rs=0<(jr=bh(kt,Ct[2],jr,Tt.Qc,0,at,Dn)))<<3,hn=hn<<2|(3<jr?3:1<jr?2:at[Dn+0]!=0),Dn+=16;Un>>=2,ns=ns>>1|rs<<5}bn|=hn<<4*ir,xs|=Un<<4<<ir,Gr|=(240&ns)<<ir}ht.la=xs,Yn.la=Gr,Xt.Hc=Pn,Xt.Gc=bn,Xt.ia=43690&bn?0:Tt.ia,Ct=!(Pn|bn)}if(0<Le.L&&(Le.wa[Le.Y+Le.ja]=Le.gd[Ye.$b][Ye.Za],Le.wa[Le.Y+Le.ja].La|=!Ct),st.Ka)return En(Be,7,"Premature end-of-file encountered.")}if(xi(Be),Le=lt,st=1,Ye=(Ce=Be).D,ht=0<Ce.L&&Ce.M>=Ce.zb&&Ce.M<=Ce.Va,Ce.Aa==0)e:{if(Ye.M=Ce.M,Ye.uc=ht,ll(Ce,Ye),st=1,Ye=(hn=Ce.D).Nb,ht=(bn=Ah[Ce.L])*Ce.R,kt=bn/2*Ce.B,ur=16*Ye*Ce.R,Ii=8*Ye*Ce.B,Ct=Ce.sa,Xt=Ce.ta-ht+ur,Tt=Ce.qa,at=Ce.ra-kt+Ii,Dn=Ce.Ha,Yn=Ce.Ia-kt+Ii,ns=(Un=hn.M)==0,Pn=Un>=Ce.Va-1,Ce.Aa==2&&ll(Ce,hn),hn.uc)for(rs=(jr=Ce).D.M,e(jr.D.uc),hn=jr.yb;hn<jr.Hb;++hn){Gr=hn,xs=rs;var Wr=(Vr=(dn=jr).D).Nb;ir=dn.R;var Vr=Vr.wa[Vr.Y+Gr],Ni=dn.sa,Is=dn.ta+16*Wr*ir+16*Gr,Lo=Vr.dd,li=Vr.tc;if(li!=0)if(e(3<=li),dn.L==1)0<Gr&&Ar(Ni,Is,ir,li+4),Vr.La&&Yo(Ni,Is,ir,li),0<xs&&gn(Ni,Is,ir,li+4),Vr.La&&Hr(Ni,Is,ir,li);else{var Jo=dn.B,Gu=dn.qa,fl=dn.ra+8*Wr*Jo+8*Gr,Ra=dn.Ha,dn=dn.Ia+8*Wr*Jo+8*Gr;Wr=Vr.ld,0<Gr&&(lr(Ni,Is,ir,li+4,Lo,Wr),yr(Gu,fl,Ra,dn,Jo,li+4,Lo,Wr)),Vr.La&&(Ki(Ni,Is,ir,li,Lo,Wr),pr(Gu,fl,Ra,dn,Jo,li,Lo,Wr)),0<xs&&(Eo(Ni,Is,ir,li+4,Lo,Wr),Br(Gu,fl,Ra,dn,Jo,li+4,Lo,Wr)),Vr.La&&($l(Ni,Is,ir,li,Lo,Wr),ao(Gu,fl,Ra,dn,Jo,li,Lo,Wr))}}if(Ce.ia&&alert("todo:DitherRow"),Le.put!=null){if(hn=16*Un,Un=16*(Un+1),ns?(Le.y=Ce.sa,Le.O=Ce.ta+ur,Le.f=Ce.qa,Le.N=Ce.ra+Ii,Le.ea=Ce.Ha,Le.W=Ce.Ia+Ii):(hn-=bn,Le.y=Ct,Le.O=Xt,Le.f=Tt,Le.N=at,Le.ea=Dn,Le.W=Yn),Pn||(Un-=bn),Un>Le.o&&(Un=Le.o),Le.F=null,Le.J=null,Ce.Fa!=null&&0<Ce.Fa.length&&hn<Un&&(Le.J=Gc(Ce,Le,hn,Un-hn),Le.F=Ce.mb,Le.F==null&&Le.F.length==0)){st=En(Ce,3,"Could not decode alpha data.");break e}hn<Le.j&&(bn=Le.j-hn,hn=Le.j,e(!(1&bn)),Le.O+=Ce.R*bn,Le.N+=Ce.B*(bn>>1),Le.W+=Ce.B*(bn>>1),Le.F!=null&&(Le.J+=Le.width*bn)),hn<Un&&(Le.O+=Le.v,Le.N+=Le.v>>1,Le.W+=Le.v>>1,Le.F!=null&&(Le.J+=Le.v),Le.ka=hn-Le.j,Le.U=Le.va-Le.v,Le.T=Un-hn,st=Le.put(Le))}Ye+1!=Ce.Ic||Pn||(r(Ce.sa,Ce.ta-ht,Ct,Xt+16*Ce.R,ht),r(Ce.qa,Ce.ra-kt,Tt,at+8*Ce.B,kt),r(Ce.Ha,Ce.Ia-kt,Dn,Yn+8*Ce.B,kt))}if(!st)return En(Be,6,"Output aborted.")}return 1}(v,S)),S.bc!=null&&S.bc(S),R&=1}return R?(v.cb=0,R):0}function bo(v,S,R,O,Y){Y=v[S+R+32*O]+(Y>>3),v[S+R+32*O]=-256&Y?0>Y?0:255:Y}function Tu(v,S,R,O,Y,$){bo(v,S,0,R,O+Y),bo(v,S,1,R,O+$),bo(v,S,2,R,O-$),bo(v,S,3,R,O-Y)}function Ri(v){return(20091*v>>16)+v}function Ic(v,S,R,O){var Y,$=0,K=s(16);for(Y=0;4>Y;++Y){var te=v[S+0]+v[S+8],se=v[S+0]-v[S+8],he=(35468*v[S+4]>>16)-Ri(v[S+12]),pe=Ri(v[S+4])+(35468*v[S+12]>>16);K[$+0]=te+pe,K[$+1]=se+he,K[$+2]=se-he,K[$+3]=te-pe,$+=4,S++}for(Y=$=0;4>Y;++Y)te=(v=K[$+0]+4)+K[$+8],se=v-K[$+8],he=(35468*K[$+4]>>16)-Ri(K[$+12]),bo(R,O,0,0,te+(pe=Ri(K[$+4])+(35468*K[$+12]>>16))),bo(R,O,1,0,se+he),bo(R,O,2,0,se-he),bo(R,O,3,0,te-pe),$++,O+=32}function Ps(v,S,R,O){var Y=v[S+0]+4,$=35468*v[S+4]>>16,K=Ri(v[S+4]),te=35468*v[S+1]>>16;Tu(R,O,0,Y+K,v=Ri(v[S+1]),te),Tu(R,O,1,Y+$,v,te),Tu(R,O,2,Y-$,v,te),Tu(R,O,3,Y-K,v,te)}function _g(v,S,R,O,Y){Ic(v,S,R,O),Y&&Ic(v,S+16,R,O+4)}function Ud(v,S,R,O){ul(v,S+0,R,O,1),ul(v,S+32,R,O+128,1)}function bg(v,S,R,O){var Y;for(v=v[S+0]+4,Y=0;4>Y;++Y)for(S=0;4>S;++S)bo(R,O,S,Y,v)}function Lu(v,S,R,O){v[S+0]&&ks(v,S+0,R,O),v[S+16]&&ks(v,S+16,R,O+4),v[S+32]&&ks(v,S+32,R,O+128),v[S+48]&&ks(v,S+48,R,O+128+4)}function Nc(v,S,R,O){var Y,$=s(16);for(Y=0;4>Y;++Y){var K=v[S+0+Y]+v[S+12+Y],te=v[S+4+Y]+v[S+8+Y],se=v[S+4+Y]-v[S+8+Y],he=v[S+0+Y]-v[S+12+Y];$[0+Y]=K+te,$[8+Y]=K-te,$[4+Y]=he+se,$[12+Y]=he-se}for(Y=0;4>Y;++Y)K=(v=$[0+4*Y]+3)+$[3+4*Y],te=$[1+4*Y]+$[2+4*Y],se=$[1+4*Y]-$[2+4*Y],he=v-$[3+4*Y],R[O+0]=K+te>>3,R[O+16]=he+se>>3,R[O+32]=K-te>>3,R[O+48]=he-se>>3,O+=64}function rl(v,S,R){var O,Y=S-32,$=ys,K=255-v[Y-1];for(O=0;O<R;++O){var te,se=$,he=K+v[S-1];for(te=0;te<R;++te)v[S+te]=se[he+v[Y+te]];S+=32}}function Dc(v,S){rl(v,S,4)}function Sg(v,S){rl(v,S,8)}function Ag(v,S){rl(v,S,16)}function jo(v,S){var R;for(R=0;16>R;++R)r(v,S+32*R,v,S-32,16)}function Wl(v,S){var R;for(R=16;0<R;--R)i(v,S,v[S-1],16),S+=32}function ya(v,S,R){var O;for(O=0;16>O;++O)i(S,R+32*O,v,16)}function zd(v,S){var R,O=16;for(R=0;16>R;++R)O+=v[S-1+32*R]+v[S+R-32];ya(O>>5,v,S)}function wi(v,S){var R,O=8;for(R=0;16>R;++R)O+=v[S-1+32*R];ya(O>>4,v,S)}function kn(v,S){var R,O=8;for(R=0;16>R;++R)O+=v[S+R-32];ya(O>>4,v,S)}function dh(v,S){ya(128,v,S)}function sn(v,S,R){return v+2*S+R+2>>2}function Hd(v,S){var R,O=S-32;for(O=new Uint8Array([sn(v[O-1],v[O+0],v[O+1]),sn(v[O+0],v[O+1],v[O+2]),sn(v[O+1],v[O+2],v[O+3]),sn(v[O+2],v[O+3],v[O+4])]),R=0;4>R;++R)r(v,S+32*R,O,0,O.length)}function Mg(v,S){var R=v[S-1],O=v[S-1+32],Y=v[S-1+64],$=v[S-1+96];Te(v,S+0,16843009*sn(v[S-1-32],R,O)),Te(v,S+32,16843009*sn(R,O,Y)),Te(v,S+64,16843009*sn(O,Y,$)),Te(v,S+96,16843009*sn(Y,$,$))}function xa(v,S){var R,O=4;for(R=0;4>R;++R)O+=v[S+R-32]+v[S-1+32*R];for(O>>=3,R=0;4>R;++R)i(v,S+32*R,O,4)}function Ur(v,S){var R=v[S-1+0],O=v[S-1+32],Y=v[S-1+64],$=v[S-1-32],K=v[S+0-32],te=v[S+1-32],se=v[S+2-32],he=v[S+3-32];v[S+0+96]=sn(O,Y,v[S-1+96]),v[S+1+96]=v[S+0+64]=sn(R,O,Y),v[S+2+96]=v[S+1+64]=v[S+0+32]=sn($,R,O),v[S+3+96]=v[S+2+64]=v[S+1+32]=v[S+0+0]=sn(K,$,R),v[S+3+64]=v[S+2+32]=v[S+1+0]=sn(te,K,$),v[S+3+32]=v[S+2+0]=sn(se,te,K),v[S+3+0]=sn(he,se,te)}function Fc(v,S){var R=v[S+1-32],O=v[S+2-32],Y=v[S+3-32],$=v[S+4-32],K=v[S+5-32],te=v[S+6-32],se=v[S+7-32];v[S+0+0]=sn(v[S+0-32],R,O),v[S+1+0]=v[S+0+32]=sn(R,O,Y),v[S+2+0]=v[S+1+32]=v[S+0+64]=sn(O,Y,$),v[S+3+0]=v[S+2+32]=v[S+1+64]=v[S+0+96]=sn(Y,$,K),v[S+3+32]=v[S+2+64]=v[S+1+96]=sn($,K,te),v[S+3+64]=v[S+2+96]=sn(K,te,se),v[S+3+96]=sn(te,se,se)}function Oc(v,S){var R=v[S-1+0],O=v[S-1+32],Y=v[S-1+64],$=v[S-1-32],K=v[S+0-32],te=v[S+1-32],se=v[S+2-32],he=v[S+3-32];v[S+0+0]=v[S+1+64]=$+K+1>>1,v[S+1+0]=v[S+2+64]=K+te+1>>1,v[S+2+0]=v[S+3+64]=te+se+1>>1,v[S+3+0]=se+he+1>>1,v[S+0+96]=sn(Y,O,R),v[S+0+64]=sn(O,R,$),v[S+0+32]=v[S+1+96]=sn(R,$,K),v[S+1+32]=v[S+2+96]=sn($,K,te),v[S+2+32]=v[S+3+96]=sn(K,te,se),v[S+3+32]=sn(te,se,he)}function Ru(v,S){var R=v[S+0-32],O=v[S+1-32],Y=v[S+2-32],$=v[S+3-32],K=v[S+4-32],te=v[S+5-32],se=v[S+6-32],he=v[S+7-32];v[S+0+0]=R+O+1>>1,v[S+1+0]=v[S+0+64]=O+Y+1>>1,v[S+2+0]=v[S+1+64]=Y+$+1>>1,v[S+3+0]=v[S+2+64]=$+K+1>>1,v[S+0+32]=sn(R,O,Y),v[S+1+32]=v[S+0+96]=sn(O,Y,$),v[S+2+32]=v[S+1+96]=sn(Y,$,K),v[S+3+32]=v[S+2+96]=sn($,K,te),v[S+3+64]=sn(K,te,se),v[S+3+96]=sn(te,se,he)}function Eg(v,S){var R=v[S-1+0],O=v[S-1+32],Y=v[S-1+64],$=v[S-1+96];v[S+0+0]=R+O+1>>1,v[S+2+0]=v[S+0+32]=O+Y+1>>1,v[S+2+32]=v[S+0+64]=Y+$+1>>1,v[S+1+0]=sn(R,O,Y),v[S+3+0]=v[S+1+32]=sn(O,Y,$),v[S+3+32]=v[S+1+64]=sn(Y,$,$),v[S+3+64]=v[S+2+64]=v[S+0+96]=v[S+1+96]=v[S+2+96]=v[S+3+96]=$}function Uc(v,S){var R=v[S-1+0],O=v[S-1+32],Y=v[S-1+64],$=v[S-1+96],K=v[S-1-32],te=v[S+0-32],se=v[S+1-32],he=v[S+2-32];v[S+0+0]=v[S+2+32]=R+K+1>>1,v[S+0+32]=v[S+2+64]=O+R+1>>1,v[S+0+64]=v[S+2+96]=Y+O+1>>1,v[S+0+96]=$+Y+1>>1,v[S+3+0]=sn(te,se,he),v[S+2+0]=sn(K,te,se),v[S+1+0]=v[S+3+32]=sn(R,K,te),v[S+1+32]=v[S+3+64]=sn(O,R,K),v[S+1+64]=v[S+3+96]=sn(Y,O,R),v[S+1+96]=sn($,Y,O)}function So(v,S){var R;for(R=0;8>R;++R)r(v,S+32*R,v,S-32,8)}function ph(v,S){var R;for(R=0;8>R;++R)i(v,S,v[S-1],8),S+=32}function Pu(v,S,R){var O;for(O=0;8>O;++O)i(S,R+32*O,v,8)}function Pi(v,S){var R,O=8;for(R=0;8>R;++R)O+=v[S+R-32]+v[S-1+32*R];Pu(O>>4,v,S)}function Wo(v,S){var R,O=4;for(R=0;8>R;++R)O+=v[S+R-32];Pu(O>>3,v,S)}function wa(v,S){var R,O=4;for(R=0;8>R;++R)O+=v[S-1+32*R];Pu(O>>3,v,S)}function Bu(v,S){Pu(128,v,S)}function ku(v,S,R){var O=v[S-R],Y=v[S+0],$=3*(Y-O)+Vd[1020+v[S-2*R]-v[S+R]],K=xh[112+($+4>>3)];v[S-R]=ys[255+O+xh[112+($+3>>3)]],v[S+0]=ys[255+Y-K]}function Gd(v,S,R,O){var Y=v[S+0],$=v[S+R];return Zi[255+v[S-2*R]-v[S-R]]>O||Zi[255+$-Y]>O}function ro(v,S,R,O){return 4*Zi[255+v[S-R]-v[S+0]]+Zi[255+v[S-2*R]-v[S+R]]<=O}function jd(v,S,R,O,Y){var $=v[S-3*R],K=v[S-2*R],te=v[S-R],se=v[S+0],he=v[S+R],pe=v[S+2*R],Ue=v[S+3*R];return 4*Zi[255+te-se]+Zi[255+K-he]>O?0:Zi[255+v[S-4*R]-$]<=Y&&Zi[255+$-K]<=Y&&Zi[255+K-te]<=Y&&Zi[255+Ue-pe]<=Y&&Zi[255+pe-he]<=Y&&Zi[255+he-se]<=Y}function Iu(v,S,R,O){var Y=2*O+1;for(O=0;16>O;++O)ro(v,S+O,R,Y)&&ku(v,S+O,R)}function il(v,S,R,O){var Y=2*O+1;for(O=0;16>O;++O)ro(v,S+O*R,1,Y)&&ku(v,S+O*R,1)}function _i(v,S,R,O){var Y;for(Y=3;0<Y;--Y)Iu(v,S+=4*R,R,O)}function zc(v,S,R,O){var Y;for(Y=3;0<Y;--Y)il(v,S+=4,R,O)}function Vo(v,S,R,O,Y,$,K,te){for($=2*$+1;0<Y--;){if(jd(v,S,R,$,K))if(Gd(v,S,R,te))ku(v,S,R);else{var se=v,he=S,pe=R,Ue=se[he-2*pe],ze=se[he-pe],Be=se[he+0],lt=se[he+pe],Ye=se[he+2*pe],Ce=27*(st=Vd[1020+3*(Be-ze)+Vd[1020+Ue-lt]])+63>>7,Le=18*st+63>>7,st=9*st+63>>7;se[he-3*pe]=ys[255+se[he-3*pe]+st],se[he-2*pe]=ys[255+Ue+Le],se[he-pe]=ys[255+ze+Ce],se[he+0]=ys[255+Be-Ce],se[he+pe]=ys[255+lt-Le],se[he+2*pe]=ys[255+Ye-st]}S+=O}}function Vi(v,S,R,O,Y,$,K,te){for($=2*$+1;0<Y--;){if(jd(v,S,R,$,K))if(Gd(v,S,R,te))ku(v,S,R);else{var se=v,he=S,pe=R,Ue=se[he-pe],ze=se[he+0],Be=se[he+pe],lt=xh[112+((Ye=3*(ze-Ue))+4>>3)],Ye=xh[112+(Ye+3>>3)],Ce=lt+1>>1;se[he-2*pe]=ys[255+se[he-2*pe]+Ce],se[he-pe]=ys[255+Ue+Ye],se[he+0]=ys[255+ze-lt],se[he+pe]=ys[255+Be-Ce]}S+=O}}function Nu(v,S,R,O,Y,$){Vo(v,S,R,1,16,O,Y,$)}function sl(v,S,R,O,Y,$){Vo(v,S,1,R,16,O,Y,$)}function Wd(v,S,R,O,Y,$){var K;for(K=3;0<K;--K)Vi(v,S+=4*R,R,1,16,O,Y,$)}function Vl(v,S,R,O,Y,$){var K;for(K=3;0<K;--K)Vi(v,S+=4,1,R,16,O,Y,$)}function mh(v,S,R,O,Y,$,K,te){Vo(v,S,Y,1,8,$,K,te),Vo(R,O,Y,1,8,$,K,te)}function _a(v,S,R,O,Y,$,K,te){Vo(v,S,1,Y,8,$,K,te),Vo(R,O,1,Y,8,$,K,te)}function qi(v,S,R,O,Y,$,K,te){Vi(v,S+4*Y,Y,1,8,$,K,te),Vi(R,O+4*Y,Y,1,8,$,K,te)}function io(v,S,R,O,Y,$,K,te){Vi(v,S+4,1,Y,8,$,K,te),Vi(R,O+4,1,Y,8,$,K,te)}function so(){this.ba=new At,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ft,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Du(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Hc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ao(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new P}function ba(){this.xb=this.a=0,this.l=new fn,this.ca=new At,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ao,this.ab=0,this.gc=o(4,Hc),this.Oc=0}function ol(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ql(v,S,R,O,Y,$,K){for(v=v==null?0:v[S+0],S=0;S<K;++S)Y[$+S]=v+R[O+S]&255,v=Y[$+S]}function Yl(v,S,R,O,Y,$,K){var te;if(v==null)ql(null,null,R,O,Y,$,K);else for(te=0;te<K;++te)Y[$+te]=v[S+te]+R[O+te]&255}function al(v,S,R,O,Y,$,K){if(v==null)ql(null,null,R,O,Y,$,K);else{var te,se=v[S+0],he=se,pe=se;for(te=0;te<K;++te)he=pe+(se=v[S+te])-he,pe=R[O+te]+(-256&he?0>he?0:255:he)&255,he=se,Y[$+te]=pe}}function Gc(v,S,R,O){var Y=S.width,$=S.o;if(e(v!=null&&S!=null),0>R||0>=O||R+O>$)return null;if(!v.Cc){if(v.ga==null){var K;if(v.ga=new ol,(K=v.ga==null)||(K=S.width*S.o,e(v.Gb.length==0),v.Gb=s(K),v.Uc=0,v.Gb==null?K=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,K=1),K=!K),!K){K=v.ga;var te=v.Fa,se=v.P,he=v.qc,pe=v.mb,Ue=v.nb,ze=se+1,Be=he-1,lt=K.l;if(e(te!=null&&pe!=null&&S!=null),To[0]=null,To[1]=ql,To[2]=Yl,To[3]=al,K.ca=pe,K.tb=Ue,K.c=S.width,K.i=S.height,e(0<K.c&&0<K.i),1>=he)S=0;else if(K.$a=te[se+0]>>0&3,K.Z=te[se+0]>>2&3,K.Lc=te[se+0]>>4&3,se=te[se+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||se)S=0;else if(lt.put=ds,lt.ac=On,lt.bc=Ls,lt.ma=K,lt.width=S.width,lt.height=S.height,lt.Da=S.Da,lt.v=S.v,lt.va=S.va,lt.j=S.j,lt.o=S.o,K.$a)e:{e(K.$a==1),S=an();t:for(;;){if(S==null){S=0;break e}if(e(K!=null),K.mc=S,S.c=K.c,S.i=K.i,S.l=K.l,S.l.ma=K,S.l.width=K.c,S.l.height=K.i,S.a=0,F(S.m,te,ze,Be),!cn(K.c,K.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&qt(S.s)?(K.ic=1,te=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(te),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(K.ic=0,S=Vn(S,K.c)),!S))break t;S=1;break e}K.mc=null,S=0}else S=Be>=K.c*K.i;K=!S}if(K)return null;v.ga.Lc!=1?v.Ga=0:O=$-R}e(v.ga!=null),e(R+O<=$);e:{if(S=(te=v.ga).c,$=te.l.o,te.$a==0){if(ze=v.rc,Be=v.Vc,lt=v.Fa,se=v.P+1+R*S,he=v.mb,pe=v.nb+R*S,e(se<=v.P+v.qc),te.Z!=0)for(e(To[te.Z]!=null),K=0;K<O;++K)To[te.Z](ze,Be,lt,se,he,pe,S),ze=he,Be=pe,pe+=S,se+=S;else for(K=0;K<O;++K)r(he,pe,lt,se,S),ze=he,Be=pe,pe+=S,se+=S;v.rc=ze,v.Vc=Be}else{if(e(te.mc!=null),S=R+O,e((K=te.mc)!=null),e(S<=K.i),K.C>=S)S=1;else if(te.ic||Fe(),te.ic){te=K.V,ze=K.Ba,Be=K.c;var Ye=K.i,Ce=(lt=1,se=K.$/Be,he=K.$%Be,pe=K.m,Ue=K.s,K.$),Le=Be*Ye,st=Be*S,ht=Ue.wc,at=Ce<st?qe(Ue,he,se):null;e(Ce<=Le),e(S<=Ye),e(qt(Ue));t:for(;;){for(;!pe.h&&Ce<st;){if(he&ht||(at=qe(Ue,he,se)),e(at!=null),j(pe),256>(Ye=de(at.G[0],at.H[0],pe)))te[ze+Ce]=Ye,++Ce,++he>=Be&&(he=0,++se<=S&&!(se%16)&&en(K,se));else{if(!(280>Ye)){lt=0;break t}Ye=eo(Ye-256,pe);var kt,Ct=de(at.G[4],at.H[4],pe);if(j(pe),!(Ce>=(Ct=wo(Be,Ct=eo(Ct,pe)))&&Le-Ce>=Ye)){lt=0;break t}for(kt=0;kt<Ye;++kt)te[ze+Ce+kt]=te[ze+Ce+kt-Ct];for(Ce+=Ye,he+=Ye;he>=Be;)he-=Be,++se<=S&&!(se%16)&&en(K,se);Ce<st&&he&ht&&(at=qe(Ue,he,se))}e(pe.h==Q(pe))}en(K,se>S?S:se);break t}!lt||pe.h&&Ce<Le?(lt=0,K.a=pe.h?5:3):K.$=Ce,S=lt}else S=Qt(K,K.V,K.Ba,K.c,K.i,S,Rs);if(!S){O=0;break e}}R+O>=$&&(v.Cc=1),O=1}if(!O)return null;if(v.Cc&&((O=v.ga)!=null&&(O.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+R*Y}function E(v,S,R,O,Y,$){for(;0<Y--;){var K,te=v,se=S+(R?1:0),he=v,pe=S+(R?0:3);for(K=0;K<O;++K){var Ue=he[pe+4*K];Ue!=255&&(Ue*=32897,te[se+4*K+0]=te[se+4*K+0]*Ue>>23,te[se+4*K+1]=te[se+4*K+1]*Ue>>23,te[se+4*K+2]=te[se+4*K+2]*Ue>>23)}S+=$}}function J(v,S,R,O,Y){for(;0<O--;){var $;for($=0;$<R;++$){var K=v[S+2*$+0],te=15&(he=v[S+2*$+1]),se=4369*te,he=(240&he|he>>4)*se>>16;v[S+2*$+0]=(240&K|K>>4)*se>>16&240|(15&K|K<<4)*se>>16>>4&15,v[S+2*$+1]=240&he|te}S+=Y}}function ge(v,S,R,O,Y,$,K,te){var se,he,pe=255;for(he=0;he<Y;++he){for(se=0;se<O;++se){var Ue=v[S+se];$[K+4*se]=Ue,pe&=Ue}S+=R,K+=te}return pe!=255}function Ee(v,S,R,O,Y){var $;for($=0;$<Y;++$)R[O+$]=v[S+$]>>8}function Fe(){Qi=E,vs=J,Ca=ge,vh=Ee}function Ze(v,S,R){B[v]=function(O,Y,$,K,te,se,he,pe,Ue,ze,Be,lt,Ye,Ce,Le,st,ht){var at,kt=ht-1>>1,Ct=te[se+0]|he[pe+0]<<16,Xt=Ue[ze+0]|Be[lt+0]<<16;e(O!=null);var Tt=3*Ct+Xt+131074>>2;for(S(O[Y+0],255&Tt,Tt>>16,Ye,Ce),$!=null&&(Tt=3*Xt+Ct+131074>>2,S($[K+0],255&Tt,Tt>>16,Le,st)),at=1;at<=kt;++at){var Dn=te[se+at]|he[pe+at]<<16,Yn=Ue[ze+at]|Be[lt+at]<<16,Pn=Ct+Dn+Xt+Yn+524296,bn=Pn+2*(Dn+Xt)>>3;Tt=bn+Ct>>1,Ct=(Pn=Pn+2*(Ct+Yn)>>3)+Dn>>1,S(O[Y+2*at-1],255&Tt,Tt>>16,Ye,Ce+(2*at-1)*R),S(O[Y+2*at-0],255&Ct,Ct>>16,Ye,Ce+(2*at-0)*R),$!=null&&(Tt=Pn+Xt>>1,Ct=bn+Yn>>1,S($[K+2*at-1],255&Tt,Tt>>16,Le,st+(2*at-1)*R),S($[K+2*at+0],255&Ct,Ct>>16,Le,st+(2*at+0)*R)),Ct=Dn,Xt=Yn}1&ht||(Tt=3*Ct+Xt+131074>>2,S(O[Y+ht-1],255&Tt,Tt>>16,Ye,Ce+(ht-1)*R),$!=null&&(Tt=3*Xt+Ct+131074>>2,S($[K+ht-1],255&Tt,Tt>>16,Le,st+(ht-1)*R)))}}function dt(){es[wh]=Qd,es[Hu]=Ng,es[_h]=Zd,es[Jc]=Kc,es[Kl]=ki,es[qd]=hv,es[Pg]=a_,es[Yd]=Ng,es[Jd]=Kc,es[Xc]=ki,es[Xd]=hv}function Rt(v){return v&~dv?0>v?0:255:v>>Dg}function Wt(v,S){return Rt((19077*v>>8)+(26149*S>>8)-14234)}function ln(v,S,R){return Rt((19077*v>>8)-(6419*S>>8)-(13320*R>>8)+8708)}function Zt(v,S){return Rt((19077*v>>8)+(33050*S>>8)-17685)}function un(v,S,R,O,Y){O[Y+0]=Wt(v,R),O[Y+1]=ln(v,S,R),O[Y+2]=Zt(v,S)}function Zn(v,S,R,O,Y){O[Y+0]=Zt(v,S),O[Y+1]=ln(v,S,R),O[Y+2]=Wt(v,R)}function qn(v,S,R,O,Y){var $=ln(v,S,R);S=$<<3&224|Zt(v,S)>>3,O[Y+0]=248&Wt(v,R)|$>>5,O[Y+1]=S}function nr(v,S,R,O,Y){var $=240&Zt(v,S)|15;O[Y+0]=240&Wt(v,R)|ln(v,S,R)>>4,O[Y+1]=$}function Pr(v,S,R,O,Y){O[Y+0]=255,un(v,S,R,O,Y+1)}function ai(v,S,R,O,Y){Zn(v,S,R,O,Y),O[Y+3]=255}function oo(v,S,R,O,Y){un(v,S,R,O,Y),O[Y+3]=255}function ms(v,S){return 0>v?0:v>S?S:v}function zr(v,S,R){B[v]=function(O,Y,$,K,te,se,he,pe,Ue){for(var ze=pe+(-2&Ue)*R;pe!=ze;)S(O[Y+0],$[K+0],te[se+0],he,pe),S(O[Y+1],$[K+0],te[se+0],he,pe+R),Y+=2,++K,++se,pe+=2*R;1&Ue&&S(O[Y+0],$[K+0],te[se+0],he,pe)}}function Yi(v,S,R){return R==0?v==0?S==0?6:5:S==0?4:0:R}function rr(v,S,R,O,Y){switch(v>>>30){case 3:ul(S,R,O,Y,0);break;case 2:zu(S,R,O,Y);break;case 1:ks(S,R,O,Y)}}function ll(v,S){var R,O,Y=S.M,$=S.Nb,K=v.oc,te=v.pc+40,se=v.oc,he=v.pc+584,pe=v.oc,Ue=v.pc+600;for(R=0;16>R;++R)K[te+32*R-1]=129;for(R=0;8>R;++R)se[he+32*R-1]=129,pe[Ue+32*R-1]=129;for(0<Y?K[te-1-32]=se[he-1-32]=pe[Ue-1-32]=129:(i(K,te-32-1,127,21),i(se,he-32-1,127,9),i(pe,Ue-32-1,127,9)),O=0;O<v.za;++O){var ze=S.ya[S.aa+O];if(0<O){for(R=-1;16>R;++R)r(K,te+32*R-4,K,te+32*R+12,4);for(R=-1;8>R;++R)r(se,he+32*R-4,se,he+32*R+4,4),r(pe,Ue+32*R-4,pe,Ue+32*R+4,4)}var Be=v.Gd,lt=v.Hd+O,Ye=ze.ad,Ce=ze.Hc;if(0<Y&&(r(K,te-32,Be[lt].y,0,16),r(se,he-32,Be[lt].f,0,8),r(pe,Ue-32,Be[lt].ea,0,8)),ze.Za){var Le=K,st=te-32+16;for(0<Y&&(O>=v.za-1?i(Le,st,Be[lt].y[15],4):r(Le,st,Be[lt+1].y,0,4)),R=0;4>R;R++)Le[st+128+R]=Le[st+256+R]=Le[st+384+R]=Le[st+0+R];for(R=0;16>R;++R,Ce<<=2)Le=K,st=te+Sh[R],Co[ze.Ob[R]](Le,st),rr(Ce,Ye,16*+R,Le,st)}else if(Le=Yi(O,Y,ze.Ob[0]),cl[Le](K,te),Ce!=0)for(R=0;16>R;++R,Ce<<=2)rr(Ce,Ye,16*+R,K,te+Sh[R]);for(R=ze.Gc,Le=Yi(O,Y,ze.Dd),Ta[Le](se,he),Ta[Le](pe,Ue),Ce=Ye,Le=se,st=he,255&(ze=R>>0)&&(170&ze?Ea(Ce,256,Le,st):ei(Ce,256,Le,st)),ze=pe,Ce=Ue,255&(R>>=8)&&(170&R?Ea(Ye,320,ze,Ce):ei(Ye,320,ze,Ce)),Y<v.Ub-1&&(r(Be[lt].y,0,K,te+480,16),r(Be[lt].f,0,se,he+224,8),r(Be[lt].ea,0,pe,Ue+224,8)),R=8*$*v.B,Be=v.sa,lt=v.ta+16*O+16*$*v.R,Ye=v.qa,ze=v.ra+8*O+R,Ce=v.Ha,Le=v.Ia+8*O+R,R=0;16>R;++R)r(Be,lt+R*v.R,K,te+32*R,16);for(R=0;8>R;++R)r(Ye,ze+R*v.B,se,he+32*R,8),r(Ce,Le+R*v.B,pe,Ue+32*R,8)}}function Ji(v,S,R,O,Y,$,K,te,se){var he=[0],pe=[0],Ue=0,ze=se!=null?se.kd:0,Be=se!=null?se:new Du;if(v==null||12>R)return 7;Be.data=v,Be.w=S,Be.ha=R,S=[S],R=[R],Be.gb=[Be.gb];e:{var lt=S,Ye=R,Ce=Be.gb;if(e(v!=null),e(Ye!=null),e(Ce!=null),Ce[0]=0,12<=Ye[0]&&!t(v,lt[0],"RIFF")){if(t(v,lt[0]+8,"WEBP")){Ce=3;break e}var Le=Me(v,lt[0]+4);if(12>Le||4294967286<Le){Ce=3;break e}if(ze&&Le>Ye[0]-8){Ce=7;break e}Ce[0]=Le,lt[0]+=12,Ye[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Le=0<Be.gb[0],R=R[0];;){e:{var st=v;Ye=S,Ce=R;var ht=he,at=pe,kt=lt=[0];if((Tt=Ue=[Ue])[0]=0,8>Ce[0])Ce=7;else{if(!t(st,Ye[0],"VP8X")){if(Me(st,Ye[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var Ct=Me(st,Ye[0]+8),Xt=1+xe(st,Ye[0]+12);if(2147483648<=Xt*(st=1+xe(st,Ye[0]+15))){Ce=3;break e}kt!=null&&(kt[0]=Ct),ht!=null&&(ht[0]=Xt),at!=null&&(at[0]=st),Ye[0]+=18,Ce[0]-=18,Tt[0]=1}Ce=0}}if(Ue=Ue[0],lt=lt[0],Ce!=0)return Ce;if(Ye=!!(2&lt),!Le&&Ue)return 3;if($!=null&&($[0]=!!(16&lt)),K!=null&&(K[0]=Ye),te!=null&&(te[0]=0),K=he[0],lt=pe[0],Ue&&Ye&&se==null){Ce=0;break}if(4>R){Ce=7;break}if(Le&&Ue||!Le&&!Ue&&!t(v,S[0],"ALPH")){R=[R],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{Ct=v,Ce=S,Le=R;var Tt=Be.gb;ht=Be.na,at=Be.P,kt=Be.Sa,Xt=22,e(Ct!=null),e(Le!=null),st=Ce[0];var Dn=Le[0];for(e(ht!=null),e(kt!=null),ht[0]=null,at[0]=null,kt[0]=0;;){if(Ce[0]=st,Le[0]=Dn,8>Dn){Ce=7;break e}var Yn=Me(Ct,st+4);if(4294967286<Yn){Ce=3;break e}var Pn=8+Yn+1&-2;if(Xt+=Pn,0<Tt&&Xt>Tt){Ce=3;break e}if(!t(Ct,st,"VP8 ")||!t(Ct,st,"VP8L")){Ce=0;break e}if(Dn[0]<Pn){Ce=7;break e}t(Ct,st,"ALPH")||(ht[0]=Ct,at[0]=st+8,kt[0]=Yn),st+=Pn,Dn-=Pn}}if(R=R[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Ce!=0)break}R=[R],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(Tt=v,Ce=S,Le=R,ht=Be.gb[0],at=Be.Ja,kt=Be.xa,Ct=Ce[0],st=!t(Tt,Ct,"VP8 "),Xt=!t(Tt,Ct,"VP8L"),e(Tt!=null),e(Le!=null),e(at!=null),e(kt!=null),8>Le[0])Ce=7;else{if(st||Xt){if(Tt=Me(Tt,Ct+4),12<=ht&&Tt>ht-12){Ce=3;break e}if(ze&&Tt>Le[0]-8){Ce=7;break e}at[0]=Tt,Ce[0]+=8,Le[0]-=8,kt[0]=Xt}else kt[0]=5<=Le[0]&&Tt[Ct+0]==47&&!(Tt[Ct+4]>>5),at[0]=Le[0];Ce=0}if(R=R[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],S=S[0],Ce!=0)break;if(4294967286<Be.Ja)return 3;if(te==null||Ye||(te[0]=Be.xa?2:1),K=[K],lt=[lt],Be.xa){if(5>R){Ce=7;break}te=K,ze=lt,Ye=$,v==null||5>R?v=0:5<=R&&v[S+0]==47&&!(v[S+4]>>5)?(Le=[0],Tt=[0],ht=[0],F(at=new N,v,S,R),Kt(at,Le,Tt,ht)?(te!=null&&(te[0]=Le[0]),ze!=null&&(ze[0]=Tt[0]),Ye!=null&&(Ye[0]=ht[0]),v=1):v=0):v=0}else{if(10>R){Ce=7;break}te=lt,v==null||10>R||!Li(v,S+3,R-3)?v=0:(ze=v[S+0]|v[S+1]<<8|v[S+2]<<16,Ye=16383&(v[S+7]<<8|v[S+6]),v=16383&(v[S+9]<<8|v[S+8]),1&ze||3<(ze>>1&7)||!(ze>>4&1)||ze>>5>=Be.Ja||!Ye||!v?v=0:(K&&(K[0]=Ye),te&&(te[0]=v),v=1))}if(!v||(K=K[0],lt=lt[0],Ue&&(he[0]!=K||pe[0]!=lt)))return 3;se!=null&&(se[0]=Be,se.offset=S-se.w,e(4294967286>S-se.w),e(se.offset==se.ha-R));break}return Ce==0||Ce==7&&Ue&&se==null?($!=null&&($[0]|=Be.na!=null&&0<Be.na.length),O!=null&&(O[0]=K),Y!=null&&(Y[0]=lt),0):Ce}function jc(v,S,R){var O=S.width,Y=S.height,$=0,K=0,te=O,se=Y;if(S.Da=v!=null&&0<v.Da,S.Da&&(te=v.cd,se=v.bd,$=v.v,K=v.j,11>R||($&=-2,K&=-2),0>$||0>K||0>=te||0>=se||$+te>O||K+se>Y))return 0;if(S.v=$,S.j=K,S.va=$+te,S.o=K+se,S.U=te,S.T=se,S.da=v!=null&&0<v.da,S.da){if(!$e(te,se,R=[v.ib],$=[v.hb]))return 0;S.ib=R[0],S.hb=$[0]}return S.ob=v!=null&&v.ob,S.Kb=v==null||!v.Sd,S.da&&(S.ob=S.ib<3*O/4&&S.hb<3*Y/4,S.Kb=0),1}function Wc(v){if(v==null)return 2;if(11>v.S){var S=v.f.RGBA;S.fb+=(v.height-1)*S.A,S.A=-S.A}else S=v.f.kb,v=v.height,S.O+=(v-1)*S.fa,S.fa=-S.fa,S.N+=(v-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(v-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(v-1)*S.lb,S.lb=-S.lb);return 0}function Jl(v,S,R,O){if(O==null||0>=v||0>=S)return 2;if(R!=null){if(R.Da){var Y=R.cd,$=R.bd,K=-2&R.v,te=-2&R.j;if(0>K||0>te||0>=Y||0>=$||K+Y>v||te+$>S)return 2;v=Y,S=$}if(R.da){if(!$e(v,S,Y=[R.ib],$=[R.hb]))return 2;v=Y[0],S=$[0]}}O.width=v,O.height=S;e:{var se=O.width,he=O.height;if(v=O.S,0>=se||0>=he||!(v>=wh&&13>v))v=2;else{if(0>=O.Rd&&O.sd==null){K=$=Y=S=0;var pe=(te=se*Hg[v])*he;if(11>v||($=(he+1)/2*(S=(se+1)/2),v==12&&(K=(Y=se)*he)),(he=s(pe+2*$+K))==null){v=1;break e}O.sd=he,11>v?((se=O.f.RGBA).eb=he,se.fb=0,se.A=te,se.size=pe):((se=O.f.kb).y=he,se.O=0,se.fa=te,se.Fd=pe,se.f=he,se.N=0+pe,se.Ab=S,se.Cd=$,se.ea=he,se.W=0+pe+$,se.Db=S,se.Ed=$,v==12&&(se.F=he,se.J=0+pe+2*$),se.Tc=K,se.lb=Y)}if(S=1,Y=O.S,$=O.width,K=O.height,Y>=wh&&13>Y)if(11>Y)v=O.f.RGBA,S&=(te=Math.abs(v.A))*(K-1)+$<=v.size,S&=te>=$*Hg[Y],S&=v.eb!=null;else{v=O.f.kb,te=($+1)/2,pe=(K+1)/2,se=Math.abs(v.fa),he=Math.abs(v.Ab);var Ue=Math.abs(v.Db),ze=Math.abs(v.lb),Be=ze*(K-1)+$;S&=se*(K-1)+$<=v.Fd,S&=he*(pe-1)+te<=v.Cd,S=(S&=Ue*(pe-1)+te<=v.Ed)&se>=$&he>=te&Ue>=te,S&=v.y!=null,S&=v.f!=null,S&=v.ea!=null,Y==12&&(S&=ze>=$,S&=Be<=v.Tc,S&=v.F!=null)}else S=0;v=S?0:2}}return v!=0||R!=null&&R.fd&&(v=Wc(O)),v}var Xi=64,Fu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sa=24,qo=32,Ou=8,bi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(v){return v},B.Predictor2=function(v,S,R){return S[R+0]},B.Predictor3=function(v,S,R){return S[R+1]},B.Predictor4=function(v,S,R){return S[R-1]},B.Predictor5=function(v,S,R){return ae(ae(v,S[R+1]),S[R+0])},B.Predictor6=function(v,S,R){return ae(v,S[R-1])},B.Predictor7=function(v,S,R){return ae(v,S[R+0])},B.Predictor8=function(v,S,R){return ae(S[R-1],S[R+0])},B.Predictor9=function(v,S,R){return ae(S[R+0],S[R+1])},B.Predictor10=function(v,S,R){return ae(ae(v,S[R-1]),ae(S[R+0],S[R+1]))},B.Predictor11=function(v,S,R){var O=S[R+0];return 0>=He(O>>24&255,v>>24&255,(S=S[R-1])>>24&255)+He(O>>16&255,v>>16&255,S>>16&255)+He(O>>8&255,v>>8&255,S>>8&255)+He(255&O,255&v,255&S)?O:v},B.Predictor12=function(v,S,R){var O=S[R+0];return(ee((v>>24&255)+(O>>24&255)-((S=S[R-1])>>24&255))<<24|ee((v>>16&255)+(O>>16&255)-(S>>16&255))<<16|ee((v>>8&255)+(O>>8&255)-(S>>8&255))<<8|ee((255&v)+(255&O)-(255&S)))>>>0},B.Predictor13=function(v,S,R){var O=S[R-1];return(Se((v=ae(v,S[R+0]))>>24&255,O>>24&255)<<24|Se(v>>16&255,O>>16&255)<<16|Se(v>>8&255,O>>8&255)<<8|Se(v>>0&255,O>>0&255))>>>0};var Vc=B.PredictorAdd0;B.PredictorAdd1=rt,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var qc=B.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var gh,$i=B.ColorIndexInverseTransform,Yc=B.MapARGB,Uu=B.VP8LColorIndexInverseTransformAlpha,Bs=B.MapAlpha,Mo=B.VP8LPredictorsAdd=[];Mo.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Bi,Zr,Aa,gs,Ma,Xl,Nn,ul,zu,Ea,ks,ei,Eo,lr,Br,yr,$l,Ki,ao,pr,gn,Ar,Hr,Yo,Qi,vs,Ca,vh,yh=s(511),Cg=s(2041),Tg=s(225),Lg=s(767),Rg=0,Vd=Cg,xh=Tg,ys=Lg,Zi=yh,wh=0,Hu=1,_h=2,Jc=3,Kl=4,qd=5,Pg=6,Yd=7,Jd=8,Xc=9,Xd=10,ov=[2,3,7],t_=[3,3,11],Bg=[280,256,256,256,40],n_=[0,1,1,1,0],r_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],av=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uv=8,$d=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$c=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bh=null,i_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],s_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],kg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],o_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cl=[],Co=[],Ta=[],La=1,Ig=2,To=[],es=[];Ze("UpsampleRgbLinePair",un,3),Ze("UpsampleBgrLinePair",Zn,3),Ze("UpsampleRgbaLinePair",oo,4),Ze("UpsampleBgraLinePair",ai,4),Ze("UpsampleArgbLinePair",Pr,4),Ze("UpsampleRgba4444LinePair",nr,2),Ze("UpsampleRgb565LinePair",qn,2);var Qd=B.UpsampleRgbLinePair,Zd=B.UpsampleBgrLinePair,Ng=B.UpsampleRgbaLinePair,Kc=B.UpsampleBgraLinePair,ki=B.UpsampleArgbLinePair,hv=B.UpsampleRgba4444LinePair,a_=B.UpsampleRgb565LinePair,ts=16,Si=1<<ts-1,Qc=-227,ep=482,Dg=6,dv=(256<<Dg)-1,Fg=0,Og=s(256),pv=s(256),Ug=s(256),mv=s(256),gv=s(ep-Qc),tp=s(ep-Qc);zr("YuvToRgbRow",un,3),zr("YuvToBgrRow",Zn,3),zr("YuvToRgbaRow",oo,4),zr("YuvToBgraRow",ai,4),zr("YuvToArgbRow",Pr,4),zr("YuvToRgba4444Row",nr,2),zr("YuvToRgb565Row",qn,2);var Sh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ah=[0,2,8],zg=[8,7,6,4,4,2,2,2,1,1,1,1],vv=1;this.WebPDecodeRGBA=function(v,S,R,O,Y){var $=Hu,K=new so,te=new At;K.ba=te,te.S=$,te.width=[te.width],te.height=[te.height];var se=te.width,he=te.height,pe=new pt;if(pe==null||v==null)var Ue=2;else e(pe!=null),Ue=Ji(v,S,R,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Ue!=0?se=0:(se!=null&&(se[0]=pe.width[0]),he!=null&&(he[0]=pe.height[0]),se=1),se){te.width=te.width[0],te.height=te.height[0],O!=null&&(O[0]=te.width),Y!=null&&(Y[0]=te.height);e:{if(O=new fn,(Y=new Du).data=v,Y.w=S,Y.ha=R,Y.kd=1,S=[0],e(Y!=null),((v=Ji(Y.data,Y.w,Y.ha,null,null,null,S,null,Y))==0||v==7)&&S[0]&&(v=4),(S=v)==0){if(e(K!=null),O.data=Y.data,O.w=Y.w+Y.offset,O.ha=Y.ha-Y.offset,O.put=ds,O.ac=On,O.bc=Ls,O.ma=K,Y.xa){if((v=an())==null){K=1;break e}if(function(ze,Be){var lt=[0],Ye=[0],Ce=[0];t:for(;;){if(ze==null)return 0;if(Be==null)return ze.a=2,0;if(ze.l=Be,ze.a=0,F(ze.m,Be.data,Be.w,Be.ha),!Kt(ze.m,lt,Ye,Ce)){ze.a=3;break t}if(ze.xb=Ig,Be.width=lt[0],Be.height=Ye[0],!cn(lt[0],Ye[0],1,ze,null))break t;return 1}return e(ze.a!=0),0}(v,O)){if(O=(S=Jl(O.width,O.height,K.Oa,K.ba))==0){t:{O=v;n:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((R=O.l)!=null),e((Y=R.ma)!=null),O.xb!=0){if(O.ca=Y.ba,O.tb=Y.tb,e(O.ca!=null),!jc(Y.Oa,R,Jc)){O.a=2;break n}if(!Vn(O,R.width)||R.da)break n;if((R.da||St(O.ca.S))&&Fe(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Fe()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!Ge(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!Qt(O,O.V,O.Ba,O.c,O.i,R.o,ot))break n;Y.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(S=v.a)}else S=v.a}else{if((v=new ga)==null){K=1;break e}if(v.Fa=Y.na,v.P=Y.P,v.qc=Y.Sa,va(v,O)){if((S=Jl(O.width,O.height,K.Oa,K.ba))==0){if(v.Aa=0,R=K.Oa,e((Y=v)!=null),R!=null){if(0<(se=0>(se=R.Md)?0:100<se?255:255*se/100)){for(he=pe=0;4>he;++he)12>(Ue=Y.pb[he]).lc&&(Ue.ia=se*zg[0>Ue.lc?0:Ue.lc]>>3),pe|=Ue.ia;pe&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=R.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}kc(v,O)||(S=v.a)}}else S=v.a}S==0&&K.Oa!=null&&K.Oa.fd&&(S=Wc(K.ba))}K=S}$=K!=0?null:11>$?te.f.RGBA.eb:te.f.kb.y}else $=null;return $};var Hg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(B,W){for(var G="",L=0;L<4;L++)G+=String.fromCharCode(B[W++]);return G}function c(B,W){return(B[W+0]<<0|B[W+1]<<8|B[W+2]<<16)>>>0}function h(B,W){return(B[W+0]<<0|B[W+1]<<8|B[W+2]<<16|B[W+3]<<24)>>>0}new l;var p=[0],m=[0],y=[],g=new l,x=n,w=function(B,W){var G={},L=0,P=!1,q=0,z=0;if(G.frames=[],!function(V,Q,ue,j){for(var we=0;we<j;we++)if(V[Q+we]!=ue.charCodeAt(we))return!0;return!1}(B,W,"RIFF",4)){var ne,re;for(h(B,W+=4),W+=8;W<B.length;){var le=u(B,W),F=h(B,W+=4);W+=4;var X=F+(1&F);switch(le){case"VP8 ":case"VP8L":G.frames[L]===void 0&&(G.frames[L]={}),(N=G.frames[L]).src_off=P?z:W-8,N.src_size=q+F+8,L++,P&&(P=!1,q=0,z=0);break;case"VP8X":(N=G.header={}).feature_flags=B[W];var ie=W+4;N.canvas_width=1+c(B,ie),ie+=3,N.canvas_height=1+c(B,ie),ie+=3;break;case"ALPH":P=!0,q=X+8,z=W-8;break;case"ANIM":(N=G.header).bgcolor=h(B,W),ie=W+4,N.loop_count=(ne=B)[(re=ie)+0]<<0|ne[re+1]<<8,ie+=2;break;case"ANMF":var ve,N;(N=G.frames[L]={}).offset_x=2*c(B,W),W+=3,N.offset_y=2*c(B,W),W+=3,N.width=1+c(B,W),W+=3,N.height=1+c(B,W),W+=3,N.duration=c(B,W),W+=3,ve=B[W++],N.dispose=1&ve,N.blend=ve>>1&1}le!="ANMF"&&(W+=X)}return G}}(x,0);w.response=x,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,A=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],m=[_.canvas_width];for(var C=0;C<A.length&&A[C].blend!=0;C++);}var T=A[0],D=g.WebPDecodeRGBA(x,T.src_off,T.src_size,m,p);T.rgba=D,T.imgwidth=m[0],T.imgheight=p[0];for(var I=0;I<m[0]*p[0]*4;I++)y[I]=D[I];return this.width=m,this.height=p,this.data=y,this}(function(n){var e=function(){return typeof AA=="function"},t=function(p,m,y,g){var x=4,w=o;switch(g){case n.image_compression.FAST:x=1,w=s;break;case n.image_compression.MEDIUM:x=6,w=a;break;case n.image_compression.SLOW:x=9,w=l}p=r(p,m,y,w);var _=AA(p,{level:x});return n.__addimage__.arrayBufferToBinaryString(_)},r=function(p,m,y,g){for(var x,w,_,A=p.length/m,C=new Uint8Array(p.length+A),T=c(),D=0;D<A;D+=1){if(_=D*m,x=p.subarray(_,_+m),g)C.set(g(x,y,w),_+D);else{for(var I,B=T.length,W=[];I<B;I+=1)W[I]=T[I](x,y,w);var G=h(W.concat());C.set(W[G],_+D)}w=x}return C},i=function(p){var m=Array.apply([],p);return m.unshift(0),m},s=function(p,m){var y,g=[],x=p.length;g[0]=1;for(var w=0;w<x;w+=1)y=p[w-m]||0,g[w+1]=p[w]-y+256&255;return g},o=function(p,m,y){var g,x=[],w=p.length;x[0]=2;for(var _=0;_<w;_+=1)g=y&&y[_]||0,x[_+1]=p[_]-g+256&255;return x},a=function(p,m,y){var g,x,w=[],_=p.length;w[0]=3;for(var A=0;A<_;A+=1)g=p[A-m]||0,x=y&&y[A]||0,w[A+1]=p[A]+256-(g+x>>>1)&255;return w},l=function(p,m,y){var g,x,w,_,A=[],C=p.length;A[0]=4;for(var T=0;T<C;T+=1)g=p[T-m]||0,x=y&&y[T]||0,w=y&&y[T-m]||0,_=u(g,x,w),A[T+1]=p[T]-_+256&255;return A},u=function(p,m,y){if(p===m&&m===y)return p;var g=Math.abs(m-y),x=Math.abs(p-y),w=Math.abs(p+m-y-y);return g<=x&&g<=w?p:x<=w?m:y},c=function(){return[i,s,o,a,l]},h=function(p){var m=p.map(function(y){return y.reduce(function(g,x){return g+Math.abs(x)},0)});return m.indexOf(Math.min.apply(null,m))};n.processPNG=function(p,m,y,g){var x,w,_,A,C,T,D,I,B,W,G,L,P,q,z,ne=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(_=new qie(p)).imgData,w=_.bits,x=_.colorSpace,C=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){B=(I=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,G=new Uint8Array(B*_.colors),W=new Uint8Array(B);var le,F=_.pixelBitlength-_.bits;for(q=0,z=0;q<B;q++){for(P=I[q],le=0;le<F;)G[z++]=P>>>le&255,le+=_.bits;W[q]=P>>>le&255}}if(_.bits===16){B=(I=new Uint32Array(_.decodePixels().buffer)).length,G=new Uint8Array(B*(32/_.pixelBitlength)*_.colors),W=new Uint8Array(B*(32/_.pixelBitlength)),L=_.colors>1,q=0,z=0;for(var X=0;q<B;)P=I[q++],G[z++]=P>>>0&255,L&&(G[z++]=P>>>16&255,P=I[q++],G[z++]=P>>>0&255),W[X++]=P>>>16&255;w=8}g!==n.image_compression.NONE&&e()?(p=t(G,_.width*_.colors,_.colors,g),D=t(W,_.width,1,g)):(p=G,D=W,ne=void 0)}if(_.colorType===3&&(x=this.color_spaces.INDEXED,T=_.palette,_.transparency.indexed)){var ie=_.transparency.indexed,ve=0;for(q=0,B=ie.length;q<B;++q)ve+=ie[q];if((ve/=255)===B-1&&ie.indexOf(0)!==-1)A=[ie.indexOf(0)];else if(ve!==B){for(I=_.decodePixels(),W=new Uint8Array(I.length),q=0,B=I.length;q<B;q++)W[q]=ie[I[q]];D=t(W,_.width,1)}}var N=function(V){var Q;switch(V){case n.image_compression.FAST:Q=11;break;case n.image_compression.MEDIUM:Q=13;break;case n.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(g);return ne===this.decode.FLATE_DECODE&&(re="/Predictor "+N+" "),re+="/Colors "+C+" /BitsPerComponent "+w+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:y,data:p,index:m,filter:ne,decodeParameters:re,transparency:A,palette:T,sMask:D,predictor:N,width:_.width,height:_.height,bitsPerComponent:w,colorSpace:x}}}})(rn.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new Yie(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new c5(100).encode(u,100);return n.processJPEG.call(this,c,t,r,i)},n.processGIF87A=n.processGIF89A}(rn.API),bl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){wr.log("bit decode error:"+t)}},bl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},bl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},bl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},bl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=n}},bl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=n}},bl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},bl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},bl.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new bl(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new c5(100).encode(l,100);return n.processJPEG.call(this,u,t,r,i)}}(rn.API),lR.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new lR(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new c5(100).encode(l,100);return n.processJPEG.call(this,u,t,r,i)}}(rn.API),rn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],h=r[u+1],p=r[u+2],m=r[u+3];s[a++]=c,s[a++]=h,s[a++]=p,o[l++]=m}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},rn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ip=rn.API,Jy=Ip.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,m=n.length,y=0,g=a[0]||l,x=[];for(t=0;t<m;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(p=h&&cr(u[r])==="object"&&!isNaN(parseInt(u[r][y],10))?u[r][y]/c:0,x.push((a[r]||g)/l+p)),y=r;return x},iR=Ip.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ip.processArabic&&(n=Ip.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Jy.apply(this,arguments).reduce(function(s,o){return s+o},0)},sR=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},oR=function(n,e,t){t||(t={});var r,i,s,o,a,l,u,c=[],h=[c],p=t.textIndent||0,m=0,y=0,g=n.split(" "),x=Jy.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var w=Array(l).join(" "),_=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?_=_.concat(C.map(function(T,D){return(D&&T.length?`
`:"")+T})):_.push(C[0])}),g=_,l=iR.apply(this,[w,t])}for(s=0,o=g.length;s<o;s++){var A=0;if(r=g[s],l&&r[0]==`
`&&(r=r.substr(1),A=1),p+m+(y=(i=Jy.apply(this,[r,t])).reduce(function(C,T){return C+T},0))>e||A){if(y>e){for(a=sR.apply(this,[r,i,e-(p+m),e]),c.push(a.shift()),c=[a.pop()];a.length;)h.push([a.shift()]);y=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(C,T){return C+T},0)}else c=[r];h.push(c),p=y+l,m=x}else c.push(r),p+=m+y,m=x}return u=l?function(C,T){return(T?w:"")+C.join(" ")}:function(C){return C.join(" ")},h.map(u)},Ip.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var h=this.internal.getFont(c.fontName,c.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(oR.apply(this,[r[a],o,s]));return u},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var p,m,y,g,x=["{"];for(var w in h){if(p=h[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=s(w).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof p=="number")p<0?(y=s(p).slice(3),g="-"):(y=s(p).slice(2),g=""),y=g+y.slice(0,-1)+r[y.slice(-1)];else{if(cr(p)!=="object")throw new Error("Don't know what to do with value type "+cr(p)+".");y=o(p)}x.push(m+y)}return x.push("}"),x.join("")},a=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,m,y,g,x={},w=1,_=x,A=[],C="",T="",D=h.length-1,I=1;I<D;I+=1)(g=h[I])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(A.push([_,y]),_={},y=void 0):g=="}"?((m=A.pop())[0][m[1]]=_,y=void 0,_=m[0]):g=="-"?w=-1:y===void 0?t.hasOwnProperty(g)?(C+=t[g],y=parseInt(C,16)*w,w=1,C=""):C+=g:t.hasOwnProperty(g)?(T+=t[g],_[y]=parseInt(T,16)*w,w=1,y=void 0,T=""):T+=g;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var p=h.font,m=c.Unicode[p.postScriptName];m&&(p.metadata.Unicode={},p.metadata.Unicode.widths=m.widths,p.metadata.Unicode.kerning=m.kerning);var y=u.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(rn.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(J0(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(rn),function(n){function e(){return(on.canvg?Promise.resolve(on.canvg):xA(()=>import("./index.es.6620acb5.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}rn.API.addSvgAsImage=function(t,r,i,s,o,a,l,u){if(isNaN(r)||isNaN(i))throw wr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw wr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=o;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(y){return y.fromString(h,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),r,i,s,o,l,u)})}}(),rn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},rn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,h=0;function p(y,g){var x,w=!1;for(x=0;x<y.length;x+=1)y[x]===g&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=a.length;for(h=0;h<m;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if(cr(n)==="object"){for(i in n)if(s=n[i],p(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&p(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?g.push("/"+y+" /"+t[y].value):g.push("/"+y+" "+t[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(rn.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],h=0,p=s.length;h<p;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(s){var o,a,l,u,c,h,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(a=Object.keys(s).sort(function(m,y){return m-y})).length;h<p;h++)o=a[h],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",y=0;y<p.length;y++)m+=String.fromCharCode(p[y]);var g=u();c({data:m,addLength1:!0,objectId:g}),l("endobj");var x=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Up(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Up(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Up(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var y=u();c({data:p,addLength1:!0,objectId:y}),l("endobj");var g=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var x=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Up(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Up(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},h=s.mutex||{},p=h.pdfEscape,m=h.activeFontKey,y=h.fonts,g=m,x="",w=0,_="",A=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:h};for(_=a,g=m,Array.isArray(a)&&(_=a[0]),w=0;w<_.length;w+=1)y[g].metadata.hasOwnProperty("cmap")&&(o=y[g].metadata.cmap.unicode.codeMap[_[w].charCodeAt(0)]),o||_[w].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?x+=_[w]:x+="";var C="";return parseInt(g.slice(1))<14||A==="WinAnsiEncoding"?C=p(x,g).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(C=t(x,y[g])),h.isHex=!0,{text:C,x:l,y:u,options:c,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(rn),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(rn.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,c,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,A=0;this.__bidiEngine__={};var C=function(L){var P=L.charCodeAt(),q=P>>8,z=g[q];return z!==void 0?h[256*z+(255&P)]:q===252||q===253?"AL":w.test(q)?"L":q===8?"R":"N"},T=function(L){for(var P,q=0;q<L.length;q++){if((P=C(L.charAt(q)))==="L")return!1;if(P==="R")return!0}return!1},D=function(L,P,q,z){var ne,re,le,F,X=P[z];switch(X){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(X="AN");break;case"AL":_=!0,X="R";break;case"WS":X="N";break;case"CS":z<1||z+1>=P.length||(ne=q[z-1])!=="EN"&&ne!=="AN"||(re=P[z+1])!=="EN"&&re!=="AN"?X="N":_&&(re="AN"),X=re===ne?re:"N";break;case"ES":X=(ne=z>0?q[z-1]:"B")==="EN"&&z+1<P.length&&P[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&q[z-1]==="EN"){X="EN";break}if(_){X="N";break}for(le=z+1,F=P.length;le<F&&P[le]==="ET";)le++;X=le<F&&P[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(F=P.length,le=z+1;le<F&&P[le]==="NSM";)le++;if(le<F){var ie=L[z],ve=ie>=1425&&ie<=2303||ie===64286;if(ne=P[le],ve&&(ne==="R"||ne==="AL")){X="R";break}}}X=z<1||(ne=P[z-1])==="B"?"N":q[z-1];break;case"B":_=!1,i=!0,X=A;break;case"S":s=!0,X="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":X="N"}return X},I=function(L,P,q){var z=L.split("");return q&&B(z,q,{hiLevel:A}),z.reverse(),P&&P.reverse(),z.join("")},B=function(L,P,q){var z,ne,re,le,F,X=-1,ie=L.length,ve=0,N=[],V=A?m:p,Q=[];for(_=!1,i=!1,s=!1,ne=0;ne<ie;ne++)Q[ne]=C(L[ne]);for(re=0;re<ie;re++){if(F=ve,N[re]=D(L,Q,N,re),z=240&(ve=V[F][y[N[re]]]),ve&=15,P[re]=le=V[ve][5],z>0)if(z===16){for(ne=X;ne<re;ne++)P[ne]=1;X=-1}else X=-1;if(V[ve][6])X===-1&&(X=re);else if(X>-1){for(ne=X;ne<re;ne++)P[ne]=le;X=-1}Q[re]==="B"&&(P[re]=0),q.hiLevel|=le}s&&function(ue,j,we){for(var me=0;me<we;me++)if(ue[me]==="S"){j[me]=A;for(var Ae=me-1;Ae>=0&&ue[Ae]==="WS";Ae--)j[Ae]=A}}(Q,P,ie)},W=function(L,P,q,z,ne){if(!(ne.hiLevel<L)){if(L===1&&A===1&&!i)return P.reverse(),void(q&&q.reverse());for(var re,le,F,X,ie=P.length,ve=0;ve<ie;){if(z[ve]>=L){for(F=ve+1;F<ie&&z[F]>=L;)F++;for(X=ve,le=F-1;X<le;X++,le--)re=P[X],P[X]=P[le],P[le]=re,q&&(re=q[X],q[X]=q[le],q[le]=re);ve=F}ve++}}},G=function(L,P,q){var z=L.split(""),ne={hiLevel:A};return q||(q=[]),B(z,q,ne),function(re,le,F){if(F.hiLevel!==0&&c)for(var X,ie=0;ie<re.length;ie++)le[ie]===1&&(X=x.indexOf(re[ie]))>=0&&(re[ie]=x[X+1])}(z,q,ne),W(2,z,P,q,ne),W(1,z,P,q,ne),z.join("")};return this.__bidiEngine__.doBidiReorder=function(L,P,q){if(function(ne,re){if(re)for(var le=0;le<ne.length;le++)re[le]=le;a===void 0&&(a=T(ne)),u===void 0&&(u=T(ne))}(L,P),o||!l||u)if(o&&l&&a^u)A=a?1:0,L=I(L,P,q);else if(!o&&l&&u)A=a?1:0,L=G(L,P,q),L=I(L,P);else if(!o||a||l||u){if(o&&!l&&a^u)L=I(L,P),a?(A=0,L=G(L,P,q)):(A=1,L=G(L,P,q),L=I(L,P));else if(o&&a&&!l&&u)A=1,L=G(L,P,q),L=I(L,P);else if(!o&&!l&&a^u){var z=c;a?(A=1,L=G(L,P,q),A=0,c=!1,L=G(L,P,q),c=z):(A=0,L=G(L,P,q),L=I(L,P),A=1,c=!1,L=G(L,P,q),c=z,L=I(L,P))}}else A=0,L=G(L,P,q);else A=a?1:0,L=G(L,P,q);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,l=L.isOutputVisual,a=L.isInputRtl,u=L.isOutputRtl,c=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(rn),rn.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new nh(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new lse(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Jie(this.contents),this.head=new $ie(this),this.name=new tse(this),this.cmap=new BF(this),this.toUnicode={},this.hhea=new Kie(this),this.maxp=new nse(this),this.hmtx=new rse(this),this.post=new Zie(this),this.os2=new Qie(this),this.loca=new ase(this),this.glyf=new ise(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var jl,nh=function(){function n(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),Jie=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,l,u,c,h,p,m,y,g;for(g in m=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(m)/l),o=Math.floor(h/l),c=16*m-h,(i=new nh).writeInt(this.scalarType),i.writeShort(m),i.writeShort(h),i.writeShort(o),i.writeShort(c),s=16*m,u=i.pos+s,a=null,y=[],t)for(p=t[g],i.writeString(g),i.writeInt(n(p)),i.writeInt(u),i.writeInt(p.length),y=y.concat(p),g==="head"&&(a=u),u+=p.length;u%4;)y.push(0),u++;return i.write(y),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=kF.call(t);t.length%4;)t.push(0);for(s=new nh(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Xie={}.hasOwnProperty,Cu=function(n,e){for(var t in e)Xie.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};jl=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var $ie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Cu(e,jl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new nh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),uR=function(){function n(e,t){var r,i,s,o,a,l,u,c,h,p,m,y,g,x,w,_,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),p=m/2,e.pos+=6,s=function(){var C,T;for(T=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)T.push(e.readUInt16());return T}(),e.pos+=2,g=function(){var C,T;for(T=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)T.push(e.readUInt16());return T}(),u=function(){var C,T;for(T=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)T.push(e.readUInt16());return T}(),c=function(){var C,T;for(T=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)T.push(e.readUInt16());return T}(),i=(this.length-e.pos+this.offset)/2,a=function(){var C,T;for(T=[],l=C=0;0<=i?C<i:C>i;l=0<=i?++C:--C)T.push(e.readUInt16());return T}(),l=w=0,A=s.length;w<A;l=++w)for(x=s[l],r=_=y=g[l];y<=x?_<=x:_>=x;r=y<=x?++_:--_)c[l]===0?o=r+u[l]:(o=a[c[l]/2+(r-y)-(p-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=h}return n.encode=function(e,t){var r,i,s,o,a,l,u,c,h,p,m,y,g,x,w,_,A,C,T,D,I,B,W,G,L,P,q,z,ne,re,le,F,X,ie,ve,N,V,Q,ue,j,we,me,Ae,Te,De,xe;switch(z=new nh,o=Object.keys(e).sort(function(Me,Ge){return Me-Ge}),t){case"macroman":for(g=0,x=function(){var Me=[];for(y=0;y<256;++y)Me.push(0);return Me}(),_={0:0},s={},ne=0,X=o.length;ne<X;ne++)_[Ae=e[i=o[ne]]]==null&&(_[Ae]=++g),s[i]={old:e[i],new:_[e[i]]},x[i]=_[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(x),{charMap:s,subtable:z.data,maxGlyphID:g+1};case"unicode":for(P=[],h=[],A=0,_={},r={},w=u=null,re=0,ie=o.length;re<ie;re++)_[T=e[i=o[re]]]==null&&(_[T]=++A),r[i]={old:T,new:_[T]},a=_[T]-i,w!=null&&a===u||(w&&h.push(w),P.push(i),u=a),w=i;for(w&&h.push(w),h.push(65535),P.push(65535),G=2*(W=P.length),B=2*Math.pow(Math.log(W)/Math.LN2,2),p=Math.log(B/2)/Math.LN2,I=2*W-B,l=[],D=[],m=[],y=le=0,ve=P.length;le<ve;y=++le){if(L=P[y],c=h[y],L===65535){l.push(0),D.push(0);break}if(L-(q=r[L].new)>=32768)for(l.push(0),D.push(2*(m.length+W-y)),i=F=L;L<=c?F<=c:F>=c;i=L<=c?++F:--F)m.push(r[i].new);else l.push(q-L),D.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*W+2*m.length),z.writeUInt16(0),z.writeUInt16(G),z.writeUInt16(B),z.writeUInt16(p),z.writeUInt16(I),we=0,N=h.length;we<N;we++)i=h[we],z.writeUInt16(i);for(z.writeUInt16(0),me=0,V=P.length;me<V;me++)i=P[me],z.writeUInt16(i);for(Te=0,Q=l.length;Te<Q;Te++)a=l[Te],z.writeUInt16(a);for(De=0,ue=D.length;De<ue;De++)C=D[De],z.writeUInt16(C);for(xe=0,j=m.length;xe<j;xe++)g=m[xe],z.writeUInt16(g);return{charMap:r,subtable:z.data,maxGlyphID:A+1}}},n}(),BF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Cu(e,jl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new uR(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=uR.encode(t,r),(s=new nh).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Kie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Cu(e,jl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Qie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Cu(e,jl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Zie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Cu(e,jl),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=function(){var a,l,u;for(u=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)u.push(t.readUInt32());return u}.call(this)}},e}(),ese=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},tse=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Cu(e,jl),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,u,c,h,p,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(u={},o=h=0,p=i.length;h<p;o=++h)s=i[o],t.pos=s.offset,c=t.readString(s.length),a=new ese(c,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),nse=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Cu(e,jl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),rse=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Cu(e,jl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,o,a,l,u;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,h;for(h=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)h.push(t.readInt16());return h}(),this.widths=function(){var c,h,p,m;for(m=[],c=0,h=(p=this.metrics).length;c<h;c++)o=p[c],m.push(o.advance);return m}.call(this),i=this.widths[this.widths.length-1],u=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),kF=[].slice,ise=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Cu(e,jl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,u,c,h,p;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new nh(r.read(s))).readShort(),c=l.readShort(),p=l.readShort(),u=l.readShort(),h=l.readShort(),this.cache[t]=a===-1?new ose(l,c,p,u,h):new sse(l,a,c,p,u,h),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,u;for(a=[],o=[],l=0,u=r.length;l<u;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),sse=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),ose=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new nh(kF.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),ase=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Cu(e,jl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],u=this.offsets[a+1]-l;u>0&&(s+=u)}for(var c=new Array(4*i.length),h=0;h<i.length;++h)c[4*h+3]=255&i[h],c[4*h+2]=(65280&i[h])>>8,c[4*h+1]=(16711680&i[h])>>16,c[4*h]=(4278190080&i[h])>>24;return c},e}(),lse=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,l,u,c,h,p,m,y,g,x,w;for(i in r=BF.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},w=r.charMap)m[(l=w[i]).old]=l.new;for(y in p=r.maxGlyphID,o)y in m||(m[y]=p++);return c=function(_){var A,C;for(A in C={},_)C[_[A]]=A;return C}(m),h=Object.keys(c).sort(function(_,A){return _-A}),g=function(){var _,A,C;for(C=[],_=0,A=h.length;_<A;_++)a=h[_],C.push(c[a]);return C}(),s=this.font.glyf.encode(o,g,m),u=this.font.loca.encode(s.offsets,g),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},n}();rn.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,l,u;for(u=[],a=0,l=t.length;a<l;a++)r=t[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();const use=()=>{const[n,e]=Z.exports.useState("all"),t=mt(o=>o.floors),r=mt(o=>o.offerte.generatePdf),i=mt(o=>o.updateObject);mt(o=>o.offerte);const s=async()=>{i("offerte","generatePdf",!0),new rn().html(document.body,{callback:function(a){a.save(),i("offerte","generatePdf",!1)},x:0,y:0,width:200,windowWidth:1500,margin:5,autoPaging:!0})};return Ie($n,{children:[!r&&Ie(cse,{children:[H("button",{style:{background:n==="all"&&"#ea7232"},onClick:()=>e("all"),children:"alle vloeren"}),t.map((o,a)=>Ie("button",{style:{background:n===o.id&&"#ea7232"},onClick:()=>e(o.id),children:["vloer ",a+1]},o.id))]}),t.map((o,a)=>{if(o.id===n)return H(z4,{floors:[o],handleDownloadPdf:s,index:a+1});if(n==="all")return H(z4,{floors:[o],handleDownloadPdf:s,index:a+1})})]})},cse=ke.div`
  display: flex;
  gap: 20px;
  margin: 30px 30px 0;

  button {
    padding: 8px;
    background:   ;
    background: #B7B7B7;
    border: none;
    cursor: pointer;
    color: white;
    text-transform: uppercase;
    border-radius: 0;
    
    &:hover {
      background: #ea7232;
    }
  }
`;var fse=[{id:1,offertenummer:"2022-1002",offertes:[{offertevloer:"2022-1002/1",aantal:13,omschrijving:"Eik Gebarsten Terra LD 150 Premium 6439",btw:"21%",prijsPerDoos:57.99,totaal:753.83},{offertevloer:"2022-1002/2",aantal:11,omschrijving:"Eik Gebarsten Licht LC55 6258",btw:"21%",prijsPerDoos:50.37,totaal:554.04},{offertevloer:"2022-1002/3",aantal:13,omschrijving:"Eik Relax Pure LD150 Premium 6863",btw:"21%",prijsPerDoos:57.99,totaal:753.83}],beginDatum:"20/06/2022",vervalDatum:"30/06/2022",notities:"Geen Notities ingevoerd",meters:33},{id:2,offertenummer:"2022-1003",offertes:[{offertevloer:"2022-1003/1",aantal:49,omschrijving:"Eik Gebarsten Terra LD 150 Premium 6439",btw:"21%",prijsPerDoos:57.99,totaal:2841.36},{offertevloer:"2022-1003/2",aantal:49,omschrijving:"Eik Caledonia LD150 Premium 6421",btw:"21%",prijsPerDoos:57.99,totaal:2841.36},{offertevloer:"2022-1003/3",aantal:41,omschrijving:"Eik Marrakech LC55 6396",btw:"21%",prijsPerDoos:50.37,totaal:2065.07},{offertevloer:"2022-1003/4",aantal:46,omschrijving:"Veldeik licht LL150 Premium 6843",btw:"21%",prijsPerDoos:77.48,totaal:3564.03},{offertevloer:"2022-1003/5",aantal:49,omschrijving:"parky 0003 europian oak premium swing q01",btw:"21%",prijsPerDoos:57.99,totaal:2841.36}],beginDatum:"20/06/2022",vervalDatum:"30/06/2022",notities:"Geen Notities ingevoerd",meters:124},{id:3,offertenummer:"2022-1003",offertes:[{offertevloer:"2022-1003/1",aantal:13,omschrijving:"Eik Gebarsten Terra LD 150 Premium 6439",btw:"21%",prijsPerDoos:57.99,totaal:753.83},{offertevloer:"2022-1003/2",aantal:11,omschrijving:"Eik Gebarsten Licht LC55 6258",btw:"21%",prijsPerDoos:50.37,totaal:554.04},{offertevloer:"2022-1003/3",aantal:13,omschrijving:"Eik Relax Pure LD150 Premium 6863",btw:"21%",prijsPerDoos:57.99,totaal:753.83}],beginDatum:"20/06/2022",vervalDatum:"30/06/2022",notities:"Geen Notities ingevoerd",meters:33},{id:4,offertenummer:"2022-1004",offertes:[{offertevloer:"2022-1004/1",aantal:49,omschrijving:"Eik Gebarsten Terra LD 150 Premium 6439",btw:"21%",prijsPerDoos:57.99,totaal:2841.36},{offertevloer:"2022-1004/2",aantal:49,omschrijving:"Eik Caledonia LD150 Premium 6421",btw:"21%",prijsPerDoos:57.99,totaal:2841.36},{offertevloer:"2022-1004/3",aantal:41,omschrijving:"Eik Marrakech LC55 6396",btw:"21%",prijsPerDoos:50.37,totaal:2065.07},{offertevloer:"2022-1004/4",aantal:46,omschrijving:"Veldeik licht LL150 Premium 6843",btw:"21%",prijsPerDoos:77.48,totaal:3564.03},{offertevloer:"2022-1004/5",aantal:49,omschrijving:"parky 0003 europian oak premium swing q01",btw:"21%",prijsPerDoos:57.99,totaal:2841.36}],beginDatum:"20/06/2022",vervalDatum:"30/06/2022",notities:"Geen Notities ingevoerd",meters:124}];const hse=()=>{let n=Ka();return H(dse,{children:Ie(pse,{children:[H(mse,{onClick:()=>n("/"),children:"Terug keren"}),H(gse,{children:H(vse,{type:"text",name:"search",id:"search",placeholder:"offerte nummer..."})}),H(yse,{children:fse.map(e=>Ie("div",{children:[H("p",{children:e.offertenummer}),H("p",{children:e.beginDatum}),H("p",{children:e.vervalDatum}),H("p",{children:e.notities}),H("p",{children:e.meters})]},e.key))})]})})},dse=ke.div`
  display: flex;
  justify-content: center;
  margin: 4rem;
  margin-top: 7rem;
`,pse=ke.div`
  width: 100%;
  display: flex;
  flex-flow: column;
  justify-content: center;
  align-items: center;
`,mse=ke.button`
  position: absolute;
  top: 40px;
  left: 40px;
`,gse=ke.div`
  margin-bottom: 20px;
`,vse=ke.input`
  width: 400px;
  margin-bottom: 20px;
  padding: 10px;
`,yse=ke.div`
  width: 100%;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
`,xse=()=>{const n=Ka();return Z.exports.useEffect(()=>{localStorage.getItem("device")==="screen"&&n("/screen")},[]),Ie(I8,{children:[H(ru,{path:"/",element:H(qH,{})}),H(ru,{path:"/screen",element:H(eee,{})}),H(ru,{path:"/config",element:H(WZ,{})}),H(ru,{path:"/filters",element:H(Aee,{})}),H(ru,{path:"/door-filters",element:H(Jee,{})}),H(ru,{path:"/view",element:H(xre,{})}),H(ru,{path:"/door",element:H(Cre,{})}),H(ru,{path:"/offerte",element:H(use,{})}),H(ru,{path:"/offerte-zoeken",element:H(hse,{})})]})},wse=Boolean(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _se(n){if("serviceWorker"in navigator){if(new URL({}.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t=`${{}.PUBLIC_URL}/service-worker.js`;wse?(bse(t,n),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):IF(t,n)})}}function IF(n,e){navigator.serviceWorker.register(n).then(t=>{t.onupdatefound=()=>{const r=t.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}}).catch(t=>{console.error("Error during service worker registration:",t)})}function bse(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then(t=>{const r=t.headers.get("content-type");t.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):IF(n,e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const Sse=f5.createRoot(document.getElementById("root"));Sse.render(H(D1.StrictMode,{children:H(N8,{children:H(xse,{})})}));_se();export{wn as _};
